/*! For license information please see 2.d5a6642d.chunk.js.LICENSE.txt */
(this.webpackJsonpresume=this.webpackJsonpresume||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(71)},function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return U})),n.d(t,"g",(function(){return K})),n.d(t,"h",(function(){return q})),n.d(t,"i",(function(){return Y})),n.d(t,"j",(function(){return te})),n.d(t,"k",(function(){return ne})),n.d(t,"l",(function(){return ee})),n.d(t,"m",(function(){return re})),n.d(t,"n",(function(){return R})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return L})),n.d(t,"q",(function(){return V})),n.d(t,"r",(function(){return P})),n.d(t,"s",(function(){return oe})),n.d(t,"t",(function(){return J})),n.d(t,"u",(function(){return $})),n.d(t,"v",(function(){return X})),n.d(t,"w",(function(){return j})),n.d(t,"x",(function(){return B})),n.d(t,"y",(function(){return l})),n.d(t,"z",(function(){return z})),n.d(t,"A",(function(){return x})),n.d(t,"B",(function(){return W})),n.d(t,"C",(function(){return Q})),n.d(t,"D",(function(){return G})),n.d(t,"E",(function(){return b})),n.d(t,"F",(function(){return _})),n.d(t,"G",(function(){return s})),n.d(t,"H",(function(){return I})),n.d(t,"I",(function(){return w})),n.d(t,"J",(function(){return A})),n.d(t,"K",(function(){return d})),n.d(t,"L",(function(){return f})),n.d(t,"M",(function(){return g})),n.d(t,"N",(function(){return p})),n.d(t,"O",(function(){return C})),n.d(t,"P",(function(){return u})),n.d(t,"Q",(function(){return h})),n.d(t,"R",(function(){return k})),n.d(t,"S",(function(){return S})),n.d(t,"T",(function(){return T}));var r=n(3),o=n(6),i=n(2),a=n(31),s=function(e){return function(){return e}}(!0),u=function(){};var c=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;function l(e,t,n){if(!t(e))throw new Error(n)}var f=function(e,t){Object(o.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},h=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function p(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function d(e){var t=!1;return function(){t||(t=!0,e())}}var y=function(e){throw e},m=function(e){return{value:e,done:!0}};function g(e,t,n){void 0===t&&(t=y),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:m,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function v(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var b=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},w=function(e){return Array.apply(null,new Array(e))},E=function(e){return function(t){return e(Object.defineProperty(t,r.f,{value:!0}))}},T=function(e){return e===r.k},S=function(e){return e===r.j},C=function(e){return T(e)||S(e)};function I(e,t){var n=Object.keys(e),r=n.length;var o,a=0,s=Object(i.a)(e)?w(r):{},c={};return n.forEach((function(e){var n=function(n,i){o||(i||C(n)?(t.cancel(),t(n,i)):(s[e]=n,++a===r&&(o=!0,t(s))))};n.cancel=u,c[e]=n})),t.cancel=function(){o||(o=!0,n.forEach((function(e){return c[e].cancel()})))},c}function _(e){return{name:e.name||"anonymous",location:k(e)}}function k(e){return e[r.g]}var N={isEmpty:s,put:u,take:u};function D(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,o=0,i=0,a=function(t){n[o]=t,o=(o+1)%e,r++},s=function(){if(0!=r){var t=n[i];return n[i]=null,r--,i=(i+1)%e,t}},u=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<e)a(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=s,i=o=(o+1)%e;break;case 4:c=2*e,n=u(),r=n.length,o=n.length,i=0,n.length=c,e=c,a(s)}},take:s,flush:u}}var A=function(){return N},O=function(e){return D(e,3)},x=function(e){return D(e,4)},P="TAKE",R="PUT",M="ALL",L="RACE",F="CALL",j="CPS",U="FORK",q="JOIN",B="CANCEL",V="SELECT",z="ACTION_CHANNEL",W="CANCELLED",Q="FLUSH",K="GET_CONTEXT",G="SET_CONTEXT",H=function(e,t){var n;return(n={})[r.c]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function Y(e,t){return void 0===e&&(e="*"),Object(i.i)(e)?H(P,{pattern:e}):Object(i.f)(e)&&Object(i.g)(t)&&Object(i.i)(t)?H(P,{channel:e,pattern:t}):Object(i.b)(e)?H(P,{channel:e}):void 0}function $(e,t){return Object(i.n)(t)&&(t=e,e=void 0),H(R,{channel:e,action:t})}function X(e){var t=H(M,e);return t.combinator=!0,t}function J(e){var t=H(L,e);return t.combinator=!0,t}function Z(e,t){var n,r=null;return Object(i.d)(e)?n=e:(Object(i.a)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Object(i.k)(n)&&Object(i.d)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(F,Z(e,n))}function te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(U,Z(e,n))}function ne(e){return void 0===e&&(e=r.h),H(B,e)}function re(e,t){return H(z,{pattern:e,buffer:t})}var oe=ee.bind(null,a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return o}));var r=n(3),o=function(e){return null===e||void 0===e},i=function(e){return null!==e&&void 0!==e},a=function(e){return"function"===typeof e},s=function(e){return"string"===typeof e},u=Array.isArray,c=function(e){return e&&!u(e)&&"object"===typeof e},l=function(e){return e&&a(e.then)},f=function(e){return e&&a(e.next)&&a(e.throw)},h=function e(t){return t&&(s(t)||y(t)||a(t)||u(t)&&t.every(e))},p=function(e){return e&&a(e.take)&&a(e.close)},d=function(e){return a(e)&&e.hasOwnProperty("toString")},y=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},m=function(e){return p(e)&&e[r.e]},g=function(e){return e&&e[r.c]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return p}));var r=function(e){return"@@redux-saga/"+e},o=r("CANCEL_PROMISE"),i=r("CHANNEL_END"),a=r("IO"),s=r("MATCH"),u=r("MULTICAST"),c=r("SAGA_ACTION"),l=r("SELF_CANCELLATION"),f=r("TASK"),h=r("TASK_CANCEL"),p=r("TERMINATE"),d=r("LOCATION")},,function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(145)},function(e,t,n){e.exports=n(72)()},function(e,t,n){"use strict";n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return i})),n.d(t,"applyMiddleware",(function(){return m})),n.d(t,"bindActionCreators",(function(){return f})),n.d(t,"combineReducers",(function(){return c})),n.d(t,"compose",(function(){return y})),n.d(t,"createStore",(function(){return s}));var r=n(39),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var o;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],f=l,h=!1;function p(){f===l&&(f=l.slice())}function d(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function y(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),f.push(e),function(){if(t){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var n=f.indexOf(e);f.splice(n,1),l=null}}}function m(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,c=u(c,e)}finally{h=!1}for(var t=l=f,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,m({type:i.REPLACE})}function v(){var e,t=y;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return m({type:i.INIT}),(o={dispatch:m,subscribe:y,getState:d,replaceReducer:g})[r.a]=v,o}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(c){a=c}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},i=0;i<s.length;i++){var c=s[i],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){var p=u(c,t);throw new Error(p)}o[c]=h,r=r||h!==f}return(r=r||s.length!==Object.keys(e).length)?o:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"===typeof e)return l(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"===typeof o&&(n[r]=l(o,t))}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return d({},n,{dispatch:r=y.apply(void 0,i)(n.dispatch)})}}}},function(e,t,n){var r=n(115);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return i}))},function(e,t,n){var r=n(51),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.v})),n.d(t,"b",(function(){return o.u})),n.d(t,"c",(function(){return l}));n(3),n(6);var r=n(2),o=n(1),i=(n(31),function(e){return{done:!0,value:e}}),a={};function s(e){return Object(r.b)(e)?"channel":Object(r.l)(e)?String(e):Object(r.d)(e)?e.name:String(e)}function u(e,t,n){var r,s,u,c=t;function l(t,n){if(c===a)return i(t);if(n&&!s)throw c=a,n;r&&r(t);var o=n?e[s](n):e[c]();return c=o.nextState,u=o.effect,r=o.stateUpdater,s=o.errorState,c===a?i(t):u}return Object(o.M)(l,(function(e){return l(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,c,l={done:!1,value:Object(o.i)(e)},f=function(e){return{done:!1,value:o.j.apply(void 0,[t].concat(r,[e]))}},h=function(e){return{done:!1,value:Object(o.k)(e)}},p=function(e){return a=e},d=function(e){return c=e};return u({q1:function(){return{nextState:"q2",effect:l,stateUpdater:d}},q2:function(){return a?{nextState:"q3",effect:h(a)}:{nextState:"q1",effect:f(c),stateUpdater:p}},q3:function(){return{nextState:"q1",effect:f(c),stateUpdater:p}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return o.j.apply(void 0,[c,e,t].concat(r))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return w}));var r=n(0),o=n.n(r),i=(n(8),o.a.createContext(null));var a=function(e){e()},s={notify:function(){}};function u(){var e=a,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var c=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=u())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var l=function(e){var t=e.store,n=e.context,a=e.children,s=Object(r.useMemo)((function(){var e=new c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,u]);var l=n||i;return o.a.createElement(l.Provider,{value:s},a)},f=(n(6),n(11),n(38),n(37),"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect);n(9);function h(){return Object(r.useContext)(i)}function p(e){void 0===e&&(e=i);var t=e===i?h:function(){return Object(r.useContext)(e)};return function(){return t().store}}var d=p();function y(e){void 0===e&&(e=i);var t=e===i?d:p(e);return function(){return t().dispatch}}var m=y(),g=function(e,t){return e===t};function v(e){void 0===e&&(e=i);var t=e===i?h:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=g);var o=t();return function(e,t,n,o){var i,a=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return new c(n,o)}),[n,o]),u=Object(r.useRef)(),l=Object(r.useRef)(),h=Object(r.useRef)();try{i=e!==l.current||u.current?e(n.getState()):h.current}catch(p){throw u.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),p}return f((function(){l.current=e,h.current=i,u.current=void 0})),f((function(){function e(){try{var e=l.current(n.getState());if(t(e,h.current))return;h.current=e}catch(p){u.current=p}a({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),i}(e,n,o.store,o.subscription)}}var b,w=v(),E=n(24);b=E.unstable_batchedUpdates,a=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return K})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return C}));var r=n(0),o=n.n(r),i=(n(8),n(20)),a=n.n(i),s=n(59),u=n.n(s),c=n(30),l=function(e,t){return e.substr(0,t.length)===t},f=function(e,t){for(var n=void 0,r=void 0,o=t.split("?")[0],i=b(o),s=""===i[0],u=v(e),c=0,l=u.length;c<l;c++){var f=!1,h=u[c].route;if(h.default)r={route:h,params:{},uri:t};else{for(var p=b(h.path),y={},g=Math.max(i.length,p.length),w=0;w<g;w++){var T=p[w],S=i[w];if(m(T)){y[T.slice(1)||"*"]=i.slice(w).map(decodeURIComponent).join("/");break}if(void 0===S){f=!0;break}var C=d.exec(T);if(C&&!s){-1===E.indexOf(C[1])||a()(!1);var I=decodeURIComponent(S);y[C[1]]=I}else if(T!==S){f=!0;break}}if(!f){n={route:h,params:y,uri:"/"+i.slice(0,w).join("/")};break}}}return n||r||null},h=function(e,t){if(l(e,"/"))return e;var n=e.split("?"),r=n[0],o=n[1],i=t.split("?")[0],a=b(r),s=b(i);if(""===a[0])return w(i,o);if(!l(a[0],".")){var u=s.concat(a).join("/");return w(("/"===i?"":"/")+u,o)}for(var c=s.concat(a),f=[],h=0,p=c.length;h<p;h++){var d=c[h];".."===d?f.pop():"."!==d&&f.push(d)}return w("/"+f.join("/"),o)},p=function(e,t){return"/"+b(e).map((function(e){var n=d.exec(e);return n?t[n[1]]:e})).join("/")},d=/^:(.+)/,y=function(e){return d.test(e)},m=function(e){return e&&"*"===e[0]},g=function(e,t){return{route:e,score:e.default?0:b(e.path).reduce((function(e,t){return e+=4,!function(e){return""===e}(t)?y(t)?e+=2:m(t)?e-=5:e+=3:e+=1,e}),0),index:t}},v=function(e){return e.map(g).sort((function(e,t){return e.score<t.score?1:e.score>t.score?-1:e.index-t.index}))},b=function(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")},w=function(e,t){return e+(t?"?"+t:"")},E=["uri","path"],T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(e){var t=e.location,n=t.search,r=t.hash,o=t.href,i=t.origin,a=t.protocol,s=t.host,u=t.hostname,c=t.port,l=e.location.pathname;!l&&o&&I&&(l=new URL(o).pathname);return{pathname:encodeURI(decodeURI(l)),search:n,hash:r,href:o,origin:i,protocol:a,host:s,hostname:u,port:c,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}},C=function(e,t){var n=[],r=S(e),o=!1,i=function(){};return{get location(){return r},get transitioning(){return o},_onTransitionComplete:function(){o=!1,i()},listen:function(t){n.push(t);var o=function(){r=S(e),t({location:r,action:"POP"})};return e.addEventListener("popstate",o),function(){e.removeEventListener("popstate",o),n=n.filter((function(e){return e!==t}))}},navigate:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.state,u=a.replace,c=void 0!==u&&u;if("number"===typeof t)e.history.go(t);else{s=T({},s,{key:Date.now()+""});try{o||c?e.history.replaceState(s,null,t):e.history.pushState(s,null,t)}catch(f){e.location[c?"replace":"assign"](t)}}r=S(e),o=!0;var l=new Promise((function(e){return i=e}));return n.forEach((function(e){return e({location:r,action:"PUSH"})})),l}}},I=!("undefined"===typeof window||!window.document||!window.document.createElement),_=C(I?window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.indexOf("?"),n={pathname:t>-1?e.substr(0,t):e,search:t>-1?e.substr(t):""},r=0,o=[n],i=[null];return{get location(){return o[r]},addEventListener:function(e,t){},removeEventListener:function(e,t){},history:{get entries(){return o},get index(){return r},get state(){return i[r]},pushState:function(e,t,n){var a=n.split("?"),s=a[0],u=a[1],c=void 0===u?"":u;r++,o.push({pathname:s,search:c.length?"?"+c:c}),i.push(e)},replaceState:function(e,t,n){var a=n.split("?"),s=a[0],u=a[1],c=void 0===u?"":u;o[r]={pathname:s,search:c},i[r]=e},go:function(e){var t=r+e;t<0||t>i.length-1||(r=t)}}}}()),k=(_.navigate,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});function N(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=function(e,t){var n=u()(t);return n.displayName=e,n},P=x("Location"),R=function(e){var t=e.children;return o.a.createElement(P.Consumer,null,(function(e){return e?t(e):o.a.createElement(M,null,t)}))},M=function(e){function t(){var n,r;D(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=A(this,e.call.apply(e,[this].concat(i))),r.state={context:r.getContext(),refs:{unlisten:null}},A(r,n)}return O(t,e),t.prototype.getContext=function(){var e=this.props.history;return{navigate:e.navigate,location:e.location}},t.prototype.componentDidCatch=function(e,t){if(!H(e))throw e;(0,this.props.history.navigate)(e.uri,{replace:!0})},t.prototype.componentDidUpdate=function(e,t){t.context.location!==this.state.context.location&&this.props.history._onTransitionComplete()},t.prototype.componentDidMount=function(){var e=this,t=this.state.refs,n=this.props.history;n._onTransitionComplete(),t.unlisten=n.listen((function(){Promise.resolve().then((function(){requestAnimationFrame((function(){e.unmounted||e.setState((function(){return{context:e.getContext()}}))}))}))}))},t.prototype.componentWillUnmount=function(){var e=this.state.refs;this.unmounted=!0,e.unlisten()},t.prototype.render=function(){var e=this.state.context,t=this.props.children;return o.a.createElement(P.Provider,{value:e},"function"===typeof t?t(e):t||null)},t}(o.a.Component);M.defaultProps={history:_};var L=x("Base",{baseuri:"/",basepath:"/"}),F=function(e){return o.a.createElement(L.Consumer,null,(function(t){return o.a.createElement(R,null,(function(n){return o.a.createElement(j,k({},t,n,e))}))}))},j=function(e){function t(){return D(this,t),A(this,e.apply(this,arguments))}return O(t,e),t.prototype.render=function(){var e=this.props,t=e.location,n=e.navigate,r=e.basepath,i=e.primary,a=e.children,s=(e.baseuri,e.component),u=void 0===s?"div":s,c=N(e,["location","navigate","basepath","primary","children","baseuri","component"]),l=o.a.Children.toArray(a).reduce((function(e,t){var n=J(r)(t);return e.concat(n)}),[]),p=t.pathname,d=f(l,p);if(d){var y=d.params,m=d.uri,g=d.route,v=d.route.value;r=g.default?r:g.path.replace(/\*$/,"");var b=k({},y,{uri:m,location:t,navigate:function(e,t){return n(h(e,m),t)}}),w=o.a.cloneElement(v,b,v.props.children?o.a.createElement(F,{location:t,primary:i},v.props.children):void 0),E=i?q:u,T=i?k({uri:m,location:t,component:u},c):c;return o.a.createElement(L.Provider,{value:{baseuri:m,basepath:r}},o.a.createElement(E,T,w))}return null},t}(o.a.PureComponent);j.defaultProps={primary:!0};var U=x("Focus"),q=function(e){var t=e.uri,n=e.location,r=e.component,i=N(e,["uri","location","component"]);return o.a.createElement(U.Consumer,null,(function(e){return o.a.createElement(z,k({},i,{component:r,requestFocus:e,uri:t,location:n}))}))},B=!0,V=0,z=function(e){function t(){var n,r;D(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=A(this,e.call.apply(e,[this].concat(i))),r.state={},r.requestFocus=function(e){!r.state.shouldFocus&&e&&e.focus()},A(r,n)}return O(t,e),t.getDerivedStateFromProps=function(e,t){if(null==t.uri)return k({shouldFocus:!0},e);var n=e.uri!==t.uri,r=t.location.pathname!==e.location.pathname&&e.location.pathname===e.uri;return k({shouldFocus:n||r},e)},t.prototype.componentDidMount=function(){V++,this.focus()},t.prototype.componentWillUnmount=function(){0===--V&&(B=!0)},t.prototype.componentDidUpdate=function(e,t){e.location!==this.props.location&&this.state.shouldFocus&&this.focus()},t.prototype.focus=function(){var e=this.props.requestFocus;e?e(this.node):B?B=!1:this.node&&(this.node.contains(document.activeElement)||this.node.focus())},t.prototype.render=function(){var e=this,t=this.props,n=(t.children,t.style),r=(t.requestFocus,t.component),i=void 0===r?"div":r,a=(t.uri,t.location,N(t,["children","style","requestFocus","component","uri","location"]));return o.a.createElement(i,k({style:k({outline:"none"},n),tabIndex:"-1",ref:function(t){return e.node=t}},a),o.a.createElement(U.Provider,{value:this.requestFocus},this.props.children))},t}(o.a.Component);Object(c.polyfill)(z);var W=function(){},Q=o.a.forwardRef;"undefined"===typeof Q&&(Q=function(e){return e});var K=Q((function(e,t){var n=e.innerRef,r=N(e,["innerRef"]);return o.a.createElement(L.Consumer,null,(function(e){e.basepath;var i=e.baseuri;return o.a.createElement(R,null,(function(e){var a=e.location,s=e.navigate,u=r.to,c=r.state,f=r.replace,p=r.getProps,d=void 0===p?W:p,y=N(r,["to","state","replace","getProps"]),m=h(u,i),g=encodeURI(m),v=a.pathname===g,b=l(a.pathname,g);return o.a.createElement("a",k({ref:t||n,"aria-current":v?"page":void 0},y,d({isCurrent:v,isPartiallyCurrent:b,href:m,location:a}),{href:m,onClick:function(e){if(y.onClick&&y.onClick(e),Z(e)){e.preventDefault();var t=f;if("boolean"!==typeof f&&v){var n=k({},a.state),r=(n.key,N(n,["key"]));t=function(e,t){var n=Object.keys(e);return n.length===Object.keys(t).length&&n.every((function(n){return t.hasOwnProperty(n)&&e[n]===t[n]}))}(k({},c),r)}s(m,{state:c,replace:t})}}}))}))}))}));function G(e){this.uri=e}K.displayName="Link";var H=function(e){return e instanceof G},Y=function(e){function t(){return D(this,t),A(this,e.apply(this,arguments))}return O(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.navigate,n=e.to,r=(e.from,e.replace),o=void 0===r||r,i=e.state,a=(e.noThrow,e.baseuri),s=N(e,["navigate","to","from","replace","state","noThrow","baseuri"]);Promise.resolve().then((function(){var e=h(n,a);t(p(e,s),{replace:o,state:i})}))},t.prototype.render=function(){var e=this.props,t=(e.navigate,e.to),n=(e.from,e.replace,e.state,e.noThrow),r=e.baseuri,o=N(e,["navigate","to","from","replace","state","noThrow","baseuri"]),i=h(t,r);return n||function(e){throw new G(e)}(p(i,o)),null},t}(o.a.Component),$=function(e){return o.a.createElement(L.Consumer,null,(function(t){var n=t.baseuri;return o.a.createElement(R,null,(function(t){return o.a.createElement(Y,k({},t,{baseuri:n},e))}))}))},X=function(e){return e.replace(/(^\/+|\/+$)/g,"")},J=function e(t){return function(n){if(!n)return null;if(n.type===o.a.Fragment&&n.props.children)return o.a.Children.map(n.props.children,e(t));if(n.props.path||n.props.default||n.type===$||a()(!1),n.type!==$||n.props.from&&n.props.to||a()(!1),n.type!==$||function(e,t){var n=function(e){return y(e)};return b(e).filter(n).sort().join("/")===b(t).filter(n).sort().join("/")}(n.props.from,n.props.to)||a()(!1),n.props.default)return{value:n,default:!0};var r=n.type===$?n.props.from:n.props.path,i="/"===r?t:X(t)+"/"+X(r);return{value:n,default:n.props.default,path:n.props.children?X(i)+"/*":i}}},Z=function(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},,function(e,t,n){var r=n(97),o=n(102);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0,t.ACTION=t.TYPE=t.POSITION=void 0;t.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"};t.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};t.ACTION={SHOW:0,CLEAR:1,DID_MOUNT:2,WILL_UNMOUNT:3,ON_CHANGE:4}},function(e,t,n){var r=n(35),o=n(98),i=n(99),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(77)},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(19)(Object,"create");e.exports=r},function(e,t,n){var r=n(132);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(137);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";var r=n(3);t.a=function(e,t){var n;void 0===t&&(t=!0);var o=new Promise((function(r){n=setTimeout(r,e,t)}));return o[r.a]=function(){clearTimeout(n)},o}},function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(83));t.ToastContainer=r.default;var o=n(46);t.Bounce=o.Bounce,t.Slide=o.Slide,t.Zoom=o.Zoom,t.Flip=o.Flip;var i=n(22);t.ToastPosition=i.POSITION,t.ToastType=i.TYPE;var a=u(n(91));t.toast=a.default;var s=u(n(47));function u(e){return e&&e.__esModule?e:{default:e}}t.cssTransition=s.default},,function(e,t,n){"use strict";t.__esModule=!0,t.isValidDelay=o,t.objectValues=function(e){return Object.keys(e).map((function(t){return e[t]}))},t.falseOrElement=t.falseOrDelay=void 0;var r=n(0);function o(e){return"number"===typeof e&&!isNaN(e)&&e>0}function i(e){return e.isRequired=function(t,n,r){if("undefined"===typeof t[n])return new Error("The prop "+n+" is marked as required in \n      "+r+", but its value is undefined.");e(t,n,r)},e}var a=i((function(e,t,n){var r=e[t];return!1===r||o(r)?null:new Error(n+" expect "+t+" \n      to be a valid Number > 0 or equal to false. "+r+" given.")}));t.falseOrDelay=a;var s=i((function(e,t,n){var o=e[t];return!1===o||(0,r.isValidElement)(o)?null:new Error(n+" expect "+t+" \n      to be a valid react element or equal to false. "+o+" given.")}));t.falseOrElement=s},function(e,t,n){var r=n(13).Symbol;e.exports=r},function(e,t,n){var r=n(23),o=n(25);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){"use strict";e.exports=n(81)},function(e,t,n){"use strict";var r=n(37),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(d){var o=p(n);o&&o!==d&&e(t,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),y=u(n),m=0;m<a.length;++m){var g=a[m];if(!i[g]&&(!r||!r[g])&&(!y||!y[g])&&(!s||!s[g])){var v=h(n,g);try{c(t,g,v)}catch(b){}}}}return t}},function(e,t,n){"use strict";(function(e,r){var o,i=n(61);o="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(21),n(82)(e))},,,,,function(e,t,n){"use strict";var r,o=(r=n(57))&&"object"===typeof r&&"default"in r?r.default:r;e.exports=o},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))o.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)i.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";t.__esModule=!0,t.Flip=t.Zoom=t.Slide=t.Bounce=void 0;var r,o=(r=n(47))&&r.__esModule?r:{default:r};var i=(0,o.default)({enter:"Toastify__bounce-enter",exit:"Toastify__bounce-exit",appendPosition:!0});t.Bounce=i;var a=(0,o.default)({enter:"Toastify__slide-enter",exit:"Toastify__slide-exit",duration:[450,750],appendPosition:!0});t.Slide=a;var s=(0,o.default)({enter:"Toastify__zoom-enter",exit:"Toastify__zoom-exit"});t.Zoom=s;var u=(0,o.default)({enter:"Toastify__flip-enter",exit:"Toastify__flip-exit"});t.Flip=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.enter,n=e.exit,i=e.duration,u=void 0===i?750:i,c=e.appendPosition,l=void 0!==c&&c;return function(e){var i,c,f=e.children,h=e.position,p=e.preventExitTransition,d=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children","position","preventExitTransition"]),y=l?t+"--"+h:t,m=l?n+"--"+h:n;Array.isArray(u)&&2===u.length?(i=u[0],c=u[1]):i=c=u;return r.default.createElement(o.default,a({},d,{timeout:p?0:{enter:i,exit:c},onEnter:function(e){e.classList.add(y),e.style.animationFillMode="forwards",e.style.animationDuration=.001*i+"s"},onEntered:function(e){e.classList.remove(y),e.style.cssText=""},onExit:p?s:function(e){e.classList.add(m),e.style.animationFillMode="forwards",e.style.animationDuration=.001*c+"s"}}),f)}};var r=i(n(0)),o=i(n(89));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(){}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={list:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e){return this.list.delete(e),this},emit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!this.list.has(e)&&(this.list.get(e).forEach((function(e){return setTimeout((function(){return e.call.apply(e,[null].concat(n))}),0)})),!0)}};t.default=r},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(23),o=n(52);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(21))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(19)(n(13),"Map");e.exports=r},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(58),i=n(146),a=n(147),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new i.ErrorFactory("app","Firebase",s),c=[],l=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=i.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){c.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){c=c.filter((function(t){return t!==e}))}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var o=r[n],i=0,a=Object.keys(e.services_[o]);i<a.length;i++){var s=a[i];t.push(e.services_[o][s])}return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n="[DEFAULT]"!==t?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;i.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(c.forEach((function(e){t.INTERNAL.addAuthTokenListener(e)})),c=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc");var f=new a.Logger("@firebase/app");if(i.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var h=self.firebase.SDK_VERSION;h&&h.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function e(){var t=function(e){var t={},n={},r={},o={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!==typeof r||null===r){r={name:r}}var a=r;void 0===a.name&&(a.name="[DEFAULT]");var s=a.name;if("string"!==typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(i.contains(t,s))throw u.create("duplicate-app",{appName:s});var l=new e(n,a,o);return t[s]=l,c(l,"create"),l},app:a,apps:null,SDK_VERSION:"6.6.2",INTERNAL:{registerService:function(t,c,l,h,p){void 0===p&&(p=!1);if(n[t])return f.debug("There were multiple attempts to register service "+t+"."),o[t];n[t]=c,h&&(r[t]=h,s().forEach((function(e){h("create",e)})));function d(e){if(void 0===e&&(e=a()),"function"!==typeof e[t])throw u.create("invalid-app-argument",{appName:t});return e[t]()}void 0!==l&&i.deepExtend(d,l);return o[t]=d,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,p?e:[])},d},removeApp:function(e){c(t[e],"delete"),delete t[e]},factories:n,useAsService:l}};function a(e){if(e=e||"[DEFAULT]",!i.contains(t,e))throw u.create("no-app",{appName:e});return t[e]}function s(){return Object.keys(t).map((function(e){return t[e]}))}function c(e,t){for(var o=0,i=Object.keys(n);o<i.length;o++){var a=l(e,i[o]);if(null===a)return;r[a]&&r[a](t,e)}}function l(e,t){return"serverAuth"===t?null:t}return o.default=o,Object.defineProperty(o,"apps",{get:s}),a.App=e,o}(l);return t.INTERNAL=o.__assign({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){i.deepExtend(t,e)},createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,deepExtend:i.deepExtend}),t}(),d=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),d.apply(void 0,e)};var y=p;t.default=y,t.firebase=y},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return d})),n.d(t,"__spread",(function(){return y})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return g})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return T})),n.d(t,"__importDefault",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(0)),o=i(n(74));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||o.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},o=function(e){return{pathname:e||function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}(),search:""}};t.default=function(){var e=o();return function(e){""===e.pathname&&r("/")}(e),{get location(){return o()},addEventListener:function(e,t){window.addEventListener(e,t)},removeEventListener:function(e,t){window.removeEventListener(e,t)},history:{state:e,pushState:function(t,n,r){var i;e=o(r),i=r,window.location.hash=i},replaceState:function(t,n,i){e=o(i),r(i)}}}}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(92),o=n(95),i=n(106),a=n(26),s=n(108),u=n(109),c=n(49),l=n(111),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},function(e,t){e.exports=function(){}},,,function(e,t,n){"use strict";var r=n(9).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,u,"next",e)}function u(e){r(a,o,i,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";var r=n(3),o=n(6),i=n(11),a=n(2),s=n(1),u=n(9);function c(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var l=c,f=(n(31),[]),h=0;function p(e){try{m(),e()}finally{g()}}function d(e){f.push(e),h||(m(),v())}function y(e){try{return m(),e()}finally{v()}}function m(){h++}function g(){h--}function v(){var e;for(g();!h&&void 0!==(e=f.shift());)p(e)}var b=function(e){return function(t){return e.some((function(e){return C(e)(t)}))}},w=function(e){return function(t){return e(t)}},E=function(e){return function(t){return t.type===String(e)}},T=function(e){return function(t){return t.type===e}},S=function(){return s.G};function C(e){var t="*"===e?S:Object(a.k)(e)?E:Object(a.a)(e)?b:Object(a.l)(e)?E:Object(a.d)(e)?w:Object(a.m)(e)?T:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var I={type:r.b},_=function(e){return e&&e.type===r.b};function k(e){void 0===e&&(e=Object(s.A)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(I):e.isEmpty()?(n.push(r),r.cancel=function(){Object(s.N)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(I):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,o=e.length;r<o;r++){(0,e[r])(I)}}}}}function N(){var e=function(){var e,t=!1,n=[],o=n,i=function(){o===n&&(o=n.slice())},a=function(){t=!0;var e=n=o;o=[],e.forEach((function(e){e(I)}))};return(e={})[r.e]=!0,e.put=function(e){if(!t)if(_(e))a();else for(var i=n=o,s=0,u=i.length;s<u;s++){var c=i[s];c[r.d](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=S),t?e(I):(e[r.d]=n,i(),o.push(e),e.cancel=Object(s.K)((function(){i(),Object(s.N)(o,e)})))},e.close=a,e}(),t=e.put;return e.put=function(e){e[r.f]?t(e):d((function(){t(e)}))},e}function D(e,t){var n=e[r.a];Object(a.d)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var A,O=0,x=function(){return++O};function P(e){e.isRunning()&&e.cancel()}var R=((A={})[s.r]=function(e,t,n){var o=t.channel,i=void 0===o?e.channel:o,s=t.pattern,u=t.maybe,c=function(e){e instanceof Error?n(e,!0):!_(e)||u?n(e):n(r.k)};try{i.take(c,Object(a.g)(s)?C(s):null)}catch(l){return void n(l,!0)}n.cancel=c.cancel},A[s.n]=function(e,t,n){var r=t.channel,o=t.action,i=t.resolve;d((function(){var t;try{t=(r?r.put:e.dispatch)(o)}catch(s){return void n(s,!0)}i&&Object(a.j)(t)?D(t,n):n(t)}))},A[s.a]=function(e,t,n,r){var o=r.digestEffect,i=O,u=Object.keys(t);if(0!==u.length){var c=Object(s.H)(t,n);u.forEach((function(e){o(t[e],i,c[e],e)}))}else n(Object(a.a)(t)?[]:{})},A[s.p]=function(e,t,n,r){var o=r.digestEffect,i=O,u=Object.keys(t),c=Object(a.a)(t)?Object(s.I)(u.length):{},l={},f=!1;u.forEach((function(e){var t=function(t,r){f||(r||Object(s.O)(t)?(n.cancel(),n(t,r)):(n.cancel(),f=!0,c[e]=t,n(c)))};t.cancel=s.P,l[e]=t})),n.cancel=function(){f||(f=!0,u.forEach((function(e){return l[e].cancel()})))},u.forEach((function(e){f||o(t[e],i,l[e],e)}))},A[s.c]=function(e,t,n,r){var o=t.context,i=t.fn,u=t.args,c=r.task;try{var l=i.apply(o,u);if(Object(a.j)(l))return void D(l,n);if(Object(a.e)(l))return void z(e,l,c.context,O,Object(s.F)(i),!1,n);n(l)}catch(f){n(f,!0)}},A[s.w]=function(e,t,n){var r=t.context,o=t.fn,i=t.args;try{var s=function(e,t){Object(a.n)(e)?n(t):n(e,!0)};o.apply(r,i.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(u){n(u,!0)}},A[s.f]=function(e,t,n,r){var o=t.context,i=t.fn,u=t.args,c=t.detached,l=r.task,f=function(e){var t=e.context,n=e.fn,r=e.args;try{var o=n.apply(t,r);if(Object(a.e)(o))return o;var i=!1;return Object(s.M)((function(e){return i?{value:e,done:!0}:(i=!0,{value:o,done:!Object(a.j)(o)})}))}catch(u){return Object(s.M)((function(){throw u}))}}({context:o,fn:i,args:u}),h=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Object(s.F)(t)}(f,i);y((function(){var t=z(e,f,l.context,O,h,c,void 0);c?n(t):t.isRunning()?(l.queue.addTask(t),n(t)):t.isAborted()?l.queue.abort(t.error()):n(t)}))},A[s.h]=function(e,t,n,r){var o=r.task,i=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&Object(s.N)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Object(a.a)(t)){if(0===t.length)return void n([]);var u=Object(s.H)(t,n);t.forEach((function(e,t){i(e,u[t])}))}else i(t,n)},A[s.x]=function(e,t,n,o){var i=o.task;t===r.h?P(i):Object(a.a)(t)?t.forEach(P):P(t),n()},A[s.q]=function(e,t,n){var r=t.selector,o=t.args;try{n(r.apply(void 0,[e.getState()].concat(o)))}catch(i){n(i,!0)}},A[s.z]=function(e,t,n){var r=t.pattern,o=k(t.buffer),i=C(r),a=function t(n){_(n)||e.channel.take(t,i),o.put(n)},s=o.close;o.close=function(){a.cancel(),s()},e.channel.take(a,i),n(o)},A[s.B]=function(e,t,n,r){n(r.task.isCancelled())},A[s.C]=function(e,t,n){t.flush(n)},A[s.g]=function(e,t,n,r){n(r.task.context[t])},A[s.D]=function(e,t,n,r){var o=r.task;Object(s.L)(o.context,t),n()},A);function M(e,t){return e+"?"+t}function L(e){var t=e.name,n=e.location;return n?t+"  "+M(n.fileName,n.lineNumber):t}function F(e){var t=Object(s.Q)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var j=null,U=[],q=function(){j=null,U.length=0},B=function(){var e=U[0],t=U.slice(1),n=e.crashedEffect?function(e){var t=Object(s.R)(e);return t?t.code+"  "+M(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+L(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+L(e.meta)})),[F(U)]).join("\n")};function V(e,t,n,o,i,a,u){var c;void 0===u&&(u=s.P);var f,h,p=0,d=null,y=[],m=Object.create(n),g=function(e,t,n){var r,o=[],i=!1;function a(e){t(),c(),n(e,!0)}function u(t){o.push(t),t.cont=function(u,c){i||(Object(s.N)(o,t),t.cont=s.P,c?a(u):(t===e&&(r=u),o.length||(i=!0,n(r))))}}function c(){i||(i=!0,o.forEach((function(e){e.cont=s.P,e.cancel()})),o=[])}return u(e),{addTask:u,cancelAll:c,abort:a,getTasks:function(){return o}}}(t,(function(){y.push.apply(y,g.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(p=2,(a={meta:i,cancelledTasks:y}).crashedEffect=j,U.push(a),b.isRoot){var o=B();q(),e.onError(t,{sagaStack:o})}h=t,d&&d.reject(t)}else t===r.j?p=1:1!==p&&(p=3),f=t,d&&d.resolve(t);var a;b.cont(t,n),b.joiners.forEach((function(e){e.cb(t,n)})),b.joiners=null}var b=((c={})[r.i]=!0,c.id=o,c.meta=i,c.isRoot=a,c.context=m,c.joiners=[],c.queue=g,c.cancel=function(){0===p&&(p=1,g.cancelAll(),v(r.j,!1))},c.cont=u,c.end=v,c.setContext=function(e){Object(s.L)(m,e)},c.toPromise=function(){return d||(d=l(),2===p?d.reject(h):0!==p&&d.resolve(f)),d.promise},c.isRunning=function(){return 0===p},c.isCancelled=function(){return 1===p||0===p&&1===t.status},c.isAborted=function(){return 2===p},c.result=function(){return f},c.error=function(){return h},c);return b}function z(e,t,n,o,i,u,c){var l=e.finalizeRunEffect((function(t,n,o){if(Object(a.j)(t))D(t,o);else if(Object(a.e)(t))z(e,t,h.context,n,i,!1,o);else if(t&&t[r.c]){(0,R[t.type])(e,t.payload,o,p)}else o(t)}));d.cancel=s.P;var f={meta:i,cancel:function(){0===f.status&&(f.status=1,d(r.j))},status:0},h=V(e,f,n,o,i,u,c),p={task:h,digestEffect:y};return c&&(c.cancel=h.cancel),d(),h;function d(e,n){try{var i;n?(i=t.throw(e),q()):Object(s.S)(e)?(f.status=1,d.cancel(),i=Object(a.d)(t.return)?t.return(r.j):{done:!0,value:r.j}):i=Object(s.T)(e)?Object(a.d)(t.return)?t.return():{done:!0}:t.next(e),i.done?(1!==f.status&&(f.status=3),f.cont(i.value)):y(i.value,o,d)}catch(u){if(1===f.status)throw u;f.status=2,f.cont(u,!0)}}function y(t,n,r,o){void 0===o&&(o="");var i,a=x();function u(n,o){i||(i=!0,r.cancel=s.P,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(a,n):e.sagaMonitor.effectResolved(a,n)),o&&function(e){j=e}(t),r(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:a,parentEffectId:n,label:o,effect:t}),u.cancel=s.P,r.cancel=function(){i||(i=!0,u.cancel(),u.cancel=s.P,e.sagaMonitor&&e.sagaMonitor.effectCancelled(a))},l(t,a,u)}}function W(e,t){var n=e.channel,r=void 0===n?N():n,o=e.dispatch,i=e.getState,a=e.context,c=void 0===a?{}:a,l=e.sagaMonitor,f=e.effectMiddlewares,h=e.onError,p=void 0===h?s.b:h;for(var d=arguments.length,m=new Array(d>2?d-2:0),g=2;g<d;g++)m[g-2]=arguments[g];var v=t.apply(void 0,m);var b,w=x();if(l&&(l.rootSagaStarted=l.rootSagaStarted||s.P,l.effectTriggered=l.effectTriggered||s.P,l.effectResolved=l.effectResolved||s.P,l.effectRejected=l.effectRejected||s.P,l.effectCancelled=l.effectCancelled||s.P,l.actionDispatched=l.actionDispatched||s.P,l.rootSagaStarted({effectId:w,saga:t,args:m})),f){var E=u.compose.apply(void 0,f);b=function(e){return function(t,n,r){return E((function(t){return e(t,n,r)}))(t)}}}else b=s.e;var T={channel:r,dispatch:Object(s.d)(o),getState:i,sagaMonitor:l,onError:p,finalizeRunEffect:b};return y((function(){var e=z(T,v,c,w,Object(s.F)(t),!0,void 0);return l&&l.effectResolved(w,e),e}))}var Q=function(e){var t,n=void 0===e?{}:e,r=n.context,a=void 0===r?{}:r,u=n.channel,c=void 0===u?N():u,l=n.sagaMonitor,f=Object(i.a)(n,["context","channel","sagaMonitor"]);function h(e){var n=e.getState,r=e.dispatch;return t=W.bind(null,Object(o.a)({},f,{context:a,channel:c,dispatch:r,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return c.put(t),n}}}return h.run=function(){return t.apply(void 0,arguments)},h.setContext=function(e){Object(s.L)(a,e)},h};t.a=Q},,function(e,t,n){"use strict";var r=n(45),o="function"===typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,d=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function E(){}function T(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var S=T.prototype=new E;S.constructor=T,r(S,w.prototype),S.isPureReactComponent=!0;var C={current:null},I=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:C.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var D=/\/+/g,A=[];function O(e,t,n,r){if(A.length){var o=A.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function x(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function P(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case a:u=!0}}if(u)return r(o,t,""===n?"."+R(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+R(s=t[c],c);u+=e(s,l,r,o)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=m&&t[m]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+R(s,c++),r,o);else if("object"===s)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(D,"$&/")+"/"),P(e,L,t=O(t,i,r,o)),x(t)}var j={current:null};function U(){var e=j.current;if(null===e)throw Error(g(321));return e}var q={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;P(e,M,t=O(null,null,t,n)),x(t)},count:function(e){return P(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!N(e))throw Error(g(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=T,t.StrictMode=u,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)I.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:y,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(73);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=(a(r),a(n(8))),i=a(n(75));a(n(76));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,a,f="__create-react-context-"+(0,i.default)()+"__",h=function(e){function n(){var t,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(i))),r.emitter=l(r.props.value),u(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;((i=n)===(a=r)?0!==i||1/i===1/a:i!==i&&a!==a)?o=0:(o="function"===typeof t?t(n,r):1073741823,0!==(o|=0)&&this.emitter.set(e.value,o))}var i,a},n.prototype.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[f]=o.default.object.isRequired,n);var p=function(t){function n(){var e,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(i))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},u(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((a={})[f]=o.default.object,a),{Provider:h,Consumer:p}},e.exports=t.default},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(21))},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r=n(0),o=n(45),i=n(78);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,h={onError:function(e){u=!0,c=e}};function p(e,t,n,r,o,i,a,l,f){u=!1,c=null,s.apply(h,arguments)}var d=null,y=null,m=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,o,i,s,h,d){if(p.apply(this,arguments),u){if(!u)throw Error(a(198));var y=c;u=!1,c=null,l||(l=!0,f=y)}}(r,t,void 0,e),e.currentTarget=null}var v=null,b={};function w(){if(v)for(var e in b){var t=b[e],n=v.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!T[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in T[n]=t,n=t.eventTypes){var o=void 0,i=n[r],s=t,u=r;if(S.hasOwnProperty(u))throw Error(a(99,u));S[u]=i;var c=i.phasedRegistrationNames;if(c){for(o in c)c.hasOwnProperty(o)&&E(c[o],s,u);o=!0}else i.registrationName?(E(i.registrationName,s,u),o=!0):o=!1;if(!o)throw Error(a(98,r,e))}}}}function E(e,t,n){if(C[e])throw Error(a(100,e));C[e]=t,I[e]=t.eventTypes[n].dependencies}var T=[],S={},C={},I={};function _(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&w()}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),N=null,D=null,A=null;function O(e){if(e=y(e)){if("function"!==typeof N)throw Error(a(280));var t=e.stateNode;t&&(t=d(t),N(e.stateNode,e.type,t))}}function x(e){D?A?A.push(e):A=[e]:D=e}function P(){if(D){var e=D,t=A;if(A=D=null,O(e),t)for(e=0;e<t.length;e++)O(t[e])}}function R(e,t){return e(t)}function M(e,t,n,r,o){return e(t,n,r,o)}function L(){}var F=R,j=!1,U=!1;function q(){null===D&&null===A||(L(),P())}function B(e,t,n){if(U)return e(t,n);U=!0;try{return F(e,t,n)}finally{U=!1,q()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,W={},Q={};function K(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var H=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(H,Y);G[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(H,Y);G[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(H,Y);G[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var o=G.hasOwnProperty(t)?G[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!z.call(Q,e)||!z.call(W,e)&&(V.test(e)?Q[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}$.hasOwnProperty("ReactCurrentDispatcher")||($.ReactCurrentDispatcher={current:null}),$.hasOwnProperty("ReactCurrentBatchConfig")||($.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,oe=Z?Symbol.for("react.profiler"):60114,ie=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,pe=Z?Symbol.for("react.block"):60121,de="function"===typeof Symbol&&Symbol.iterator;function ye(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=de&&e[de]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case oe:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case ie:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case pe:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=me(e.type);n=null,r&&(n=me(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(J,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Se(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ce(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Ie(e,t){Ce(e,t);var n=ve(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ke(e,t.type,n):t.hasOwnProperty("defaultValue")&&ke(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _e(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ke(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ne(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function De(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function xe(e,t){var n=ve(t.value),r=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var je,Ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((je=je||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function qe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},ze={},We={};function Qe(e){if(ze[e])return ze[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return ze[e]=n[t];return e}k&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var Ke=Qe("animationend"),Ge=Qe("animationiteration"),He=Qe("animationstart"),Ye=Qe("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"===typeof WeakMap?WeakMap:Map);function Je(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return tt(o),e;if(i===r)return tt(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var it=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(it=rt(it,e)),e=it,it=null,e){if(ot(e,at),it)throw Error(a(95));if(l)throw e=f,l=!1,f=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!k)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var lt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function ht(e,t,n,r){if(lt.length){var o=lt.pop();return o.topLevelType=e,o.eventSystemFlags=r,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=kn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=ut(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<T.length;u++){var c=T[u];c&&(c=c.extractEvents(r,t,i,o,a))&&(s=rt(s,c))}st(s)}}function dt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Ht(t,"scroll",!0);break;case"focus":case"blur":Ht(t,"focus",!0),Ht(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Ht(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Gt(e,t)}n.set(e,null)}}var yt,mt,gt,vt=!1,bt=[],wt=null,Et=null,Tt=null,St=new Map,Ct=new Map,It=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),kt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Nt(e,t,n,r,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o,container:r}}function Dt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function At(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=Nt(t,n,r,o,i),null!==t&&(null!==(t=Nn(t))&&mt(t)),e):(e.eventSystemFlags|=r,e)}function Ot(e){var t=kn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Pt(e,t,n){xt(e)&&n.delete(t)}function Rt(){for(vt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&yt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&xt(wt)&&(wt=null),null!==Et&&xt(Et)&&(Et=null),null!==Tt&&xt(Tt)&&(Tt=null),St.forEach(Pt),Ct.forEach(Pt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,vt||(vt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Rt)))}function Lt(e){function t(t){return Mt(t,e)}if(0<bt.length){Mt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Mt(wt,e),null!==Et&&Mt(Et,e),null!==Tt&&Mt(Tt,e),St.forEach(t),Ct.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Ot(n),null===n.blockedOn&&It.shift()}var Ft={},jt=new Map,Ut=new Map,qt=["abort","abort",Ke,"animationEnd",Ge,"animationIteration",He,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1],i="on"+(o[0].toUpperCase()+o.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},Ut.set(r,t),jt.set(r,i),Ft[o]=i}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(qt,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<Vt.length;zt++)Ut.set(Vt[zt],0);var Wt=i.unstable_UserBlockingPriority,Qt=i.unstable_runWithPriority,Kt=!0;function Gt(e,t){Ht(t,e,!1)}function Ht(e,t,n){var r=Ut.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Xt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){j||L();var o=Xt,i=j;j=!0;try{M(o,e,t,n,r)}finally{(j=i)||q()}}function $t(e,t,n,r){Qt(Wt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){if(Kt)if(0<bt.length&&-1<_t.indexOf(e))e=Nt(null,e,t,n,r),bt.push(e);else{var o=Jt(e,t,n,r);if(null===o)Dt(e,r);else if(-1<_t.indexOf(e))e=Nt(o,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,o){switch(t){case"focus":return wt=At(wt,e,t,n,r,o),!0;case"dragenter":return Et=At(Et,e,t,n,r,o),!0;case"mouseover":return Tt=At(Tt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return St.set(i,At(St.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ct.set(i,At(Ct.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r)){Dt(e,r),e=ht(e,r,null,t);try{B(pt,e)}finally{ft(e)}}}}function Jt(e,t,n,r){if(null!==(n=kn(n=ut(r)))){var o=Ze(n);if(null===o)n=null;else{var i=o.tag;if(13===i){if(null!==(n=et(o)))return n;n=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}e=ht(e,r,n,t);try{B(pt,e)}finally{ft(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Re;function un(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=I[t];for(var r=0;r<t.length;r++)dt(t[r],e,n)}function cn(){}function ln(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function pn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn=null,mn=null;function gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,wn="function"===typeof clearTimeout?clearTimeout:void 0;function En(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Tn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+Sn,In="__reactEventHandlers$"+Sn,_n="__reactContainere$"+Sn;function kn(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[Cn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Tn(e);null!==e;){if(n=e[Cn])return n;e=Tn(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[Cn]||e[_n])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Dn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function An(e){return e[In]||null}function On(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function xn(e,t){var n=e.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Pn(e,t,n){(t=xn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Rn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=On(t);for(t=n.length;0<t--;)Pn(n[t],"captured",e);for(t=0;t<n.length;t++)Pn(n[t],"bubbled",e)}}function Mn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=xn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Ln(e){e&&e.dispatchConfig.registrationName&&Mn(e._targetInst,null,e)}function Fn(e){ot(e,Rn)}var jn=null,Un=null,qn=null;function Bn(){if(qn)return qn;var e,t,n=Un,r=n.length,o="value"in jn?jn.value:jn.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return qn=o.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function zn(){return!1}function Wn(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:zn,this.isPropagationStopped=zn,this}function Qn(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Kn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gn(e){e.eventPool=[],e.getPooled=Qn,e.release=Kn}o(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:zn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,Gn(n),n},Gn(Wn);var Hn=Wn.extend({data:null}),Yn=Wn.extend({data:null}),$n=[9,13,27,32],Xn=k&&"CompositionEvent"in window,Jn=null;k&&"documentMode"in document&&(Jn=document.documentMode);var Zn=k&&"TextEvent"in window&&!Jn,er=k&&(!Xn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function or(e,t){switch(e){case"keyup":return-1!==$n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ir(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var o;if(Xn)e:{switch(e){case"compositionstart":var i=nr.compositionStart;break e;case"compositionend":i=nr.compositionEnd;break e;case"compositionupdate":i=nr.compositionUpdate;break e}i=void 0}else ar?or(e,n)&&(i=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=nr.compositionStart);return i?(er&&"ko"!==n.locale&&(ar||i!==nr.compositionStart?i===nr.compositionEnd&&ar&&(o=Bn()):(Un="value"in(jn=r)?jn.value:jn.textContent,ar=!0)),i=Hn.getPooled(i,t,n,r),o?i.data=o:null!==(o=ir(n))&&(i.data=o),Fn(i),o=i):o=null,(e=Zn?function(e,t){switch(e){case"compositionend":return ir(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Xn&&or(e,t)?(e=Bn(),qn=Un=jn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Yn.getPooled(nr.beforeInput,t,n,r)).data=e,Fn(t)):t=null,null===o?t:null===t?o:[o,t]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ur[e.type]:"textarea"===t}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Wn.getPooled(lr.change,e,t,n)).type="change",x(n),Fn(e),e}var hr=null,pr=null;function dr(e){st(e)}function yr(e){if(Ee(Dn(e)))return e}function mr(e,t){if("change"===e)return t}var gr=!1;function vr(){hr&&(hr.detachEvent("onpropertychange",br),pr=hr=null)}function br(e){if("value"===e.propertyName&&yr(pr))if(e=fr(pr,e,ut(e)),j)st(e);else{j=!0;try{R(dr,e)}finally{j=!1,q()}}}function wr(e,t,n){"focus"===e?(vr(),pr=n,(hr=t).attachEvent("onpropertychange",br)):"blur"===e&&vr()}function Er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return yr(pr)}function Tr(e,t){if("click"===e)return yr(t)}function Sr(e,t){if("input"===e||"change"===e)return yr(t)}k&&(gr=ct("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:lr,_isInputEventSupported:gr,extractEvents:function(e,t,n,r){var o=t?Dn(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=mr;else if(cr(o))if(gr)a=Sr;else{a=Er;var s=wr}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Tr);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&ke(o,"number",o.value)}},Ir=Wn.extend({view:null,detail:null}),_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_r[e])&&!!t[e]}function Nr(){return kr}var Dr=0,Ar=0,Or=!1,xr=!1,Pr=Ir.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Dr;return Dr=e.screenX,Or?"mousemove"===e.type?e.screenX-t:0:(Or=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ar;return Ar=e.screenY,xr?"mousemove"===e.type?e.screenY-t:0:(xr=!0,0)}}),Rr=Pr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Mr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Mr,extractEvents:function(e,t,n,r,o){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&0===(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?kn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Pr,u=Mr.mouseLeave,c=Mr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Rr,u=Mr.pointerLeave,c=Mr.pointerEnter,l="pointer");if(e=null==a?i:Dn(a),i=null==t?i:Dn(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=i,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=i,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,a=0,e=s=r;e;e=On(e))a++;for(e=0,t=c;t;t=On(t))e++;for(;0<a-e;)s=On(s),a--;for(;0<e-a;)c=On(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=On(s),c=On(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=On(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=On(l);for(l=0;l<s.length;l++)Mn(s[l],"bubbled",u);for(l=r.length;0<l--;)Mn(r[l],"captured",n);return 0===(64&o)?[u]:[u,n]}};var Fr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},jr=Object.prototype.hasOwnProperty;function Ur(e,t){if(Fr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!jr.call(t,n[r])||!Fr(e[n[r]],t[n[r]]))return!1;return!0}var qr=k&&"documentMode"in document&&11>=document.documentMode,Br={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vr=null,zr=null,Wr=null,Qr=!1;function Kr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Qr||null==Vr||Vr!==ln(n)?null:("selectionStart"in(n=Vr)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&Ur(Wr,n)?null:(Wr=n,(e=Wn.getPooled(Br.select,zr,e,t)).type="select",e.target=Vr,Fn(e),e))}var Gr={eventTypes:Br,extractEvents:function(e,t,n,r,o,i){if(!(i=!(o=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{o=Je(o),i=I.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?Dn(t):window,e){case"focus":(cr(o)||"true"===o.contentEditable)&&(Vr=o,zr=t,Wr=null);break;case"blur":Wr=zr=Vr=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qr=!1,Kr(n,r);case"selectionchange":if(qr)break;case"keydown":case"keyup":return Kr(n,r)}return null}},Hr=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yr=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$r=Ir.extend({relatedTarget:null});function Xr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eo=Ir.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?Xr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),to=Pr.extend({dataTransfer:null}),no=Ir.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),ro=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),oo=Pr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),io={eventTypes:Ft,extractEvents:function(e,t,n,r){var o=jt.get(e);if(!o)return null;switch(e){case"keypress":if(0===Xr(n))return null;case"keydown":case"keyup":e=eo;break;case"blur":case"focus":e=$r;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=to;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=no;break;case Ke:case Ge:case He:e=Hr;break;case Ye:e=ro;break;case"scroll":e=Ir;break;case"wheel":e=oo;break;case"copy":case"cut":case"paste":e=Yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Rr;break;default:e=Wn}return Fn(t=e.getPooled(o,t,n,r)),t}};if(v)throw Error(a(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),d=An,y=Nn,m=Dn,_({SimpleEventPlugin:io,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:Cr,SelectEventPlugin:Gr,BeforeInputEventPlugin:sr});var ao=[],so=-1;function uo(e){0>so||(e.current=ao[so],ao[so]=null,so--)}function co(e,t){so++,ao[so]=e.current,e.current=t}var lo={},fo={current:lo},ho={current:!1},po=lo;function yo(e,t){var n=e.type.contextTypes;if(!n)return lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function go(){uo(ho),uo(fo)}function vo(e,t,n){if(fo.current!==lo)throw Error(a(168));co(fo,t),co(ho,n)}function bo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,me(t)||"Unknown",i));return o({},n,{},r)}function wo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,po=fo.current,co(fo,e),co(ho,ho.current),!0}function Eo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bo(e,t,po),r.__reactInternalMemoizedMergedChildContext=e,uo(ho),uo(fo),co(fo,e)):uo(ho),co(ho,n)}var To=i.unstable_runWithPriority,So=i.unstable_scheduleCallback,Co=i.unstable_cancelCallback,Io=i.unstable_requestPaint,_o=i.unstable_now,ko=i.unstable_getCurrentPriorityLevel,No=i.unstable_ImmediatePriority,Do=i.unstable_UserBlockingPriority,Ao=i.unstable_NormalPriority,Oo=i.unstable_LowPriority,xo=i.unstable_IdlePriority,Po={},Ro=i.unstable_shouldYield,Mo=void 0!==Io?Io:function(){},Lo=null,Fo=null,jo=!1,Uo=_o(),qo=1e4>Uo?_o:function(){return _o()-Uo};function Bo(){switch(ko()){case No:return 99;case Do:return 98;case Ao:return 97;case Oo:return 96;case xo:return 95;default:throw Error(a(332))}}function Vo(e){switch(e){case 99:return No;case 98:return Do;case 97:return Ao;case 96:return Oo;case 95:return xo;default:throw Error(a(332))}}function zo(e,t){return e=Vo(e),To(e,t)}function Wo(e,t,n){return e=Vo(e),So(e,t,n)}function Qo(e){return null===Lo?(Lo=[e],Fo=So(No,Go)):Lo.push(e),Po}function Ko(){if(null!==Fo){var e=Fo;Fo=null,Co(e)}Go()}function Go(){if(!jo&&null!==Lo){jo=!0;var e=0;try{var t=Lo;zo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Lo=null}catch(n){throw null!==Lo&&(Lo=Lo.slice(e+1)),So(No,Ko),n}finally{jo=!1}}}function Ho(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Yo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $o={current:null},Xo=null,Jo=null,Zo=null;function ei(){Zo=Jo=Xo=null}function ti(e){var t=$o.current;uo($o),e.type._context._currentValue=t}function ni(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ri(e,t){Xo=e,Zo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Aa=!0),e.firstContext=null)}function oi(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Xo)throw Error(a(308));Jo=t,Xo.dependencies={expirationTime:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var ii=!1;function ai(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function si(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ui(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ci(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function li(e,t){var n=e.alternate;null!==n&&si(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function fi(e,t,n,r){var i=e.updateQueue;ii=!1;var a=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,i.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=i.baseState,l=0,f=null,h=null,p=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var y={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(h=p=y,f=c):p=p.next=y,s>l&&(l=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),iu(s,d.suspenseConfig);e:{var m=e,g=d;switch(s=t,y=n,g.tag){case 1:if("function"===typeof(m=g.payload)){c=m.call(y,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=g.payload)?m.call(y,c,s):m)||void 0===s)break e;c=o({},c,s);break e;case 2:ii=!0}}null!==d.callback&&(e.effectTag|=32,null===(s=i.effects)?i.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=i.shared.pending))break;d=a.next=s.next,s.next=u,i.baseQueue=a=s,i.shared.pending=null}}null===p?f=c:p.next=h,i.baseState=f,i.baseQueue=p,au(l),e.expirationTime=l,e.memoizedState=c}}function hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!==typeof r)throw Error(a(191,r));r.call(o)}}}var pi=$.ReactCurrentBatchConfig,di=(new r.Component).refs;function yi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var mi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ks(),o=pi.suspense;(o=ui(r=Gs(r,e,o),o)).payload=t,void 0!==n&&null!==n&&(o.callback=n),ci(e,o),Hs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ks(),o=pi.suspense;(o=ui(r=Gs(r,e,o),o)).tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ci(e,o),Hs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ks(),r=pi.suspense;(r=ui(n=Gs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ci(e,r),Hs(e,n)}};function gi(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ur(n,r)||!Ur(o,i))}function vi(e,t,n){var r=!1,o=lo,i=t.contextType;return"object"===typeof i&&null!==i?i=oi(i):(o=mo(t)?po:fo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?yo(e,o):lo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function bi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function wi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=di,ai(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=oi(i):(i=mo(t)?po:fo.current,o.context=yo(e,i)),fi(e,n,o,r),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(yi(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&mi.enqueueReplaceState(o,o.state,null),fi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.effectTag|=4)}var Ei=Array.isArray;function Ti(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===di&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Si(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ci(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=_u(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Du(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Ti(e,t,n),r.return=e,r):((r=ku(n.type,n.key,n.props,null,e.mode,r)).ref=Ti(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Au(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Nu(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Du(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=ku(t.type,t.key,t.props,null,e.mode,n)).ref=Ti(e,null,t),n.return=e,n;case te:return(t=Au(t,e.mode,n)).return=e,t}if(Ei(t)||ye(t))return(t=Nu(t,e.mode,n,null)).return=e,t;Si(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===o?n.type===ne?f(e,t,n.props.children,r,o):c(e,t,n,r):null;case te:return n.key===o?l(e,t,n,r):null}if(Ei(n)||ye(n))return null!==o?null:f(e,t,n,r,null);Si(e,n)}return null}function d(e,t,n,r,o){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,o,r.key):c(t,e,r,o);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Ei(r)||ye(r))return f(t,e=e.get(n)||null,r,o,null);Si(t,r)}return null}function y(o,a,s,u){for(var c=null,l=null,f=a,y=a=0,m=null;null!==f&&y<s.length;y++){f.index>y?(m=f,f=null):m=f.sibling;var g=p(o,f,s[y],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(o,f),a=i(g,a,y),null===l?c=g:l.sibling=g,l=g,f=m}if(y===s.length)return n(o,f),c;if(null===f){for(;y<s.length;y++)null!==(f=h(o,s[y],u))&&(a=i(f,a,y),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(o,f);y<s.length;y++)null!==(m=d(f,o,y,s[y],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?y:m.key),a=i(m,a,y),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(o,e)})),c}function m(o,s,u,c){var l=ye(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,y=s,m=s=0,g=null,v=u.next();null!==y&&!v.done;m++,v=u.next()){y.index>m?(g=y,y=null):g=y.sibling;var b=p(o,y,v.value,c);if(null===b){null===y&&(y=g);break}e&&y&&null===b.alternate&&t(o,y),s=i(b,s,m),null===f?l=b:f.sibling=b,f=b,y=g}if(v.done)return n(o,y),l;if(null===y){for(;!v.done;m++,v=u.next())null!==(v=h(o,v.value,c))&&(s=i(v,s,m),null===f?l=v:f.sibling=v,f=v);return l}for(y=r(o,y);!v.done;m++,v=u.next())null!==(v=d(y,o,m,v.value,c))&&(e&&null!==v.alternate&&y.delete(null===v.key?m:v.key),s=i(v,s,m),null===f?l=v:f.sibling=v,f=v);return e&&y.forEach((function(e){return t(o,e)})),l}return function(e,r,i,u){var c="object"===typeof i&&null!==i&&i.type===ne&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case ee:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(i.type===ne){n(e,c.sibling),(r=o(c,i.props.children)).return=e,e=r;break e}break;default:if(c.elementType===i.type){n(e,c.sibling),(r=o(c,i.props)).ref=Ti(e,c,i),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}i.type===ne?((r=Nu(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=ku(i.type,i.key,i.props,null,e.mode,u)).ref=Ti(e,r,i),u.return=e,e=u)}return s(e);case te:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Au(i,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Du(i,e.mode,u)).return=e,e=r),s(e);if(Ei(i))return y(e,r,i,u);if(ye(i))return m(e,r,i,u);if(l&&Si(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ii=Ci(!0),_i=Ci(!1),ki={},Ni={current:ki},Di={current:ki},Ai={current:ki};function Oi(e){if(e===ki)throw Error(a(174));return e}function xi(e,t){switch(co(Ai,t),co(Di,e),co(Ni,ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}uo(Ni),co(Ni,t)}function Pi(){uo(Ni),uo(Di),uo(Ai)}function Ri(e){Oi(Ai.current);var t=Oi(Ni.current),n=Fe(t,e.type);t!==n&&(co(Di,e),co(Ni,n))}function Mi(e){Di.current===e&&(uo(Ni),uo(Di))}var Li={current:0};function Fi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ji(e,t){return{responder:e,props:t}}var Ui=$.ReactCurrentDispatcher,qi=$.ReactCurrentBatchConfig,Bi=0,Vi=null,zi=null,Wi=null,Qi=!1;function Ki(){throw Error(a(321))}function Gi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fr(e[n],t[n]))return!1;return!0}function Hi(e,t,n,r,o,i){if(Bi=i,Vi=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ui.current=null===e||null===e.memoizedState?ga:va,e=n(r,o),t.expirationTime===Bi){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(a(301));i+=1,Wi=zi=null,t.updateQueue=null,Ui.current=ba,e=n(r,o)}while(t.expirationTime===Bi)}if(Ui.current=ma,t=null!==zi&&null!==zi.next,Bi=0,Wi=zi=Vi=null,Qi=!1,t)throw Error(a(300));return e}function Yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wi?Vi.memoizedState=Wi=e:Wi=Wi.next=e,Wi}function $i(){if(null===zi){var e=Vi.alternate;e=null!==e?e.memoizedState:null}else e=zi.next;var t=null===Wi?Vi.memoizedState:Wi.next;if(null!==t)Wi=t,zi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(zi=e).memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},null===Wi?Vi.memoizedState=Wi=e:Wi=Wi.next=e}return Wi}function Xi(e,t){return"function"===typeof t?t(e):t}function Ji(e){var t=$i(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=zi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=s=i=null,c=o;do{var l=c.expirationTime;if(l<Bi){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,i=r):u=u.next=f,l>Vi.expirationTime&&(Vi.expirationTime=l,au(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),iu(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==o);null===u?i=r:u.next=s,Fr(r,t.memoizedState)||(Aa=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zi(e){var t=$i(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Fr(i,t.memoizedState)||(Aa=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ea(e){var t=Yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e}).dispatch=ya.bind(null,Vi,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Vi.updateQueue)?(t={lastEffect:null},Vi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return $i().memoizedState}function ra(e,t,n,r){var o=Yi();Vi.effectTag|=e,o.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function oa(e,t,n,r){var o=$i();r=void 0===r?null:r;var i=void 0;if(null!==zi){var a=zi.memoizedState;if(i=a.destroy,null!==r&&Gi(r,a.deps))return void ta(t,n,i,r)}Vi.effectTag|=e,o.memoizedState=ta(1|t,n,i,r)}function ia(e,t){return ra(516,4,e,t)}function aa(e,t){return oa(516,4,e,t)}function sa(e,t){return oa(4,2,e,t)}function ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oa(4,2,ua.bind(null,t,e),n)}function la(){}function fa(e,t){return Yi().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=$i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Gi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=$i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Gi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function da(e,t,n){var r=Bo();zo(98>r?98:r,(function(){e(!0)})),zo(97<r?97:r,(function(){var r=qi.suspense;qi.suspense=void 0===t?null:t;try{e(!1),n()}finally{qi.suspense=r}}))}function ya(e,t,n){var r=Ks(),o=pi.suspense;o={expirationTime:r=Gs(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Vi||null!==i&&i===Vi)Qi=!0,o.expirationTime=Bi,Vi.expirationTime=Bi;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.eagerReducer=i,o.eagerState=s,Fr(s,a))return}catch(u){}Hs(e,r)}}var ma={readContext:oi,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useLayoutEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki,useResponder:Ki,useDeferredValue:Ki,useTransition:Ki},ga={readContext:oi,useCallback:fa,useContext:oi,useEffect:ia,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ya.bind(null,Vi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Yi().memoizedState=e},useState:ea,useDebugValue:la,useResponder:ji,useDeferredValue:function(e,t){var n=ea(e),r=n[0],o=n[1];return ia((function(){var n=qi.suspense;qi.suspense=void 0===t?null:t;try{o(e)}finally{qi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(da.bind(null,t,e),[t,e]),n]}},va={readContext:oi,useCallback:ha,useContext:oi,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Ji,useRef:na,useState:function(){return Ji(Xi)},useDebugValue:la,useResponder:ji,useDeferredValue:function(e,t){var n=Ji(Xi),r=n[0],o=n[1];return aa((function(){var n=qi.suspense;qi.suspense=void 0===t?null:t;try{o(e)}finally{qi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ji(Xi),n=t[0];return t=t[1],[ha(da.bind(null,t,e),[t,e]),n]}},ba={readContext:oi,useCallback:ha,useContext:oi,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Zi,useRef:na,useState:function(){return Zi(Xi)},useDebugValue:la,useResponder:ji,useDeferredValue:function(e,t){var n=Zi(Xi),r=n[0],o=n[1];return aa((function(){var n=qi.suspense;qi.suspense=void 0===t?null:t;try{o(e)}finally{qi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zi(Xi),n=t[0];return t=t[1],[ha(da.bind(null,t,e),[t,e]),n]}},wa=null,Ea=null,Ta=!1;function Sa(e,t){var n=Cu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ia(e){if(Ta){var t=Ea;if(t){var n=t;if(!Ca(e,t)){if(!(t=En(n.nextSibling))||!Ca(e,t))return e.effectTag=-1025&e.effectTag|2,Ta=!1,void(wa=e);Sa(wa,n)}wa=e,Ea=En(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ta=!1,wa=e}}function _a(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function ka(e){if(e!==wa)return!1;if(!Ta)return _a(e),Ta=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vn(t,e.memoizedProps))for(t=Ea;t;)Sa(e,t),t=En(t.nextSibling);if(_a(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ea=En(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ea=null}}else Ea=wa?En(e.stateNode.nextSibling):null;return!0}function Na(){Ea=wa=null,Ta=!1}var Da=$.ReactCurrentOwner,Aa=!1;function Oa(e,t,n,r){t.child=null===e?_i(t,null,n,r):Ii(t,e.child,n,r)}function xa(e,t,n,r,o){n=n.render;var i=t.ref;return ri(t,o),r=Hi(e,t,n,r,i,o),null===e||Aa?(t.effectTag|=1,Oa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Ha(e,t,o))}function Pa(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!==typeof a||Iu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ku(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ra(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:Ur)(o,r)&&e.ref===t.ref)?Ha(e,t,i):(t.effectTag|=1,(e=_u(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ra(e,t,n,r,o,i){return null!==e&&Ur(e.memoizedProps,r)&&e.ref===t.ref&&(Aa=!1,o<i)?(t.expirationTime=e.expirationTime,Ha(e,t,i)):La(e,t,n,r,i)}function Ma(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,r,o){var i=mo(n)?po:fo.current;return i=yo(t,i),ri(t,o),n=Hi(e,t,n,r,i,o),null===e||Aa?(t.effectTag|=1,Oa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Ha(e,t,o))}function Fa(e,t,n,r,o){if(mo(n)){var i=!0;wo(t)}else i=!1;if(ri(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),vi(t,n,r),wi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=oi(c):c=yo(t,c=mo(n)?po:fo.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bi(t,a,r,c),ii=!1;var h=t.memoizedState;a.state=h,fi(t,r,a,o),u=t.memoizedState,s!==r||h!==u||ho.current||ii?("function"===typeof l&&(yi(t,n,l,r),u=t.memoizedState),(s=ii||gi(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,si(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Yo(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=oi(c):c=yo(t,c=mo(n)?po:fo.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bi(t,a,r,c),ii=!1,u=t.memoizedState,a.state=u,fi(t,r,a,o),h=t.memoizedState,s!==r||u!==h||ho.current||ii?("function"===typeof l&&(yi(t,n,l,r),h=t.memoizedState),(l=ii||gi(t,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ja(e,t,n,r,i,o)}function ja(e,t,n,r,o,i){Ma(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return o&&Eo(t,n,!1),Ha(e,t,i);r=t.stateNode,Da.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ii(t,e.child,null,i),t.child=Ii(t,null,s,i)):Oa(e,t,s,i),t.memoizedState=r.state,o&&Eo(t,n,!0),t.child}function Ua(e){var t=e.stateNode;t.pendingContext?vo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vo(0,t.context,!1),xi(e,t.containerInfo)}var qa,Ba,Va,za={dehydrated:null,retryTime:0};function Wa(e,t,n){var r,o=t.mode,i=t.pendingProps,a=Li.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),co(Li,1&a),null===e){if(void 0!==i.fallback&&Ia(t),s){if(s=i.fallback,(i=Nu(null,o,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Nu(s,o,n,null)).return=t,i.sibling=n,t.memoizedState=za,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=_i(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,s){if(i=i.fallback,(n=_u(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(o=_u(o,i)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=za,t.child=n,o}return n=Ii(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=i.fallback,(i=Nu(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Nu(s,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=za,t.child=i,n}return t.memoizedState=null,t.child=Ii(t,e,i.children,n)}function Qa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ni(e.return,t)}function Ka(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function Ga(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Oa(e,t,r.children,n),0!==(2&(r=Li.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,n);else if(19===e.tag)Qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(co(Li,r),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Fi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ka(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Fi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ka(t,!0,n,null,i,t.lastEffect);break;case"together":Ka(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ha(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&au(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=_u(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_u(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $a(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mo(t.type)&&go(),null;case 3:return Pi(),uo(ho),uo(fo),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!ka(t)||(t.effectTag|=4),null;case 5:Mi(t),n=Oi(Ai.current);var i=t.type;if(null!==e&&null!=t.stateNode)Ba(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oi(Ni.current),ka(t)){r=t.stateNode,i=t.type;var s=t.memoizedProps;switch(r[Cn]=t,r[In]=s,i){case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Gt($e[e],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"form":Gt("reset",r),Gt("submit",r);break;case"details":Gt("toggle",r);break;case"input":Se(r,s),Gt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Gt("invalid",r),un(n,"onChange");break;case"textarea":Oe(r,s),Gt("invalid",r),un(n,"onChange")}for(var u in on(i,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):C.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(i){case"input":we(r),_e(r,s,!0);break;case"textarea":we(r),Pe(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(i)),e===sn?"script"===i?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(i,{is:r.is}):(e=u.createElement(i),"select"===i&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,i),e[Cn]=t,e[In]=r,qa(e,t),t.stateNode=e,u=an(i,r),i){case"iframe":case"object":case"embed":Gt("load",e),c=r;break;case"video":case"audio":for(c=0;c<$e.length;c++)Gt($e[c],e);c=r;break;case"source":Gt("error",e),c=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),c=r;break;case"form":Gt("reset",e),Gt("submit",e),c=r;break;case"details":Gt("toggle",e),c=r;break;case"input":Se(e,r),c=Te(e,r),Gt("invalid",e),un(n,"onChange");break;case"option":c=Ne(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=o({},r,{value:void 0}),Gt("invalid",e),un(n,"onChange");break;case"textarea":Oe(e,r),c=Ae(e,r),Gt("invalid",e),un(n,"onChange");break;default:c=r}on(i,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Ue(e,f):"children"===s?"string"===typeof f?("textarea"!==i||""!==f)&&qe(e,f):"number"===typeof f&&qe(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(C.hasOwnProperty(s)?null!=f&&un(n,s):null!=f&&X(e,s,f,u))}switch(i){case"input":we(e),_e(e,r,!1);break;case"textarea":we(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ve(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?De(e,!!r.multiple,n,!1):null!=r.defaultValue&&De(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cn)}gn(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Va(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Oi(Ai.current),Oi(Ni.current),ka(t)?(n=t.stateNode,r=t.memoizedProps,n[Cn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Cn]=t,t.stateNode=n)}return null;case 13:return uo(Li),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&ka(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=i,i.nextEffect=s):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Li.current)?ks===ws&&(ks=Es):(ks!==ws&&ks!==Es||(ks=Ts),0!==xs&&null!==Cs&&(Pu(Cs,_s),Ru(Cs,xs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Pi(),null;case 10:return ti(t),null;case 17:return mo(t.type)&&go(),null;case 19:if(uo(Li),null===(r=t.memoizedState))return null;if(i=0!==(64&t.effectTag),null===(s=r.rendering)){if(i)Ya(r,!1);else if(ks!==ws||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Fi(s))){for(t.effectTag|=64,Ya(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=s,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return co(Li,1&Li.current|2),t.child}s=s.sibling}}else{if(!i)if(null!==(e=Fi(s))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ya(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qo()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,Ya(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=qo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qo(),n.sibling=null,t=Li.current,co(Li,i?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Xa(e){switch(e.tag){case 1:mo(e.type)&&go();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Pi(),uo(ho),uo(fo),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Mi(e),null;case 13:return uo(Li),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return uo(Li),null;case 4:return Pi(),null;case 10:return ti(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ge(t)}}qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var s,u,c=t.stateNode;switch(Oi(Ni.current),e=null,n){case"input":a=Te(c,a),r=Te(c,r),e=[];break;case"option":a=Ne(c,a),r=Ne(c,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=Ae(c,a),r=Ae(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=cn)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(C.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(C.hasOwnProperty(s)?(null!=l&&un(i,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Va=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(o){setTimeout((function(){throw o}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){vu(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function os(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void os(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Yo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&hi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}hi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof Tu&&Tu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;zo(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(i){vu(o,i)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){vu(e,n)}}(t,n);break;case 5:ts(t);break;case 4:ls(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(us(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(qe(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ls(e,t,n){for(var r,o,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var u=e,c=i,l=n,f=c;;)if(as(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(u=r,c=i.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(as(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[In]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ce(n,r),an(e,o),t=an(e,r),o=0;o<i.length;o+=2){var s=i[o],u=i[o+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?Ue(n,u):"children"===s?qe(n,u):X(n,s,u,t)}switch(e){case"input":Ie(n,r);break;case"textarea":xe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?De(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?De(n,!!r.multiple,r.defaultValue,!0):De(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Rs=qo()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,o=void 0!==(o=e.memoizedProps.style)&&null!==o&&o.hasOwnProperty("display")?o.display:null,i.style.display=tn("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(a(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=wu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=ui(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,Fs=r),es(e,t)},n}function ys(e,t,n){(n=ui(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return es(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===js?js=new Set([this]):js.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ms,gs=Math.ceil,vs=$.ReactCurrentDispatcher,bs=$.ReactCurrentOwner,ws=0,Es=3,Ts=4,Ss=0,Cs=null,Is=null,_s=0,ks=ws,Ns=null,Ds=1073741823,As=1073741823,Os=null,xs=0,Ps=!1,Rs=0,Ms=null,Ls=!1,Fs=null,js=null,Us=!1,qs=null,Bs=90,Vs=null,zs=0,Ws=null,Qs=0;function Ks(){return 0!==(48&Ss)?1073741821-(qo()/10|0):0!==Qs?Qs:Qs=1073741821-(qo()/10|0)}function Gs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Bo();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Ss))return _s;if(null!==n)e=Ho(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Ho(e,150,100);break;case 97:case 96:e=Ho(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Cs&&e===_s&&--e,e}function Hs(e,t){if(50<zs)throw zs=0,Ws=null,Error(a(185));if(null!==(e=Ys(e,t))){var n=Bo();1073741823===t?0!==(8&Ss)&&0===(48&Ss)?Zs(e):(Xs(e),0===Ss&&Ko()):Xs(e),0===(4&Ss)||98!==n&&99!==n||(null===Vs?Vs=new Map([[e,t]]):(void 0===(n=Vs.get(e))||n>t)&&Vs.set(e,t))}}function Ys(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(Cs===o&&(au(t),ks===Ts&&Pu(o,_s)),Ru(o,t)),o}function $s(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!xu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Xs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Qo(Zs.bind(null,e));else{var t=$s(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Ks();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Po&&Co(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Qo(Zs.bind(null,e)):Wo(r,Js.bind(null,e),{timeout:10*(1073741821-t)-qo()}),e.callbackNode=t}}}function Js(e,t){if(Qs=0,t)return Mu(e,t=Ks()),Xs(e),null;var n=$s(e);if(0!==n){if(t=e.callbackNode,0!==(48&Ss))throw Error(a(327));if(yu(),e===Cs&&n===_s||nu(e,n),null!==Is){var r=Ss;Ss|=16;for(var o=ou();;)try{uu();break}catch(u){ru(e,u)}if(ei(),Ss=r,vs.current=o,1===ks)throw t=Ns,nu(e,n),Pu(e,n),Xs(e),t;if(null===Is)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=ks,Cs=null,r){case ws:case 1:throw Error(a(345));case 2:Mu(e,2<n?2:n);break;case Es:if(Pu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(o)),1073741823===Ds&&10<(o=Rs+500-qo())){if(Ps){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(i=$s(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(hu.bind(null,e),o);break}hu(e);break;case Ts:if(Pu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(o)),Ps&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(o=$s(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==As?r=10*(1073741821-As)-qo():1073741823===Ds?r=0:(r=10*(1073741821-Ds)-5e3,0>(r=(o=qo())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(hu.bind(null,e),r);break}hu(e);break;case 5:if(1073741823!==Ds&&null!==Os){i=Ds;var s=Os;if(0>=(r=0|s.busyMinDurationMs)?r=0:(o=0|s.busyDelayMs,r=(i=qo()-(10*(1073741821-i)-(0|s.timeoutMs||5e3)))<=o?0:o+r-i),10<r){Pu(e,n),e.timeoutHandle=bn(hu.bind(null,e),r);break}}hu(e);break;default:throw Error(a(329))}if(Xs(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Zs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ss))throw Error(a(327));if(yu(),e===Cs&&t===_s||nu(e,t),null!==Is){var n=Ss;Ss|=16;for(var r=ou();;)try{su();break}catch(o){ru(e,o)}if(ei(),Ss=n,vs.current=r,1===ks)throw n=Ns,nu(e,t),Pu(e,t),Xs(e),n;if(null!==Is)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Cs=null,hu(e),Xs(e)}return null}function eu(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&Ko()}}function tu(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&Ko()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==Is)for(n=Is.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&go();break;case 3:Pi(),uo(ho),uo(fo);break;case 5:Mi(r);break;case 4:Pi();break;case 13:case 19:uo(Li);break;case 10:ti(r)}n=n.return}Cs=e,Is=_u(e.current,null),_s=t,ks=ws,Ns=null,As=Ds=1073741823,Os=null,xs=0,Ps=!1}function ru(e,t){for(;;){try{if(ei(),Ui.current=ma,Qi)for(var n=Vi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Bi=0,Wi=zi=Vi=null,Qi=!1,null===Is||null===Is.return)return ks=1,Ns=t,Is=null;e:{var o=e,i=Is.return,a=Is,s=t;if(t=_s,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&Li.current),f=i;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var d=f.memoizedProps;h=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(h){var y=f.updateQueue;if(null===y){var m=new Set;m.add(u),f.updateQueue=m}else y.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=ui(1073741823,null);g.tag=2,ci(a,g)}a.expirationTime=1073741823;break e}s=void 0,a=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new ps,s=new Set,v.set(u,s)):void 0===(s=v.get(u))&&(s=new Set,v.set(u,s)),!s.has(a)){s.add(a);var b=bu.bind(null,o,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((me(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(a))}5!==ks&&(ks=2),s=Ja(s,a),f=i;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,li(f,ds(f,u,t));break e;case 1:u=s;var w=f.type,E=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===js||!js.has(E)))){f.effectTag|=4096,f.expirationTime=t,li(f,ys(f,u,t));break e}}f=f.return}while(null!==f)}Is=lu(Is)}catch(T){t=T;continue}break}}function ou(){var e=vs.current;return vs.current=ma,null===e?ma:e}function iu(e,t){e<Ds&&2<e&&(Ds=e),null!==t&&e<As&&2<e&&(As=e,Os=t)}function au(e){e>xs&&(xs=e)}function su(){for(;null!==Is;)Is=cu(Is)}function uu(){for(;null!==Is&&!Ro();)Is=cu(Is)}function cu(e){var t=ms(e.alternate,e,_s);return e.memoizedProps=e.pendingProps,null===t&&(t=lu(e)),bs.current=null,t}function lu(e){Is=e;do{var t=Is.alternate;if(e=Is.return,0===(2048&Is.effectTag)){if(t=$a(t,Is,_s),1===_s||1!==Is.childExpirationTime){for(var n=0,r=Is.child;null!==r;){var o=r.expirationTime,i=r.childExpirationTime;o>n&&(n=o),i>n&&(n=i),r=r.sibling}Is.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Is.firstEffect),null!==Is.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Is.firstEffect),e.lastEffect=Is.lastEffect),1<Is.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Is:e.firstEffect=Is,e.lastEffect=Is))}else{if(null!==(t=Xa(Is)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Is.sibling))return t;Is=e}while(null!==Is);return ks===ws&&(ks=5),null}function fu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hu(e){var t=Bo();return zo(99,pu.bind(null,e,t)),null}function pu(e,t){do{yu()}while(null!==qs);if(0!==(48&Ss))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=fu(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Cs&&(Is=Cs=null,_s=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=Ss;Ss|=32,bs.current=null,yn=Kt;var s=pn();if(dn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(_){u=null;break e}var h=0,p=-1,d=-1,y=0,m=0,g=s,v=null;t:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(p=h+l),g!==f||0!==c&&3!==g.nodeType||(d=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(b=g.firstChild);)v=g,g=b;for(;;){if(g===s)break t;if(v===u&&++y===l&&(p=h),v===f&&++m===c&&(d=h),null!==(b=g.nextSibling))break;v=(g=v).parentNode}g=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:u},Kt=!1,Ms=o;do{try{du()}catch(_){if(null===Ms)throw Error(a(330));vu(Ms,_),Ms=Ms.nextEffect}}while(null!==Ms);Ms=o;do{try{for(s=e,u=t;null!==Ms;){var w=Ms.effectTag;if(16&w&&qe(Ms.stateNode,""),128&w){var E=Ms.alternate;if(null!==E){var T=E.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(1038&w){case 2:cs(Ms),Ms.effectTag&=-3;break;case 6:cs(Ms),Ms.effectTag&=-3,fs(Ms.alternate,Ms);break;case 1024:Ms.effectTag&=-1025;break;case 1028:Ms.effectTag&=-1025,fs(Ms.alternate,Ms);break;case 4:fs(Ms.alternate,Ms);break;case 8:ls(s,l=Ms,u),ss(l)}Ms=Ms.nextEffect}}catch(_){if(null===Ms)throw Error(a(330));vu(Ms,_),Ms=Ms.nextEffect}}while(null!==Ms);if(T=mn,E=pn(),w=T.focusedElem,u=T.selectionRange,E!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&dn(w)&&(E=u.start,void 0===(T=u.end)&&(T=E),"selectionStart"in w?(w.selectionStart=E,w.selectionEnd=Math.min(T,w.value.length)):(T=(E=w.ownerDocument||document)&&E.defaultView||window).getSelection&&(T=T.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!T.extend&&s>u&&(l=u,u=s,s=l),l=hn(w,s),f=hn(w,u),l&&f&&(1!==T.rangeCount||T.anchorNode!==l.node||T.anchorOffset!==l.offset||T.focusNode!==f.node||T.focusOffset!==f.offset)&&((E=E.createRange()).setStart(l.node,l.offset),T.removeAllRanges(),s>u?(T.addRange(E),T.extend(f.node,f.offset)):(E.setEnd(f.node,f.offset),T.addRange(E))))),E=[];for(T=w;T=T.parentNode;)1===T.nodeType&&E.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<E.length;w++)(T=E[w]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Kt=!!yn,mn=yn=null,e.current=n,Ms=o;do{try{for(w=e;null!==Ms;){var S=Ms.effectTag;if(36&S&&is(w,Ms.alternate,Ms),128&S){E=void 0;var C=Ms.ref;if(null!==C){var I=Ms.stateNode;switch(Ms.tag){case 5:E=I;break;default:E=I}"function"===typeof C?C(E):C.current=E}}Ms=Ms.nextEffect}}catch(_){if(null===Ms)throw Error(a(330));vu(Ms,_),Ms=Ms.nextEffect}}while(null!==Ms);Ms=null,Mo(),Ss=i}else e.current=n;if(Us)Us=!1,qs=e,Bs=t;else for(Ms=o;null!==Ms;)t=Ms.nextEffect,Ms.nextEffect=null,Ms=t;if(0===(t=e.firstPendingTime)&&(js=null),1073741823===t?e===Ws?zs++:(zs=0,Ws=e):zs=0,"function"===typeof Eu&&Eu(n.stateNode,r),Xs(e),Ls)throw Ls=!1,e=Fs,Fs=null,e;return 0!==(8&Ss)||Ko(),null}function du(){for(;null!==Ms;){var e=Ms.effectTag;0!==(256&e)&&ns(Ms.alternate,Ms),0===(512&e)||Us||(Us=!0,Wo(97,(function(){return yu(),null}))),Ms=Ms.nextEffect}}function yu(){if(90!==Bs){var e=97<Bs?97:Bs;return Bs=90,zo(e,mu)}}function mu(){if(null===qs)return!1;var e=qs;if(qs=null,0!==(48&Ss))throw Error(a(331));var t=Ss;for(Ss|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),os(5,n)}}catch(r){if(null===e)throw Error(a(330));vu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ss=t,Ko(),!0}function gu(e,t,n){ci(e,t=ds(e,t=Ja(n,t),1073741823)),null!==(e=Ys(e,1073741823))&&Xs(e)}function vu(e,t){if(3===e.tag)gu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===js||!js.has(r))){ci(n,e=ys(n,e=Ja(t,e),1073741823)),null!==(n=Ys(n,1073741823))&&Xs(n);break}}n=n.return}}function bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Cs===e&&_s===n?ks===Ts||ks===Es&&1073741823===Ds&&qo()-Rs<500?nu(e,_s):Ps=!0:xu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Xs(e)))}function wu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Gs(t=Ks(),e,null)),null!==(e=Ys(e,t))&&Xs(e)}ms=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||ho.current)Aa=!0;else{if(r<n){switch(Aa=!1,t.tag){case 3:Ua(t),Na();break;case 5:if(Ri(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mo(t.type)&&wo(t);break;case 4:xi(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,o=t.type._context,co($o,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Wa(e,t,n):(co(Li,1&Li.current),null!==(t=Ha(e,t,n))?t.sibling:null);co(Li,1&Li.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Ga(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),co(Li,Li.current),!r)return null}return Ha(e,t,n)}Aa=!1}}else Aa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=yo(t,fo.current),ri(t,n),o=Hi(null,t,r,e,o,n),t.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mo(r)){var i=!0;wo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ai(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&yi(t,r,s,e),o.updater=mi,t.stateNode=o,o._reactInternalFiber=t,wi(t,r,e,n),t=ja(null,t,r,!0,i,n)}else t.tag=0,Oa(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,i=t.tag=function(e){if("function"===typeof e)return Iu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(o),e=Yo(o,e),i){case 0:t=La(null,t,o,e,n);break e;case 1:t=Fa(null,t,o,e,n);break e;case 11:t=xa(null,t,o,e,n);break e;case 14:t=Pa(null,t,o,Yo(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,La(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Fa(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 3:if(Ua(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,si(e,t),fi(t,r,null,n),(r=t.memoizedState.element)===o)Na(),t=Ha(e,t,n);else{if((o=t.stateNode.hydrate)&&(Ea=En(t.stateNode.containerInfo.firstChild),wa=t,o=Ta=!0),o)for(n=_i(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Oa(e,t,r,n),Na();t=t.child}return t;case 5:return Ri(t),null===e&&Ia(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,vn(r,o)?s=null:null!==i&&vn(r,i)&&(t.effectTag|=16),Ma(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Oa(e,t,s,n),t=t.child),t;case 6:return null===e&&Ia(t),null;case 13:return Wa(e,t,n);case 4:return xi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ii(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xa(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var u=t.type._context;if(co($o,u._currentValue),u._currentValue=i,null!==s)if(u=s.value,0===(i=Fr(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===o.children&&!ho.current){t=Ha(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=ui(n,null)).tag=2,ci(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ni(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Oa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ri(t,n),r=r(o=oi(o,i.unstable_observedBits)),t.effectTag|=1,Oa(e,t,r,n),t.child;case 14:return i=Yo(o=t.type,t.pendingProps),Pa(e,t,o,i=Yo(o.type,i),r,n);case 15:return Ra(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Yo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mo(r)?(e=!0,wo(t)):e=!1,ri(t,n),vi(t,r,o),wi(t,r,o,n),ja(null,t,r,!0,e,n);case 19:return Ga(e,t,n)}throw Error(a(156,t.tag))};var Eu=null,Tu=null;function Su(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Cu(e,t,n,r){return new Su(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _u(e,t){var n=e.alternate;return null===n?((n=Cu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ku(e,t,n,r,o,i){var s=2;if(r=e,"function"===typeof e)Iu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Nu(n.children,o,i,t);case se:s=8,o|=7;break;case re:s=8,o|=1;break;case oe:return(e=Cu(12,n,t,8|o)).elementType=oe,e.type=oe,e.expirationTime=i,e;case ce:return(e=Cu(13,n,t,o)).type=ce,e.elementType=ce,e.expirationTime=i,e;case le:return(e=Cu(19,n,t,o)).elementType=le,e.expirationTime=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ie:s=10;break e;case ae:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case he:s=16,r=null;break e;case pe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Cu(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function Nu(e,t,n,r){return(e=Cu(7,e,r,t)).expirationTime=n,e}function Du(e,t,n){return(e=Cu(6,e,null,t)).expirationTime=n,e}function Au(e,t,n){return(t=Cu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ou(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function xu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Pu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ru(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Mu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Lu(e,t,n,r){var o=t.current,i=Ks(),s=pi.suspense;i=Gs(i,o,s);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mo(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mo(c)){n=bo(n,c,u);break e}}n=u}else n=lo;return null===t.context?t.context=n:t.pendingContext=n,(t=ui(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ci(o,t),Hs(o,i),i}function Fu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function ju(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Uu(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function qu(e,t,n){var r=new Ou(e,t,n=null!=n&&!0===n.hydrate),o=Cu(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,ai(o),e[_n]=r.current,n&&0!==t&&function(e,t){var n=Je(t);_t.forEach((function(e){dt(e,t,n)})),kt.forEach((function(e){dt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Bu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"===typeof o){var s=o;o=function(){var e=Fu(a);s.call(e)}}Lu(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new qu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"===typeof o){var u=o;o=function(){var e=Fu(a);u.call(e)}}tu((function(){Lu(t,a,e,o)}))}return Fu(a)}function zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Wu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bu(t))throw Error(a(200));return zu(e,t,null,n)}qu.prototype.render=function(e){Lu(e,this._internalRoot,null,null)},qu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Lu(null,e,null,(function(){t[_n]=null}))},yt=function(e){if(13===e.tag){var t=Ho(Ks(),150,100);Hs(e,t),Uu(e,t)}},mt=function(e){13===e.tag&&(Hs(e,3),Uu(e,3))},gt=function(e){if(13===e.tag){var t=Ks();Hs(e,t=Gs(t,e,null)),Uu(e,t)}},N=function(e,t,n){switch(t){case"input":if(Ie(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=An(r);if(!o)throw Error(a(90));Ee(r),Ie(r,o)}}}break;case"textarea":xe(e,n);break;case"select":null!=(t=n.value)&&De(e,!!n.multiple,t,!1)}},R=eu,M=function(e,t,n,r,o){var i=Ss;Ss|=4;try{return zo(98,e.bind(null,t,n,r,o))}finally{0===(Ss=i)&&Ko()}},L=function(){0===(49&Ss)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Mu(t,e),Xs(t)})),Ko()}}(),yu())},F=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&Ko()}};var Qu={Events:[Nn,Dn,An,_,S,Fn,function(e){ot(e,Ln)},x,P,Xt,st,yu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Eu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Tu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(o({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:kn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qu,t.createPortal=Wu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ss))throw Error(a(187));var n=Ss;Ss|=1;try{return zo(99,e.bind(null,t))}finally{Ss=n,Ko()}},t.hydrate=function(e,t,n){if(!Bu(t))throw Error(a(200));return Vu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Bu(t))throw Error(a(200));return Vu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bu(e))throw Error(a(40));return!!e._reactRootContainer&&(tu((function(){Vu(null,null,e,!1,(function(){e._reactRootContainer=null,e[_n]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return Wu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bu(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Vu(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(79)},function(e,t,n){"use strict";var r,o,i,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},o=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,d=window.setTimeout,y=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var g=p.now();t.unstable_now=function(){return p.now()-g}}var v=!1,b=null,w=-1,E=5,T=0;a=function(){return t.unstable_now()>=T},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,C=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();T=e+E;try{b(!0,e)?C.postMessage(null):(v=!1,b=null)}catch(n){throw C.postMessage(null),n}}else v=!1},r=function(e){b=e,v||(v=!0,C.postMessage(null))},o=function(e,n){w=d((function(){e(t.unstable_now())}),n)},i=function(){y(w),w=-1}}function I(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<N(o,t)))break e;e[r]=t,e[n]=o,n=r}}function _(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,u=e[s];if(void 0!==a&&0>N(a,n))void 0!==u&&0>N(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==u&&0>N(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function N(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var D=[],A=[],O=1,x=null,P=3,R=!1,M=!1,L=!1;function F(e){for(var t=_(A);null!==t;){if(null===t.callback)k(A);else{if(!(t.startTime<=e))break;k(A),t.sortIndex=t.expirationTime,I(D,t)}t=_(A)}}function j(e){if(L=!1,F(e),!M)if(null!==_(D))M=!0,r(U);else{var t=_(A);null!==t&&o(j,t.startTime-e)}}function U(e,n){M=!1,L&&(L=!1,i()),R=!0;var r=P;try{for(F(n),x=_(D);null!==x&&(!(x.expirationTime>n)||e&&!a());){var s=x.callback;if(null!==s){x.callback=null,P=x.priorityLevel;var u=s(x.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?x.callback=u:x===_(D)&&k(D),F(n)}else k(D);x=_(D)}if(null!==x)var c=!0;else{var l=_(A);null!==l&&o(j,l.startTime-n),c=!1}return c}finally{x=null,P=r,R=!1}}function q(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||R||(M=!0,r(U))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return _(D)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:q(e)}else a=q(e),u=s;return e={id:O++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,I(A,e),null===_(D)&&e===_(A)&&(L?i():L=!0,o(j,u-s))):(e.sortIndex=a,I(D,e),M||R||(M=!0,r(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=_(D);return n!==x&&null!==x&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<x.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},function(e,t,n){},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function T(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case h:case a:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof){case l:case p:case g:case m:case c:return e;default:return t}}case i:return t}}}function S(e){return T(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return S(e)||T(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return T(e)===l},t.isContextProvider=function(e){return T(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return T(e)===p},t.isFragment=function(e){return T(e)===a},t.isLazy=function(e){return T(e)===g},t.isMemo=function(e){return T(e)===m},t.isPortal=function(e){return T(e)===i},t.isProfiler=function(e){return T(e)===u},t.isStrictMode=function(e){return T(e)===s},t.isSuspense=function(e){return T(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===u||e===s||e===d||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===w||e.$$typeof===E||e.$$typeof===v)},t.typeOf=T},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(8)),i=p(n(5)),a=p(n(84)),s=p(n(86)),u=p(n(88)),c=n(46),l=n(22),f=p(n(48)),h=n(34);function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={toast:[]},t.toastKey=1,t.collection={},t.isToastActive=function(e){return-1!==t.state.toast.indexOf(e)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=o.prototype;return u.componentDidMount=function(){var e=this;f.default.on(l.ACTION.SHOW,(function(t,n){return e.show(t,n)})).on(l.ACTION.CLEAR,(function(t){return t?e.removeToast(t):e.clear()})).emit(l.ACTION.DID_MOUNT,this)},u.componentWillUnmount=function(){f.default.off(l.ACTION.SHOW).off(l.ACTION.CLEAR).emit(l.ACTION.WILL_UNMOUNT)},u.removeToast=function(e){this.setState({toast:this.state.toast.filter((function(t){return t!==e}))},this.dispatchChange)},u.dispatchChange=function(){f.default.emit(l.ACTION.ON_CHANGE,this.state.toast.length)},u.makeCloseButton=function(e,t,n){var o=this,i=this.props.closeButton;return((0,r.isValidElement)(e)||!1===e)&&(i=e),!1!==i&&(0,r.cloneElement)(i,{closeToast:function(){return o.removeToast(t)},type:n})},u.getAutoCloseDelay=function(e){return!1===e||(0,h.isValidDelay)(e)?e:this.props.autoClose},u.canBeRendered=function(e){return(0,r.isValidElement)(e)||"string"===typeof e||"number"===typeof e||"function"===typeof e},u.parseClassName=function(e){return"string"===typeof e?e:null!==e&&"object"===typeof e&&"toString"in e?e.toString():null},u.show=function(e,t){var n,o=this;if(!this.canBeRendered(e))throw new Error("The element you provided cannot be rendered. You provided an element of type "+typeof e);var i=t.toastId,a=function(){return o.removeToast(i)},s={id:i,key:t.key||this.toastKey++,type:t.type,closeToast:a,updateId:t.updateId,rtl:this.props.rtl,position:t.position||this.props.position,transition:t.transition||this.props.transition,className:this.parseClassName(t.className||this.props.toastClassName),bodyClassName:this.parseClassName(t.bodyClassName||this.props.bodyClassName),closeButton:this.makeCloseButton(t.closeButton,i,t.type),pauseOnHover:"boolean"===typeof t.pauseOnHover?t.pauseOnHover:this.props.pauseOnHover,pauseOnFocusLoss:"boolean"===typeof t.pauseOnFocusLoss?t.pauseOnFocusLoss:this.props.pauseOnFocusLoss,draggable:"boolean"===typeof t.draggable?t.draggable:this.props.draggable,draggablePercent:"number"!==typeof t.draggablePercent||isNaN(t.draggablePercent)?this.props.draggablePercent:t.draggablePercent,closeOnClick:"boolean"===typeof t.closeOnClick?t.closeOnClick:this.props.closeOnClick,progressClassName:this.parseClassName(t.progressClassName||this.props.progressClassName),progressStyle:this.props.progressStyle,autoClose:this.getAutoCloseDelay(t.autoClose),hideProgressBar:"boolean"===typeof t.hideProgressBar?t.hideProgressBar:this.props.hideProgressBar,progress:parseFloat(t.progress),isProgressDone:t.isProgressDone};"function"===typeof t.onOpen&&(s.onOpen=t.onOpen),"function"===typeof t.onClose&&(s.onClose=t.onClose),(0,r.isValidElement)(e)&&"string"!==typeof e.type&&"number"!==typeof e.type?e=(0,r.cloneElement)(e,{closeToast:a}):"function"===typeof e&&(e=e({closeToast:a})),this.collection=y({},this.collection,((n={})[i]={position:s.position,options:s,content:e},n)),this.setState({toast:(s.updateId?d(this.state.toast):d(this.state.toast).concat([i])).filter((function(e){return e!==t.staleToastId}))},this.dispatchChange)},u.makeToast=function(e,t){return r.default.createElement(s.default,y({},t,{isDocumentHidden:this.state.isDocumentHidden,key:"toast-"+t.key}),e)},u.clear=function(){this.setState({toast:[]})},u.renderToast=function(){var e=this,t={},n=this.props,o=n.className,s=n.style;return(n.newestOnTop?Object.keys(this.collection).reverse():Object.keys(this.collection)).forEach((function(n){var r=e.collection[n],o=r.position,i=r.options,a=r.content;t[o]||(t[o]=[]),-1!==e.state.toast.indexOf(i.id)?t[o].push(e.makeToast(a,i)):(t[o].push(null),delete e.collection[n])})),Object.keys(t).map((function(n){var u=1===t[n].length&&null===t[n][0],c={className:(0,i.default)("Toastify__toast-container","Toastify__toast-container--"+n,{"Toastify__toast-container--rtl":e.props.rtl},e.parseClassName(o)),style:u?y({},s,{pointerEvents:"none"}):y({},s)};return r.default.createElement(a.default,y({},c,{key:"container-"+n}),t[n])}))},u.render=function(){return r.default.createElement("div",{className:"Toastify"},this.renderToast())},o}(r.Component);m.propTypes={position:o.default.oneOf((0,h.objectValues)(l.POSITION)),autoClose:h.falseOrDelay,closeButton:h.falseOrElement,hideProgressBar:o.default.bool,pauseOnHover:o.default.bool,closeOnClick:o.default.bool,newestOnTop:o.default.bool,className:o.default.oneOfType([o.default.string,o.default.object]),style:o.default.object,toastClassName:o.default.oneOfType([o.default.string,o.default.object]),bodyClassName:o.default.oneOfType([o.default.string,o.default.object]),progressClassName:o.default.oneOfType([o.default.string,o.default.object]),progressStyle:o.default.object,transition:o.default.func,rtl:o.default.bool,draggable:o.default.bool,draggablePercent:o.default.number,pauseOnFocusLoss:o.default.bool},m.defaultProps={position:l.POSITION.TOP_RIGHT,transition:c.Bounce,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:r.default.createElement(u.default,null),pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,className:null,style:null,toastClassName:null,bodyClassName:null,progressClassName:null,progressStyle:null};var g=m;t.default=g},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(8)),o=s(n(0)),i=n(30),a=n(85);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){var t,n;function r(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:o,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},i.componentDidMount=function(){this.appeared=!0,this.mounted=!0},i.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},i.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=u({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["component","childFactory"]),i=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i:o.default.createElement(t,r,i)},r}(o.default.Component);f.childContextTypes={transitionGroup:r.default.object.isRequired},f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var h=(0,i.polyfill)(f);t.default=h,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=i,t.getInitialChildMapping=function(e,t){return o(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=o(e.children),u=i(t,s);return Object.keys(u).forEach((function(o){var i=u[o];if((0,r.isValidElement)(i)){var c=o in t,l=o in s,f=t[o],h=(0,r.isValidElement)(f)&&!f.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,r.isValidElement)(f)&&(u[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:f.props.in,exit:a(i,"exit",e),enter:a(i,"enter",e)})):u[o]=(0,r.cloneElement)(i,{in:!1}):u[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:a(i,"exit",e),enter:a(i,"enter",e)})}})),u};var r=n(0);function o(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var u in t){if(o[u])for(r=0;r<o[u].length;r++){var c=o[u][r];s[o[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(8)),i=c(n(5)),a=c(n(87)),s=n(22),u=n(34);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function h(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}var p=function(){},d=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isRunning:!0,preventExitTransition:!1},t.flag={canCloseOnClick:!0,canDrag:!1},t.drag={start:0,x:0,y:0,deltaX:0,removalDistance:0},t.ref=null,t.pauseToast=function(){t.props.autoClose&&t.setState({isRunning:!1})},t.playToast=function(){t.props.autoClose&&t.setState({isRunning:!0})},t.onDragStart=function(e){t.flag.canCloseOnClick=!0,t.flag.canDrag=!0,t.ref.style.transition="",t.drag.start=t.drag.x=f(e.nativeEvent),t.drag.removalDistance=t.ref.offsetWidth*(t.props.draggablePercent/100)},t.onDragMove=function(e){t.flag.canDrag&&(t.state.isRunning&&t.pauseToast(),t.drag.x=f(e),t.drag.deltaX=t.drag.x-t.drag.start,t.drag.start!==t.drag.x&&(t.flag.canCloseOnClick=!1),t.ref.style.transform="translateX("+t.drag.deltaX+"px)",t.ref.style.opacity=1-Math.abs(t.drag.deltaX/t.drag.removalDistance))},t.onDragEnd=function(e){if(t.flag.canDrag){if(t.flag.canDrag=!1,Math.abs(t.drag.deltaX)>t.drag.removalDistance)return void t.setState({preventExitTransition:!0},t.props.closeToast);t.drag.y=h(e),t.ref.style.transition="transform 0.2s, opacity 0.2s",t.ref.style.transform="translateX(0)",t.ref.style.opacity=1}},t.onDragTransitionEnd=function(){var e=t.ref.getBoundingClientRect(),n=e.top,r=e.bottom,o=e.left,i=e.right;t.props.pauseOnHover&&t.drag.x>=o&&t.drag.x<=i&&t.drag.y>=n&&t.drag.y<=r?t.pauseToast():t.playToast()},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.componentDidMount=function(){this.props.onOpen(this.props.children.props),this.props.draggable&&this.bindDragEvents(),this.props.pauseOnFocusLoss&&this.bindFocusEvents()},s.componentDidUpdate=function(e){e.draggable!==this.props.draggable&&(this.props.draggable?this.bindDragEvents():this.unbindDragEvents()),e.pauseOnFocusLoss!==this.props.pauseOnFocusLoss&&(this.props.pauseOnFocusLoss?this.bindFocusEvents():this.unbindFocusEvents())},s.componentWillUnmount=function(){this.props.onClose(this.props.children.props),this.props.draggable&&this.unbindDragEvents(),this.props.pauseOnFocusLoss&&this.unbindFocusEvents()},s.bindFocusEvents=function(){window.addEventListener("focus",this.playToast),window.addEventListener("blur",this.pauseToast)},s.unbindFocusEvents=function(){window.removeEventListener("focus",this.playToast),window.removeEventListener("blur",this.pauseToast)},s.bindDragEvents=function(){document.addEventListener("mousemove",this.onDragMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchmove",this.onDragMove),document.addEventListener("touchend",this.onDragEnd)},s.unbindDragEvents=function(){document.removeEventListener("mousemove",this.onDragMove),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchmove",this.onDragMove),document.removeEventListener("touchend",this.onDragEnd)},s.render=function(){var e=this,t=this.props,n=t.closeButton,o=t.children,s=t.autoClose,u=t.pauseOnHover,c=t.closeOnClick,f=t.type,h=t.hideProgressBar,p=t.closeToast,d=t.transition,y=t.position,m=t.onExited,g=t.className,v=t.bodyClassName,b=t.progressClassName,w=t.progressStyle,E=t.updateId,T=t.role,S=t.progress,C=t.isProgressDone,I=t.rtl,_={className:(0,i.default)("Toastify__toast","Toastify__toast--"+f,{"Toastify__toast--rtl":I},g)};s&&u&&(_.onMouseEnter=this.pauseToast,_.onMouseLeave=this.playToast),c&&(_.onClick=function(){return e.flag.canCloseOnClick&&p()});var k=parseFloat(S)===S;return r.default.createElement(d,{in:this.props.in,appear:!0,unmountOnExit:!0,onExited:m,position:y,preventExitTransition:this.state.preventExitTransition},r.default.createElement("div",l({},_,{ref:function(t){return e.ref=t},onMouseDown:this.onDragStart,onTouchStart:this.onDragStart,onTransitionEnd:this.onDragTransitionEnd}),r.default.createElement("div",l({},this.props.in&&{role:T},{className:(0,i.default)("Toastify__toast-body",v)}),o),n&&n,(s||k)&&r.default.createElement(a.default,l({},E&&!k?{key:"pb-"+E}:{},{rtl:I,delay:s,isRunning:this.state.isRunning,closeToast:p,hide:h,type:f,style:w,className:b,controlledProgress:k,isProgressDone:C,progress:S}))))},o}(r.Component);d.propTypes={closeButton:u.falseOrElement.isRequired,autoClose:u.falseOrDelay.isRequired,children:o.default.node.isRequired,closeToast:o.default.func.isRequired,position:o.default.oneOf((0,u.objectValues)(s.POSITION)).isRequired,pauseOnHover:o.default.bool.isRequired,pauseOnFocusLoss:o.default.bool.isRequired,closeOnClick:o.default.bool.isRequired,transition:o.default.func.isRequired,rtl:o.default.bool.isRequired,hideProgressBar:o.default.bool.isRequired,draggable:o.default.bool.isRequired,draggablePercent:o.default.number.isRequired,in:o.default.bool,onExited:o.default.func,onOpen:o.default.func,onClose:o.default.func,type:o.default.oneOf((0,u.objectValues)(s.TYPE)),className:o.default.oneOfType([o.default.string,o.default.object]),bodyClassName:o.default.oneOfType([o.default.string,o.default.object]),progressClassName:o.default.oneOfType([o.default.string,o.default.object]),progressStyle:o.default.object,progress:o.default.number,isProgressDone:o.default.bool,updateId:o.default.oneOfType([o.default.string,o.default.number]),ariaLabel:o.default.string},d.defaultProps={type:s.TYPE.DEFAULT,in:!0,onOpen:p,onClose:p,className:null,bodyClassName:null,progressClassName:null,updateId:null,role:"alert"};var y=d;t.default=y},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(0)),o=u(n(8)),i=u(n(5)),a=n(22),s=n(34);function u(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){var t,n=e.delay,o=e.isRunning,a=e.closeToast,s=e.type,u=e.hide,l=e.className,f=e.style,h=e.controlledProgress,p=e.progress,d=e.isProgressDone,y=e.rtl,m=c({},f,{animationDuration:n+"ms",animationPlayState:o?"running":"paused",opacity:u?0:1,transform:h?"scaleX("+p+")":null}),g=(0,i.default)("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar--"+s,{"Toastify__progress-bar--rtl":y},l),v=((t={})[h&&d?"onTransitionEnd":"onAnimationEnd"]=h&&!d?null:a,t);return r.default.createElement("div",c({className:g,style:m},v))}l.propTypes={delay:s.falseOrDelay.isRequired,isRunning:o.default.bool.isRequired,closeToast:o.default.func.isRequired,rtl:o.default.bool.isRequired,type:o.default.string,hide:o.default.bool,className:o.default.oneOfType([o.default.string,o.default.object]),progress:o.default.number,controlledProgress:o.default.bool,isProgressDone:o.default.bool},l.defaultProps={type:a.TYPE.DEFAULT,hide:!1};var f=l;t.default=f},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(0)),o=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.closeToast,n=e.type,o=e.ariaLabel;return r.default.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:t,"aria-label":o},"\u2716")}a.propTypes={closeToast:o.default.func,arialLabel:o.default.string},a.defaultProps={ariaLabel:"close"};var s=a;t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(8)),o=s(n(0)),i=s(n(24)),a=n(30);n(90);function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var u=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var o,i=n.transitionGroup,a=i&&!i.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o="exited",r.appearStatus="entering"):o="entered":o=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:o},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e,t){var n=this,r=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),a=o?i.appear:i.enter;t||r?(this.props.onEnter(e,o),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,o)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var i=o.default.Children.only(n);return o.default.cloneElement(i,r)},r}(o.default.Component);function c(){}u.contextTypes={transitionGroup:r.object},u.childContextTypes={transitionGroup:function(){}},u.propTypes={},u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},u.UNMOUNTED=0,u.EXITED=1,u.ENTERING=2,u.ENTERED=3,u.EXITING=4;var l=(0,a.polyfill)(u);t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(8))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(48))&&r.__esModule?r:{default:r},i=n(22);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=null,u=[],c=function(){return!1};function l(e,t){return a({},e,{type:t,toastId:h(e)})}function f(){return(Math.random().toString(36)+Date.now().toString(36)).substr(2,10)}function h(e){return e&&("string"===typeof e.toastId||"number"===typeof e.toastId&&!isNaN(e.toastId))?e.toastId:f()}function p(e,t){return null!==s?o.default.emit(i.ACTION.SHOW,e,t):u.push({action:i.ACTION.SHOW,content:e,options:t}),t.toastId}var d=a((function(e,t){return p(e,l(t,t&&t.type||i.TYPE.DEFAULT))}),{success:function(e,t){return p(e,l(t,i.TYPE.SUCCESS))},info:function(e,t){return p(e,l(t,i.TYPE.INFO))},warn:function(e,t){return p(e,l(t,i.TYPE.WARNING))},warning:function(e,t){return p(e,l(t,i.TYPE.WARNING))},error:function(e,t){return p(e,l(t,i.TYPE.ERROR))},dismiss:function(e){return void 0===e&&(e=null),s&&o.default.emit(i.ACTION.CLEAR,e)},isActive:c,update:function(e,t){setTimeout((function(){if(s&&"undefined"!==typeof s.collection[e]){var n=s.collection[e],r=n.options,o=n.content,i=a({},r,t,{toastId:t.toastId||e});t.toastId&&t.toastId!==e?i.staleToastId=e:i.updateId=f();var u="undefined"!==typeof i.render?i.render:o;delete i.render,p(u,i)}}),0)},done:function(e,t){void 0===t&&(t=1),d.update(e,{progress:t,isProgressDone:!0})},onChange:function(e){"function"===typeof e&&o.default.on(i.ACTION.ON_CHANGE,e)},POSITION:i.POSITION,TYPE:i.TYPE});o.default.on(i.ACTION.DID_MOUNT,(function(e){s=e,d.isActive=function(e){return s.isToastActive(e)},u.forEach((function(e){o.default.emit(e.action,e.content,e.options)})),u=[]})).on(i.ACTION.WILL_UNMOUNT,(function(){s=null,d.isActive=c}));var y=d;t.default=y},function(e,t,n){var r=n(49),o=n(93),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(94)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(96),o=n(54),i=n(103),a=n(104),s=n(105),u=n(23),c=n(53),l=c(r),f=c(o),h=c(i),p=c(a),d=c(s),y=u;(r&&"[object DataView]"!=y(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=y(new o)||i&&"[object Promise]"!=y(i.resolve())||a&&"[object Set]"!=y(new a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return t}),e.exports=y},function(e,t,n){var r=n(19)(n(13),"DataView");e.exports=r},function(e,t,n){var r=n(50),o=n(100),i=n(52),a=n(53),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?h:s).test(a(e))}},function(e,t,n){var r=n(35),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(101),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(13)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(19)(n(13),"Promise");e.exports=r},function(e,t,n){var r=n(19)(n(13),"Set");e.exports=r},function(e,t,n){var r=n(19)(n(13),"WeakMap");e.exports=r},function(e,t,n){var r=n(107),o=n(25),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){var r=n(23),o=n(25);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t,n){var r=n(50),o=n(55);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){(function(e){var r=n(13),o=n(110),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u}).call(this,n(56)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(112),o=n(113),i=n(114),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(23),o=n(55),i=n(25),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(51),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s}).call(this,n(56)(e))},function(e,t,n){var r=n(116),o=n(144);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(26),o=n(117),i=n(118),a=n(141);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(26),o=n(36),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(119),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(120);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(121);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(122),o=n(136),i=n(138),a=n(139),s=n(140);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(123),o=n(129),i=n(54);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(124),o=n(125),i=n(126),a=n(127),s=n(128);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(27);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(27),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(27),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(27);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(130),o=n(131),i=n(133),a=n(134),s=n(135);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(28),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(28);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(28);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(28);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(29);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(29);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(29);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(29);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(142);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(35),o=n(143),i=n(26),a=n(36),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(36);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var c={};function l(){}function f(){}function h(){}var p={};p[o]=function(){return this};var d=Object.getPrototypeOf,y=d&&d(d(S([])));y&&y!==t&&n.call(y,o)&&(p=y);var m=h.prototype=l.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function v(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=m.constructor=h,h.constructor=f,h[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(v.prototype),v.prototype[i]=function(){return this},e.AsyncIterator=v,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new v(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(m),m[a]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],a=o+1<e.length,s=a?e[o+1]:0,u=o+2<e.length,c=u?e[o+2]:0,l=i>>2,f=(3&i)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{i=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0,s=++o<e.length?n[e.charAt(o)]:64,u=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==u)throw Error();var c=i<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var p=function(e){function t(n,r){var o=e.call(this,r)||this;return o.code=n,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,d.prototype.create),o}return r.__extends(t,e),t}(Error),d=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},o=this.service+"/"+e,i=this.errors[e],a=i?y(i,r):"Error",s=this.serviceName+": "+a+" ("+o+").",u=new p(o,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},e}();function y(e,t){return e.replace(m,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function g(e){return JSON.parse(e)}var v=function(e){var t={},n={},r={},o="";try{var i=e.split(".");t=g(c(i[0])||""),n=g(c(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:o}};var b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^u&(c^l),a=1518500249):(i=u^c^l,a=1859775393):r<60?(i=u&c|l&(u|c),a=2400959708):(i=u^c^l,a=3395469782);o=(s<<5|s>>>27)+i+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e},e}();var w=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"===typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}})),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function E(){}function T(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=e+" failed: ";return o+=r+" argument "}t.CONSTANTS=o,t.Deferred=f,t.ErrorFactory=d,t.FirebaseError=p,t.Sha1=b,t.assert=i,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new w(e,t);return n.subscribe.bind(n)},t.decode=v,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=T,t.getUA=h,t.isAdmin=function(e){var t=v(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}},t.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=v(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=v(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),o=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},t.issuedAtTime=function(e){var t=v(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=g,t.map=function(e,t,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,o=Object.entries(e);r<o.length;r++){var i=o[r];n(i[0],i[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var o;if(r<t?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(T(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(T(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(T(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(21))},function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",(function(){return r})),n.d(t,"Logger",(function(){return s})),n.d(t,"setLogLevel",(function(){return u}));var r,o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));var i=r.INFO,a=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var i=(new Date).toISOString();switch(t){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+i+"]  "+e.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+i+"]  "+e.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+i+"]  "+e.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+i+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},s=function(){function e(e){this.name=e,this._logLevel=i,this._logHandler=a,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.ERROR].concat(e))},e}();function u(e){o.forEach((function(t){t.logLevel=e}))}},function(e,t,n){(function(e){!function(t){"use strict";try{(function(){var n,r;function o(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(!(t<e.logLevel)){var i=(new Date).toISOString();switch(t){case n.DEBUG:case n.VERBOSE:console.log.apply(console,["["+i+"]  "+e.name+":"].concat(r));break;case n.INFO:console.info.apply(console,["["+i+"]  "+e.name+":"].concat(r));break;case n.WARN:console.warn.apply(console,["["+i+"]  "+e.name+":"].concat(r));break;case n.ERROR:console.error.apply(console,["["+i+"]  "+e.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}}t=t&&t.hasOwnProperty("default")?t.default:t,(r=n=n||{})[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";var i=n.INFO,a=(Object.defineProperty(s.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in n))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),s.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.DEBUG].concat(e))},s.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.VERBOSE].concat(e))},s.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.INFO].concat(e))},s.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.WARN].concat(e))},s.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.ERROR].concat(e))},s);function s(e){this.name=e,this._logLevel=i,this._logHandler=o}var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function c(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function l(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p,d=(c(y,p=Error),y);function y(e,t){var n=p.call(this,t)||this;return n.code=e,n.name="FirebaseError",Object.setPrototypeOf(n,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,m.prototype.create),n}var m=(g.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},o=this.service+"/"+e,i=this.errors[e],a=i?function(e,t){return e.replace(b,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}(i,r):"Error",s=this.serviceName+": "+a+" ("+o+").",u=new d(o,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},g);function g(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var v,b=/\{\$([^}]+)}/g,w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},E=E||{},T=w;function S(e){return"string"==typeof e}function C(e){return"number"==typeof e}function I(e,t){e=e.split("."),t=t||T;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function _(){}function k(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function N(e){return"array"==k(e)}function D(e){var t=k(e);return"array"==t||"object"==t&&"number"==typeof e.length}function A(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var O="closure_uid_"+(1e9*Math.random()>>>0),x=0;function P(e,t,n){return e.call.apply(e.bind,arguments)}function R(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function M(e,t,n){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?P:R).apply(null,arguments)}function L(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var F=Date.now||function(){return+new Date};function j(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,(e.prototype.constructor=e).yb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function U(){this.j=this.j,this.i=this.i}U.prototype.j=!1,U.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[O]||(this[O]=++x))},U.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var q=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(S(e))return S(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},B=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=S(e)?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};function V(e){return Array.prototype.concat.apply([],arguments)}function z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function W(e){return/^[\s\xa0]*$/.test(e)}var Q,K=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function G(e,t){return-1!=e.indexOf(t)}function H(e,t){return e<t?-1:t<e?1:0}e:{var Y=T.navigator;if(Y){var $=Y.userAgent;if($){Q=$;break e}}Q=""}function X(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function J(e){var t,n={};for(t in e)n[t]=e[t];return n}var Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<Z.length;i++)n=Z[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function te(e){return te[" "](e),e}te[" "]=_;var ne,re,oe=G(Q,"Opera"),ie=G(Q,"Trident")||G(Q,"MSIE"),ae=G(Q,"Edge"),se=ae||ie,ue=G(Q,"Gecko")&&!(G(Q.toLowerCase(),"webkit")&&!G(Q,"Edge"))&&!(G(Q,"Trident")||G(Q,"MSIE"))&&!G(Q,"Edge"),ce=G(Q.toLowerCase(),"webkit")&&!G(Q,"Edge");function le(){var e=T.document;return e?e.documentMode:void 0}e:{var fe="",he=(re=Q,ue?/rv:([^\);]+)(\)|;)/.exec(re):ae?/Edge\/([\d\.]+)/.exec(re):ie?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(re):ce?/WebKit\/(\S+)/.exec(re):oe?/(?:Version)[ \/]?(\S+)/.exec(re):void 0);if(he&&(fe=he?he[1]:""),ie){var pe=le();if(null!=pe&&pe>parseFloat(fe)){ne=String(pe);break e}}ne=fe}var de,ye={};function me(e){return function(t,n){var r=ye;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=function(){for(var t=0,n=K(String(ne)).split("."),r=K(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=H(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||H(0==a[2].length,0==s[2].length)||H(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}()}(e)}var ge=T.document;de=ge&&ie?le()||("CSS1Compat"==ge.compatMode?parseInt(ne,10):5):void 0;var ve=!ie||9<=Number(de),be=ie&&!me("9"),we=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{T.addEventListener("test",_,t),T.removeEventListener("test",_,t)}catch(e){}return e}();function Ee(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function Te(e,t){if(Ee.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(ue){e:{try{te(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=S(e.pointerType)?e.pointerType:Se[e.pointerType]||"",(this.c=e).defaultPrevented&&this.b()}}Ee.prototype.b=function(){this.Ja=!1},j(Te,Ee);var Se={2:"touch",3:"pen",4:"mouse"};Te.prototype.b=function(){Te.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,be)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function _e(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=o,this.key=++Ie,this.X=this.Z=!1}function ke(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function Ne(e){this.src=e,this.a={},this.b=0}function De(e,t){var n=t.type;if(n in e.a){var r,o=e.a[n],i=q(o,t);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(ke(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Ae(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.X&&i.listener==t&&i.capture==!!n&&i.da==r)return o}return-1}Ne.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.a[i])||(e=this.a[i]=[],this.b++);var a=Ae(e,t,r,o);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new _e(t,this.src,i,!!r,o)).Z=n,e.push(t)),t};var Oe="closure_lm_"+(1e6*Math.random()|0),xe={};function Pe(e,t,n,r,o){if(r&&r.once)return function e(t,n,r,o,i){if(N(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,o,i);return null}return r=Be(r),t&&t[Ce]?t.Ba(n,r,A(o)?!!o.capture:!!o,i):Re(t,n,r,!0,o,i)}(e,t,n,r,o);if(N(t)){for(var i=0;i<t.length;i++)Pe(e,t[i],n,r,o);return null}return n=Be(n),e&&e[Ce]?e.Aa(t,n,A(r)?!!r.capture:!!r,o):Re(e,t,n,!1,r,o)}function Re(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=A(o)?!!o.capture:!!o;if(a&&!ve)return null;var s=Ue(e);if(s||(e[Oe]=s=new Ne(e)),(n=s.add(t,n,r,a,i)).proxy)return n;if(r=function(){var e=je,t=ve?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),(n.proxy=r).src=e,r.listener=n,e.addEventListener)we||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(Le(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Me(e){if(!C(e)&&e&&!e.X){var t=e.src;if(t&&t[Ce])De(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Le(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ue(t))?(De(n,e),0==n.b&&(n.src=null,t[Oe]=null)):ke(e)}}}function Le(e){return e in xe?xe[e]:xe[e]="on"+e}function Fe(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&Me(e),n.call(r,t)}function je(e,t){return!!e.X||Fe(e,ve?new Te(t,this):t=new Te(t||I("window.event"),this))}function Ue(e){return(e=e[Oe])instanceof Ne?e:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(e){return"function"==k(e)?e:(e[qe]||(e[qe]=function(t){return e.handleEvent(t)}),e[qe])}function Ve(){U.call(this),this.c=new Ne(this),(this.J=this).B=null}function ze(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&De(e.c,a),o=!1!==s.call(u,r)&&o}}return o&&0!=r.Ja}j(Ve,U),Ve.prototype[Ce]=!0,(v=Ve.prototype).addEventListener=function(e,t,n,r){Pe(this,e,t,n,r)},v.removeEventListener=function(e,t,n,r){!function e(t,n,r,o,i){if(N(n))for(var a=0;a<n.length;a++)e(t,n[a],r,o,i);else o=A(o)?!!o.capture:!!o,r=Be(r),t&&t[Ce]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=Ae(a=t.a[n],r,o,i))&&(ke(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):(t=t&&Ue(t))&&(n=t.a[n.toString()],t=-1,n&&(t=Ae(n,r,o,i)),(r=-1<t?n[t]:null)&&Me(r))}(this,e,t,n,r)},v.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(S(e))e=new Ee(e,n);else if(e instanceof Ee)e.target=e.target||n;else{var o=e;ee(e=new Ee(r,n),o)}if(o=!0,t)for(var i=t.length-1;0<=i;i--){var a=e.a=t[i];o=ze(a,r,!0,e)&&o}if(o=ze(a=e.a=n,r,!0,e)&&o,o=ze(a,r,!1,e)&&o,t)for(i=0;i<t.length;i++)o=ze(a=e.a=t[i],r,!1,e)&&o;return o},v.G=function(){if(Ve.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ke(n[r]);delete t.a[e],t.b--}}this.B=null},v.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},v.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var We=T.JSON.stringify;function Qe(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ke(){this.b=this.a=null}Qe.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Ge,He=new Qe((function(){return new Ye}),(function(e){e.reset()}));function Ye(){this.next=this.b=this.a=null}function $e(e){T.setTimeout((function(){throw e}),0)}function Xe(e,t){Ge||function(){var e=T.Promise.resolve(void 0);Ge=function(){e.then(et)}}(),Je||(Ge(),Je=!0),Ze.add(e,t)}Ke.prototype.add=function(e,t){var n=He.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ye.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};var Je=!(Ye.prototype.reset=function(){this.next=this.b=this.a=null}),Ze=new Ke;function et(){for(var e;r=n=void 0,r=null,(n=Ze).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),e=r;){try{e.a.call(e.b)}catch(e){$e(e)}var t=He;t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}var n,r;Je=!1}function tt(e,t){Ve.call(this),this.b=e||1,this.a=t||T,this.f=M(this.gb,this),this.g=F()}function nt(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function rt(e,t,n){if("function"==k(e))n&&(e=M(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=M(e.handleEvent,e)}return 2147483647<Number(t)?-1:T.setTimeout(e,t||0)}function ot(e,t,n){U.call(this),this.f=null!=n?M(e,n):e,this.c=t,this.b=M(this.ab,this),this.a=[]}function it(e){e.U=rt(e.b,e.c),e.f.apply(null,e.a)}function at(e){U.call(this),this.b=e,this.a={}}j(tt,Ve),(v=tt.prototype).ba=!1,v.L=null,v.gb=function(){if(this.ba){var e=F()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(nt(this),this.start()))}},v.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=F())},v.G=function(){tt.N.G.call(this),nt(this),delete this.a},j(ot,U),(v=ot.prototype).ea=!1,v.U=null,v.Ua=function(e){this.a=arguments,this.U?this.ea=!0:it(this)},v.G=function(){ot.N.G.call(this),this.U&&(T.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},v.ab=function(){this.U=null,this.ea&&(this.ea=!1,it(this))},j(at,U);var st=[];function ut(e,t,n,r){N(n)||(n&&(st[0]=n.toString()),n=st);for(var o=0;o<n.length;o++){var i=Pe(t,n[o],r||e.handleEvent,!1,e.b||e);if(!i)break;e.a[i.key]=i}}function ct(e){X(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Me(e)}),e),e.a={}}function lt(){}at.prototype.G=function(){at.N.G.call(this),ct(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=new Ve;function ht(e){Ee.call(this,"serverreachability",e)}function pt(e){ft.dispatchEvent(new ht(ft,e))}function dt(e){Ee.call(this,"statevent",e)}function yt(e){ft.dispatchEvent(new dt(ft,e))}function mt(e){Ee.call(this,"timingevent",e)}function gt(e,t){if("function"!=k(e))throw Error("Fn must not be null and must be a function");return T.setTimeout((function(){e()}),t)}j(ht,Ee),j(dt,Ee),j(mt,Ee);var vt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},bt={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function wt(){}function Et(e){var t;return(t=e.a)||(t=e.a={}),t}function Tt(){}wt.prototype.a=null;var St,Ct={OPEN:"a",ib:"b",Na:"c",rb:"d"};function It(){Ee.call(this,"d")}function _t(){Ee.call(this,"c")}function kt(){}function Nt(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new at(this),this.O=Dt,e=se?125:void 0,this.P=new tt(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}j(It,Ee),j(_t,Ee),j(kt,wt),St=new kt;var Dt=45e3,At={},Ot={};function xt(e,t,n){e.F=1,e.f=rn($t(t)),e.l=n,e.H=!0,Rt(e,null)}function Pt(e,t,n,r){e.F=1,e.f=rn($t(t)),e.l=null,e.H=n,Rt(e,r)}function Rt(e,t){e.v=F(),Ft(e),e.D=$t(e.f),nn(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new ot(M(e.Ka,e,e.a),e.J)),ut(e.I,e.a,"readystatechange",e.eb),t=e.h?J(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),pt(1)}function Mt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var o=Lt(e,n);if(o==Ot){4==t&&(e.c=4,yt(14),r=!1);break}if(o==At){e.c=4,yt(15),r=!1;break}Vt(e,o)}4==t&&0==n.length&&(e.c=1,yt(16),r=!1),e.b=e.b&&r,r||(Bt(e),qt(e))}function Lt(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?Ot:(n=Number(t.substring(n,r)),isNaN(n)?At:(r+=1)+n>t.length?Ot:(t=t.substr(r,n),e.A=r+n,t))}function Ft(e){e.R=F()+e.O,jt(e,e.O)}function jt(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=gt(M(e.bb,e),t)}function Ut(e){e.i&&(T.clearTimeout(e.i),e.i=null)}function qt(e){e.g.Da()||e.m||e.g.na(e)}function Bt(e){Ut(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,nt(e.P),ct(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function Vt(e,t){try{e.g.Ga(e,t),pt(4)}catch(e){}}function zt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(D(e)||S(e))B(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(D(e)||S(e)){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;o=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(S(e))return e.split("");if(D(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}}function Wt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wt)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Qt(e,t){Gt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Kt(e))}function Kt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Gt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)Gt(o,r=e.a[t])||(o[e.a[n++]=r]=1),t++;e.a.length=n}}function Gt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(v=Nt.prototype).setTimeout=function(e){this.O=e},v.eb=function(e){e=e.target;var t=this.B;t&&3==$n(e)?t.Ua():this.Ka(e)},v.Ka=function(e){try{if(e==this.a)e:{var t=$n(this.a),n=this.a.ya(),r=this.a.T();if(!(t<3||3==t&&!se&&!this.a.aa())){this.m||4!=t||7==n||pt(8==n||r<=0?3:2),Ut(this);var o=this.a.T();this.o=o;var i=this.a.aa();if(this.b=200==o){if(this.S&&!this.s){t:{if(this.a){var a=Xn(this.a,"X-HTTP-Initial-Response");if(a&&!W(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,yt(12),Bt(this),qt(this);break e}this.s=!0,Vt(this,s)}this.H?(Mt(this,t,i),se&&this.b&&3==t&&(ut(this.I,this.P,"tick",this.cb),this.P.start())):Vt(this,i),4==t&&Bt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,Ft(this)))}else 400==o&&0<i.indexOf("Unknown SID")?(this.c=3,yt(12)):(this.c=0,yt(13)),Bt(this),qt(this)}}}catch(e){}},v.cb=function(){if(this.a){var e=$n(this.a),t=this.a.aa();this.A<t.length&&(Ut(this),Mt(this,e,t),this.b&&4!=e&&Ft(this))}},v.cancel=function(){this.m=!0,Bt(this)},v.bb=function(){this.i=null;var e=F();0<=e-this.R?(2!=this.F&&(pt(3),yt(17)),Bt(this),this.c=2,qt(this)):jt(this,this.R-e)},(v=Wt.prototype).C=function(){Kt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},v.K=function(){return Kt(this),this.a.concat()},v.get=function(e,t){return Gt(this.b,e)?this.b[e]:t},v.set=function(e,t){Gt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},v.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var Ht=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Yt?(this.h=void 0!==t?t:e.h,Xt(this,e.f),this.j=e.j,Jt(this,e.b),Zt(this,e.i),this.a=e.a,en(this,vn(e.c)),this.g=e.g):e&&(n=String(e).match(Ht))?(this.h=!!t,Xt(this,n[1]||"",!0),this.j=on(n[2]||""),Jt(this,n[3]||"",!0),Zt(this,n[4]),this.a=on(n[5]||"",!0),en(this,n[6]||"",!0),this.g=on(n[7]||"")):(this.h=!!t,this.c=new pn(null,this.h))}function $t(e){return new Yt(e)}function Xt(e,t,n){e.f=n?on(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Jt(e,t,n){e.b=n?on(t,!0):t}function Zt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.i=t}else e.i=null}function en(e,t,n){t instanceof pn?(e.c=t,function(e,t){t&&!e.f&&(dn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(yn(this,t),gn(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=an(t,fn)),e.c=new pn(t,e.h))}function tn(e,t,n){e.c.set(t,n)}function nn(e,t,n){N(n)||(n=[String(n)]),gn(e.c,t,n)}function rn(e){return tn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^F()).toString(36)),e}function on(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function an(e,t,n){return S(e)?(e=encodeURI(e).replace(t,sn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Yt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(an(t,un,!0),":");var n=this.b;return!n&&"file"!=t||(e.push("//"),(t=this.j)&&e.push(an(t,un,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(an(n,"/"==n.charAt(0)?ln:cn,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",an(n,hn)),e.join("")},Yt.prototype.resolve=function(e){var t=$t(this),n=!!e.f;n?Xt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Jt(t,e.b):n=null!=e.i;var r=e.a;if(n)Zt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var o=t.a.lastIndexOf("/");-1!=o&&(r=t.a.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(G(o,"./")||G(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],a=0;a<o.length;){var s=o[a++];"."==s?r&&a==o.length&&i.push(""):".."==s?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&a==o.length&&i.push("")):(i.push(s),r=!0)}r=i.join("/")}else r=o}return n?t.a=r:n=""!==e.c.toString(),n?en(t,vn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var un=/[#\/\?@]/g,cn=/[#\?:]/g,ln=/[#\?]/g,fn=/[#\?@]/g,hn=/#/g;function pn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function dn(e){e.a||(e.a=new Wt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function yn(e,t){dn(e),t=bn(e,t),Gt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Qt(e.a,t))}function mn(e,t){return dn(e),t=bn(e,t),Gt(e.a.b,t)}function gn(e,t,n){yn(e,t),0<n.length&&(e.c=null,e.a.set(bn(e,t),z(n)),e.b+=n.length)}function vn(e){var t=new pn;return t.c=e.c,e.a&&(t.a=new Wt(e.a),t.b=e.b),t}function bn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function wn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function En(e){var t=e.a.F.a;if(null!=t)yt(4),t?(yt(10),cr(e.a,e,!1)):(yt(11),cr(e.a,e,!0));else{e.b=new Nt(e,void 0,void 0),e.b.h=e.h,t=dr(t=e.a,t.Y()?e.f:null,e.i),yt(4),nn(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&tn(t,n,r),Pt(e.b,t,!1,e.f)}}function Tn(){this.a=this.b=null}function Sn(){this.a=new Wt}function Cn(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[O]||(e[O]=++x)):t.charAt(0)+e}function In(e,t){this.b=e,this.a=t}function _n(e){this.g=e||kn,e=T.PerformanceNavigationTiming?0<(e=T.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(T.ka&&T.ka.Ea&&T.ka.Ea()&&T.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Sn),this.b=null,this.c=[]}(v=pn.prototype).add=function(e,t){dn(this),this.c=null,e=bn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},v.forEach=function(e,t){dn(this),this.a.forEach((function(n,r){B(n,(function(n){e.call(t,n,r,this)}),this)}),this)},v.K=function(){dn(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},v.C=function(e){dn(this);var t=[];if(S(e))mn(this,e)&&(t=V(t,this.a.get(bn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=V(t,e[n])}return t},v.set=function(e,t){return dn(this),this.c=null,mn(this,e=bn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},v.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},v.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.C(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),e.push(a)}}return this.c=e.join("&")},j((function(){}),(function(){})),(v=wn.prototype).M=null,v.$=function(e){return this.a.$(e)},v.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},v.Da=function(){return!1},v.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Xn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Xn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(e){return(t=this.a).m=this.c,void hr(t,2)}this.f=r[0]}else(t=this.a).m=this.c,hr(t,2)}else 1==this.M&&(this.g?yt(6):"11111"==t?(yt(5),this.g=!0,(!ie||10<=Number(de))&&(this.c=200,this.b.cancel(),yt(11),cr(this.a,this,!0))):(yt(7),this.g=!1))},v.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,En(this)):1==this.M&&(this.g?(yt(11),cr(this.a,this,!0)):(yt(10),cr(this.a,this,!1)));else{0==this.M?yt(8):1==this.M&&yt(9);var e=this.a;e.m=this.c,hr(e,2)}},v.Y=function(){return this.a.Y()},v.ma=function(){return this.a.ma()},Sn.prototype.add=function(e){this.a.set(Cn(e),e)},Sn.prototype.C=function(){return this.a.C()};var kn=10;function Nn(e,t){!e.a&&(G(t,"spdy")||G(t,"quic")||G(t,"h2"))&&(e.f=e.g,e.a=new Sn,e.b&&(xn(e,e.b),e.b=null))}function Dn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function An(e){return e.b?1:e.a?e.a.a.c:0}function On(e,t){return e.b?e.b==t:!!e.a&&(t=Cn(t),Gt(e.a.a.b,t))}function xn(e,t){e.a?e.a.add(t):e.b=t}function Pn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=Cn(t),n=Gt(e.a.a.b,n)),n&&Qt(e.a.a,Cn(t)))}function Rn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null==e.a||0==e.a.a.c)return z(e.c);var t=e.c;return B(e.a.C(),(function(e){t=t.concat(e.j)})),t}function Mn(){}function Ln(){this.a=new Mn}function Fn(e,t,n){var r=n||"";try{zt(e,(function(e,n){var o=e;A(e)&&(o=We(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function jn(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(e){}}_n.prototype.cancel=function(){this.c=Rn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(B(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},Mn.prototype.stringify=function(e){return T.JSON.stringify(e,void 0)},Mn.prototype.parse=function(e){return T.JSON.parse(e,void 0)};var Un=T.JSON.parse;function qn(e){Ve.call(this),this.headers=new Wt,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Bn,this.D=this.F=!1}j(qn,Ve);var Bn="",Vn=/^https?$/i,zn=["POST","PUT"];function Wn(e){return"content-type"==e.toLowerCase()}function Qn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Kn(e),Hn(e)}function Kn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Gn(e){if(e.b&&void 0!==E&&(!e.s[1]||4!=$n(e)||2!=e.T()))if(e.l&&4==$n(e))rt(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==$n(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var i=String(e.A).match(Ht)[1]||null;if(!i&&T.self&&T.self.location){var a=T.self.location.protocol;i=a.substr(0,a.length-1)}o=!Vn.test(i?i.toLowerCase():"")}t=o}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",Kn(e))}finally{Hn(e)}}}function Hn(e,t){if(e.a){Yn(e);var n=e.a,r=e.s[0]?_:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){}}}function Yn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(T.clearTimeout(e.m),e.m=null)}function $n(e){return e.a?e.a.readyState:0}function Xn(e,t){return e.a?e.a.getResponseHeader(t):null}function Jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return X(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),S(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=e.indexOf("#"))<0&&(n=e.length),(r=e.indexOf("?"))<0||n<r){r=n;var o=""}else o=e.substring(r+1,n);n=(e=[e.substr(0,r),o,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return tn(e,t,n),e}function Zn(e){this.f=[],this.F=new Tn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!I("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=I("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=I("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=I("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=I("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new _n(e&&e.concurrentRequestLimit),this.ja=new Ln,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function er(e){if(tr(e),3==e.u){var t=e.P++,n=$t(e.B);tn(n,"SID",e.H),tn(n,"RID",t),tn(n,"TYPE","terminate"),ir(e,n),(t=new Nt(e,t,void 0)).F=2,t.f=rn($t(n)),n=!1,T.navigator&&T.navigator.sendBeacon&&(n=T.navigator.sendBeacon(t.f.toString(),"")),!n&&T.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=F(),Ft(t)}pr(e)}function tr(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(T.clearTimeout(e.l),e.l=null),lr(e),e.b.cancel(),e.h&&(C(e.h)&&T.clearTimeout(e.h),e.h=null)}function nr(e,t){e.f.push(new In(e.Ra++,t)),3==e.u&&rr(e)}function rr(e){Dn(e.b)||e.h||(e.h=!0,Xe(e.Ia,e),e.A=0)}function or(e,t){var n;n=t?t.W:e.P++;var r=$t(e.B);tn(r,"SID",e.H),tn(r,"RID",n),tn(r,"AID",e.O),ir(e,r),e.g&&e.i&&Jn(r,e.g,e.i),n=new Nt(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=ar(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),xn(e.b,n),xt(n,r,t)}function ir(e,t){e.c&&zt({},(function(e,n){tn(t,n,e)}))}function ar(e,t,n){n=Math.min(e.f.length,n);var r=e.c?M(e.c.Ta,e.c,e):null;e:for(var o=e.f,i=-1;;){var a=["count="+n];-1==i?0<n?(i=o[0].b,a.push("ofs="+i)):i=0:a.push("ofs="+i);for(var s=!0,u=0;u<n;u++){var c=o[u].b,l=o[u].a;if((c-=i)<0)i=Math.max(0,o[u].b-100),s=!1;else try{Fn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function sr(e){e.a||e.l||(e.S=1,Xe(e.Ha,e),e.v=0)}function ur(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=gt(M(e.Ha,e),fr(e,e.v)),e.v++,!0)}function cr(e,t,n){var r=t.l;r&&Nn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=dr(e,null,e.ha),rr(e)}function lr(e){null!=e.s&&(T.clearTimeout(e.s),e.s=null)}function fr(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function hr(e,t){if(2==t){var n=null;e.c&&(n=null);var r=M(e.fb,e);n||(n=new Yt("//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||Xt(n,"https"),rn(n)),function(e,t){var n=new lt;if(T.Image){var r=new Image;r.onload=L(jn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=L(jn,n,r,"TestLoadImage: error",!1,t),r.onabort=L(jn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=L(jn,n,r,"TestLoadImage: timeout",!1,t),T.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else yt(2);e.u=0,e.c&&e.c.ta(t),pr(e),tr(e)}function pr(e){e.u=0,e.m=-1,e.c&&(0==Rn(e.b).length&&0==e.f.length||(e.b.c.length=0,z(e.f),e.f.length=0),e.c.sa())}function dr(e,t,n){var r=function(e){return e instanceof Yt?$t(e):new Yt(e,void 0)}(n);if(""!=r.b)t&&Jt(r,t+"."+r.b),Zt(r,r.i);else{var o,i=T.location;o=t?t+"."+i.hostname:i.hostname,r=function(e,t,n,r){var o=new Yt(null,void 0);return e&&Xt(o,e),t&&Jt(o,t),n&&Zt(o,n),r&&(o.a=r),o}(i.protocol,o,+i.port,n)}return e.V&&X(e.V,(function(e,t){tn(r,t,e)})),t=e.j,n=e.I,t&&n&&tn(r,t,n),tn(r,"VER",e.wa),ir(e,r),r}function yr(){}function mr(){if(ie&&!(10<=Number(de)))throw Error("Environmental error: no available transport.")}function gr(e,t){Ve.call(this),this.a=new Zn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=e,n=1;n<arguments.length;n++){var r,o=arguments[n];0==o.lastIndexOf("/",0)?t=o:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?o:"/"+o)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!W(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!W(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new wr(this)}function vr(e){It.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function br(){_t.call(this),this.status=1}function wr(e){this.a=e}(v=qn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Et(this.H):Et(St),this.a.onreadystatechange=M(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(e){return void Qn(this,e)}e=n||"";var o=new Wt(this.headers);r&&zt(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=Wn,n=e.length,r=S(e)?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return t<0?null:S(e)?e.charAt(t):e[t]}(o.K()),n=T.FormData&&e instanceof T.FormData,0<=q(zn,t)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yn(this),0<this.o&&((this.D=function(e){return ie&&me(9)&&C(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=M(this.Ca,this)):this.m=rt(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Qn(this,e)}},v.Ca=function(){void 0!==E&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},v.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Hn(this))},v.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Hn(this,!0)),qn.N.G.call(this)},v.Fa=function(){this.j||(this.w||this.l||this.g?Gn(this):this.$a())},v.$a=function(){Gn(this)},v.T=function(){try{return 2<$n(this)?this.a.status:-1}catch(r){return-1}},v.za=function(){try{return 2<$n(this)?this.a.statusText:""}catch(r){return""}},v.aa=function(){try{return this.a?this.a.responseText:""}catch(r){return""}},v.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Un(t)}},v.ya=function(){return this.h},v.Ya=function(){return S(this.f)?this.f:String(this.f)},(v=Zn.prototype).wa=8,v.u=1,v.Da=function(){return 0==this.u},v.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new Nt(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?ee(r=J(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var o=t=0;o<this.f.length;o++){var i=this.f[o];if(void 0===(i="__data__"in i.a&&S(i=i.a.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=o;break e}if(4096===t||o===this.f.length-1){t=o+1;break e}}t=1e3}else t=1e3;t=ar(this,n,t),tn(o=$t(this.B),"RID",e),tn(o,"CVER",22),this.o&&this.j&&tn(o,"X-HTTP-Session-Id",this.j),ir(this,o),this.g&&r&&Jn(o,this.g,r),xn(this.b,n),this.W?(tn(o,"$req",t),tn(o,"SID","null"),n.S=!0,xt(n,o,null)):xt(n,o,t),this.u=2}}else 3==this.u&&(e?or(this,e):0==this.f.length||Dn(this.b)||or(this))},v.Ha=function(){this.l=null,this.a=new Nt(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=$t(this.pa);tn(e,"RID","rpc"),tn(e,"SID",this.H),tn(e,"CI",this.ia?"0":"1"),tn(e,"AID",this.O),ir(this,e),tn(e,"TYPE","xmlhttp"),this.g&&this.i&&Jn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),Pt(this.a,e,!0,this.ga)},v.Ga=function(e,t){if(0!=this.u&&(this.a==e||On(this.b,e)))if(this.m=e.o,!e.s&&On(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(e){n=null}if(N(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;lr(this),this.a.cancel(),this.a=null}ur(this),yt(18)}}else this.ra=t[1],0<this.ra-this.O&&t[2]<37500&&this.ia&&0==this.v&&!this.s&&(this.s=gt(M(this.Za,this),6e3));if(An(this.b)<=1&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else hr(this,11)}else if(!e.s&&this.a!=e||lr(this),!W(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var o=r[3];null!=o&&(this.wa=o),null!=(r=r[5])&&C(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((o=Xn(r,"X-Client-Wire-Protocol"))&&Nn(this.b,o),this.j&&(r=Xn(r,"X-HTTP-Session-Id")))&&(this.I=r,tn(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=dr(this,this.Y()?this.ga:null,this.ha),r.s?(Pn(this.b,r),(o=this.D)&&r.setTimeout(o),r.i&&(Ut(r),Ft(r)),this.a=r):sr(this),0<this.f.length&&rr(this)}else"stop"!=r[0]&&"close"!=r[0]||hr(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?hr(this,7):er(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},v.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,ur(this),yt(19))},v.na=function(e){var t=null;if(this.a==e){lr(this),this.a=null;var n=2}else{if(!On(this.b,e))return;t=e.j,Pn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=F()-e.v,ft.dispatchEvent(new mt(ft,e.l?e.l.length:0,t,this.A)),rr(this)):sr(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(An(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa))&&(e.h=gt(M(e.Ia,e,t),fr(e,e.A)),e.A++,!0))}(this,e)||2==n&&ur(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:hr(this,5);break;case 4:hr(this,10);break;case 3:hr(this,6);break;default:hr(this,2)}}},v.fb=function(e){yt(e?2:1)},v.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qn(this.La)).F=this.R,e},v.ma=function(){return!!this.c&&!0},v.Y=function(){return this.R},(v=yr.prototype).va=function(){},v.ua=function(){},v.ta=function(){},v.sa=function(){},v.Ta=function(){},mr.prototype.a=function(e,t){return new gr(e,t)},j(gr,Ve),(v=gr.prototype).addEventListener=function(e,t,n,r){gr.N.addEventListener.call(this,e,t,n,r)},v.removeEventListener=function(e,t,n,r){gr.N.removeEventListener.call(this,e,t,n,r)},v.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;yt(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new wn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Jn(t,e.g,e.i)),(e=e.w).i=n,t=dr(e.a,null,e.i),yt(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,En(e)):(nn(t,"MODE","init"),!e.a.o&&e.a.j&&nn(t,"X-HTTP-Session-Id",e.a.j),e.b=new Nt(e,void 0,void 0),e.b.h=e.h,Pt(e.b,t,!1,null),e.M=0)},v.close=function(){er(this.a)},v.Xa=function(e){if(S(e)){var t={};t.__data__=e,nr(this.a,t)}else this.h?((t={}).__data__=We(e),nr(this.a,t)):nr(this.a,e)},v.G=function(){this.a.c=null,delete this.f,er(this.a),delete this.a,gr.N.G.call(this)},j(vr,It),j(br,_t),j(wr,yr),wr.prototype.va=function(){this.a.dispatchEvent("a")},wr.prototype.ua=function(e){this.a.dispatchEvent(new vr(e))},wr.prototype.ta=function(e){this.a.dispatchEvent(new br(e))},wr.prototype.sa=function(){this.a.dispatchEvent("b")};var Er=L((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),mr);mr.prototype.createWebChannel=mr.prototype.a,gr.prototype.send=gr.prototype.Xa,gr.prototype.open=gr.prototype.Wa,gr.prototype.close=gr.prototype.close,vt.NO_ERROR=0,vt.TIMEOUT=8,vt.HTTP_ERROR=6,bt.COMPLETE="complete",(Tt.EventType=Ct).OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",Ve.prototype.listen=Ve.prototype.Aa,qn.prototype.listenOnce=qn.prototype.Ba,qn.prototype.getLastError=qn.prototype.Ya,qn.prototype.getLastErrorCode=qn.prototype.ya,qn.prototype.getStatus=qn.prototype.T,qn.prototype.getStatusText=qn.prototype.za,qn.prototype.getResponseJson=qn.prototype.Va,qn.prototype.getResponseText=qn.prototype.aa,qn.prototype.send=qn.prototype.ca;var Tr,Sr,Cr={createWebChannelTransport:Er,ErrorCode:vt,EventType:bt,WebChannel:Tt,XhrIo:qn},Ir=Cr.createWebChannelTransport,_r=Cr.ErrorCode,kr=Cr.EventType,Nr=Cr.WebChannel,Dr=Cr.XhrIo,Ar=t.SDK_VERSION,Or=new a("@firebase/firestore");function xr(){return Or.logLevel===n.DEBUG?Tr.DEBUG:Or.logLevel===n.SILENT?Tr.SILENT:Tr.ERROR}function Pr(e){switch(e){case Tr.DEBUG:Or.logLevel=n.DEBUG;break;case Tr.ERROR:Or.logLevel=n.ERROR;break;case Tr.SILENT:Or.logLevel=n.SILENT;break;default:Or.error("Firestore ("+Ar+"): Invalid value passed to `setLogLevel`")}}function Rr(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(Or.logLevel<=n.DEBUG){var i=r.map(Lr);Or.debug.apply(Or,["Firestore ("+Ar+") ["+e+"]: "+t].concat(i))}}function Mr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Or.logLevel<=n.ERROR){var o=t.map(Lr);Or.error.apply(Or,["Firestore ("+Ar+"): "+e].concat(o))}}function Lr(e){if("string"==typeof e)return e;var t=Ur.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function Fr(e){var t="FIRESTORE ("+Ar+") INTERNAL ASSERTION FAILED: "+e;throw Mr(t),new Error(t)}function jr(e,t){e||Fr(t)}(Sr=Tr=Tr||{})[Sr.DEBUG=0]="DEBUG",Sr[Sr.ERROR=1]="ERROR",Sr[Sr.SILENT=2]="SILENT";var Ur=(qr.setPlatform=function(e){qr.platform&&Fr("Platform already defined"),qr.platform=e},qr.getPlatform=function(){return qr.platform||Fr("Platform not set"),qr.platform},qr);function qr(){}function Br(){return Ur.getPlatform().emptyByteString}var Vr,zr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wr=(c(Qr,Vr=Error),Qr);function Qr(e,t){var n=Vr.call(this,t)||this;return n.code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Kr(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new Wr(zr.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function Gr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hr(e,t){return void 0!==e?e:t}function Yr(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function $r(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xr(e){for(var t in jr(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Jr(e,t){if(0!==t.length)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+yo(t.length,"argument")+".")}function Zr(e,t,n){if(t.length!==n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires "+yo(n,"argument")+", but was called with "+yo(t.length,"argument")+".")}function eo(e,t,n){if(t.length<n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires at least "+yo(n,"argument")+", but was called with "+yo(t.length,"argument")+".")}function to(e,t,n,r){if(t.length<n||t.length>r)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+yo(t.length,"argument")+".")}function no(e,t,n,r){so(e,t,po(n)+" argument",r)}function ro(e,t,n,r){void 0!==r&&no(e,t,n,r)}function oo(e,t,n,r){so(e,t,n+" option",r)}function io(e,t,n,r){void 0!==r&&oo(e,t,n,r)}function ao(e,t,n,r,o){void 0!==r&&function(e,t,n,r,o){for(var i=[],a=0,s=o;a<s.length;a++){var u=s[a];if(u===r)return;i.push(co(u))}var c=co(r);throw new Wr(zr.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+i.join(", "))}(e,0,n,r,o)}function so(e,t,n,r){if(!("object"===t?uo(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var o=co(r);throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+o)}}function uo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function co(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Fr("Unknown wrong type: "+typeof e);if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}function lo(e,t,n){if(void 0===n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+po(t)+" argument, but it was undefined.")}function fo(e,t,n){$r(t,(function(t,r){if(n.indexOf(t)<0)throw new Wr(zr.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function ho(e,t,n,r){var o=co(r);return new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires its "+po(n)+" argument to be a "+t+", but it was: "+o)}function po(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function yo(e,t){return e+" "+t+(1===e?"":"s")}var mo=(go.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return jr(20===t.length,"Invalid auto ID: "+t),t},go);function go(){}function vo(e,t){return e<t?-1:t<e?1:0}function bo(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function wo(e){return e+"\0"}function Eo(){if("undefined"==typeof Uint8Array)throw new Wr(zr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function To(){if(!Ur.getPlatform().base64Available)throw new Wr(zr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var So=(Co.fromBase64String=function(e){Zr("Blob.fromBase64String",arguments,1),no("Blob.fromBase64String","string",1,e),To();try{return new Co(Ur.getPlatform().atob(e))}catch(e){throw new Wr(zr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},Co.fromUint8Array=function(e){if(Zr("Blob.fromUint8Array",arguments,1),Eo(),!(e instanceof Uint8Array))throw ho("Blob.fromUint8Array","Uint8Array",1,e);return new Co(Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join(""))},Co.prototype.toBase64=function(){return Zr("Blob.toBase64",arguments,0),To(),Ur.getPlatform().btoa(this._binaryString)},Co.prototype.toUint8Array=function(){Zr("Blob.toUint8Array",arguments,0),Eo();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},Co.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Co.prototype.isEqual=function(e){return this._binaryString===e._binaryString},Co.prototype._compareTo=function(e){return vo(this._binaryString,e._binaryString)},Co);function Co(e){To(),this._binaryString=e}var Io=Kr(So,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),_o=function(e,t,n,r,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=o},ko="(default)",No=(Object.defineProperty(Do.prototype,"isDefaultDatabase",{get:function(){return this.database===ko},enumerable:!0,configurable:!0}),Do.prototype.isEqual=function(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database},Do.prototype.compareTo=function(e){return vo(this.projectId,e.projectId)||vo(this.database,e.database)},Do);function Do(e,t){this.projectId=e,this.database=t||ko}var Ao=(Oo.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},Oo.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},Oo.INVALID=-1,Oo);function Oo(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}var xo="__name__",Po=(Object.defineProperty(Ro.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),Ro.prototype.isEqual=function(e){return 0===Ro.comparator(this,e)},Ro.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof Ro?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},Ro.prototype.limit=function(){return this.offset+this.length},Ro.prototype.popFirst=function(e){return e=void 0===e?1:e,jr(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},Ro.prototype.popLast=function(){return jr(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},Ro.prototype.firstSegment=function(){return jr(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},Ro.prototype.lastSegment=function(){return this.get(this.length-1)},Ro.prototype.get=function(e){return jr(e<this.length,"Index out of range"),this.segments[this.offset+e]},Ro.prototype.isEmpty=function(){return 0===this.length},Ro.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Ro.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Ro.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},Ro.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Ro.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(i<o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},Ro);function Ro(e,t,n){void 0===t?t=0:t>e.length&&Fr("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&Fr("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}var Mo,Lo=(c(Fo,Mo=Po),Fo.prototype.construct=function(e,t,n){return new Fo(e,t,n)},Fo.prototype.canonicalString=function(){return this.toArray().join("/")},Fo.prototype.toString=function(){return this.canonicalString()},Fo.fromString=function(e){if(0<=e.indexOf("//"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new Fo(e.split("/").filter((function(e){return 0<e.length})))},Fo.EMPTY_PATH=new Fo([]),Fo);function Fo(){return null!==Mo&&Mo.apply(this,arguments)||this}var jo,Uo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qo=(c(Bo,jo=Po),Bo.prototype.construct=function(e,t,n){return new Bo(e,t,n)},Bo.isValidIdentifier=function(e){return Uo.test(e)},Bo.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),Bo.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},Bo.prototype.toString=function(){return this.canonicalString()},Bo.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===xo},Bo.keyField=function(){return new Bo([xo])},Bo.fromServerFormat=function(e){for(var t=[],n="",r=0,o=function(){if(0===n.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},i=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new Wr(zr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Wr(zr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?i=!i:"."!==a||i?n+=a:o(),r++}if(o(),i)throw new Wr(zr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bo(t)},Bo.EMPTY_PATH=new Bo([]),Bo);function Bo(){return null!==jo&&jo.apply(this,arguments)||this}var Vo=(zo.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},zo.prototype.isEqual=function(e){return null!==e&&0===Lo.comparator(this.path,e.path)},zo.prototype.toString=function(){return this.path.toString()},zo.comparator=function(e,t){return Lo.comparator(e.path,t.path)},zo.isDocumentKey=function(e){return e.length%2==0},zo.fromSegments=function(e){return new zo(new Lo(e.slice()))},zo.fromPathString=function(e){return new zo(Lo.fromString(e))},zo.EMPTY=new zo(new Lo([])),zo);function zo(e){this.path=e,jr(zo.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}var Wo,Qo,Ko=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};(Qo=Wo=Wo||{}).All="all",Qo.ListenStreamIdle="listen_stream_idle",Qo.ListenStreamConnectionBackoff="listen_stream_connection_backoff",Qo.WriteStreamIdle="write_stream_idle",Qo.WriteStreamConnectionBackoff="write_stream_connection_backoff",Qo.OnlineStateTimeout="online_state_timeout",Qo.ClientMetadataRefresh="client_metadata_refresh",Qo.LruGarbageCollection="lru_garbage_collection",Qo.RetryTransaction="retry_transaction";var Go=(Ho.createAndSchedule=function(e,t,n,r,o){var i=new Ho(e,t,Date.now()+n,r,o);return i.start(n),i},Ho.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},Ho.prototype.skipDelay=function(){return this.handleDelayElapsed()},Ho.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wr(zr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},Ho.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},Ho.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Ho);function Ho(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}var Yo=(Object.defineProperty($o.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),$o.prototype.enqueueAndForget=function(e){this.enqueue(e)},$o.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},$o.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},$o.prototype.enqueueAndInitiateShutdown=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},$o.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},$o.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw Mr("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n},$o.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),jr(0<=t,"Attempted to schedule an operation with a negative delay of "+t),-1<this.timerIdsToSkip.indexOf(e)&&(t=0);var o=Go.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(o),o},$o.prototype.verifyNotFailed=function(){this.failure&&Fr("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},$o.prototype.verifyOperationInProgress=function(){jr(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},$o.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},$o.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},$o.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){jr(e===Wo.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),e!==Wo.All&&o.timerId===e)break}return t.drain()}))},$o.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},$o.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);jr(0<=t,"Delayed operation not found."),this.delayedOperations.splice(t,1)},$o);function $o(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}function Xo(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=Zo(t)),t=Jo(e.get(n),t);return Zo(t)}function Jo(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var i=e.charAt(o);switch(i){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=i}}return n}function Zo(e){return e+"\x01\x01"}function ei(e){var t=e.length;if(jr(2<=t,"Invalid path "+e),2===t)return jr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1),"Non-empty path "+e+" had length 2"),Lo.EMPTY_PATH;for(var n=t-2,r=[],o="",i=0;i<t;){var a=e.indexOf("\x01",i);switch((a<0||n<a)&&Fr('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case"\x01":var s=e.substring(i,a),u=void 0;0===o.length?u=s:(u=o+=s,o=""),r.push(u);break;case"\x10":o+=e.substring(i,a),o+="\0";break;case"\x11":o+=e.substring(i,a+1);break;default:Fr('Invalid encoded resource path: "'+e+'"')}i=a+2}return new Lo(r)}var ti=(ni.now=function(){return ni.fromMillis(Date.now())},ni.fromDate=function(e){return ni.fromMillis(e.getTime())},ni.fromMillis=function(e){var t=Math.floor(e/1e3);return new ni(t,1e6*(e-1e3*t))},ni.prototype.toDate=function(){return new Date(this.toMillis())},ni.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},ni.prototype._compareTo=function(e){return this.seconds===e.seconds?vo(this.nanoseconds,e.nanoseconds):vo(this.seconds,e.seconds)},ni.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},ni.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},ni);function ni(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}var ri=(oi.fromMicroseconds=function(e){var t=Math.floor(e/1e6);return new oi(new ti(t,e%1e6*1e3))},oi.fromTimestamp=function(e){return new oi(e)},oi.forDeletedDoc=function(){return oi.MIN},oi.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},oi.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},oi.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},oi.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},oi.prototype.toTimestamp=function(){return this.timestamp},oi.MIN=new oi(new ti(0,0)),oi);function oi(e){this.timestamp=e}var ii=(ai.prototype.insert=function(e,t){return new ai(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))},ai.prototype.remove=function(e){return new ai(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))},ai.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},ai.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},ai.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(ai.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),ai.prototype.minKey=function(){return this.root.minKey()},ai.prototype.maxKey=function(){return this.root.maxKey()},ai.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},ai.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},ai.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},ai.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},ai.prototype.getIterator=function(){return new si(this.root,null,this.comparator,!1)},ai.prototype.getIteratorFrom=function(e){return new si(this.root,e,this.comparator,!1)},ai.prototype.getReverseIterator=function(){return new si(this.root,null,this.comparator,!0)},ai.prototype.getReverseIteratorFrom=function(e){return new si(this.root,e,this.comparator,!0)},ai);function ai(e,t){this.comparator=e,this.root=t||ci.EMPTY}var si=(ui.prototype.getNext=function(){jr(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},ui.prototype.hasNext=function(){return 0<this.nodeStack.length},ui.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},ui);function ui(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}var ci=(li.prototype.copy=function(e,t,n,r,o){return new li(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)},li.prototype.isEmpty=function(){return!1},li.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},li.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},li.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},li.prototype.minKey=function(){return this.min().key},li.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},li.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},li.prototype.removeMin=function(){if(this.left.isEmpty())return li.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},li.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return li.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},li.prototype.isRed=function(){return this.color},li.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},li.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},li.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},li.prototype.rotateLeft=function(){var e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},li.prototype.rotateRight=function(){var e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},li.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},li.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},li.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fr("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw Fr("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw Fr("Black depths differ");return e+(this.isRed()?0:1)},li.EMPTY=null,li.RED=!0,li.BLACK=!1,li);function li(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:li.RED,this.left=null!=r?r:li.EMPTY,this.right=null!=o?o:li.EMPTY,this.size=this.left.size+1+this.right.size}var fi=(Object.defineProperty(hi.prototype,"key",{get:function(){throw Fr("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"value",{get:function(){throw Fr("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"color",{get:function(){throw Fr("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"left",{get:function(){throw Fr("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(hi.prototype,"right",{get:function(){throw Fr("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),hi.prototype.copy=function(e,t,n,r,o){return this},hi.prototype.insert=function(e,t,n){return new ci(e,t)},hi.prototype.remove=function(e,t){return this},hi.prototype.isEmpty=function(){return!0},hi.prototype.inorderTraversal=function(e){return!1},hi.prototype.reverseTraversal=function(e){return!1},hi.prototype.minKey=function(){return null},hi.prototype.maxKey=function(){return null},hi.prototype.isRed=function(){return!1},hi.prototype.checkMaxDepth=function(){return!0},hi.prototype.check=function(){return 0},hi);function hi(){this.size=0}ci.EMPTY=new fi;var pi=(di.fromMapKeys=function(e){var t=new di(e.comparator);return e.forEach((function(e){t=t.add(e)})),t},di.prototype.has=function(e){return null!==this.data.get(e)},di.prototype.first=function(){return this.data.minKey()},di.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(di.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),di.prototype.indexOf=function(e){return this.data.indexOf(e)},di.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},di.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},di.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},di.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},di.prototype.getIterator=function(){return new yi(this.data.getIterator())},di.prototype.getIteratorFrom=function(e){return new yi(this.data.getIteratorFrom(e))},di.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},di.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},di.prototype.isEmpty=function(){return this.data.isEmpty()},di.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},di.prototype.isEqual=function(e){if(!(e instanceof di))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,o=n.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},di.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},di.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},di.prototype.copy=function(e){var t=new di(this.comparator);return t.data=e,t},di);function di(e){this.comparator=e,this.data=new ii(this.comparator)}var yi=(mi.prototype.getNext=function(){return this.iter.getNext().key},mi.prototype.hasNext=function(){return this.iter.hasNext()},mi);function mi(e){this.iter=e}var gi=new ii(Vo.comparator);function vi(){return gi}function bi(){return vi()}var wi=new ii(Vo.comparator);function Ei(){return wi}var Ti=new ii(Vo.comparator);function Si(){return Ti}var Ci=new pi(Vo.comparator);function Ii(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ci,r=0,o=e;r<o.length;r++){var i=o[r];n=n.add(i)}return n}var _i=new pi(vo);function ki(){return _i}var Ni=(Di.prototype.applyToRemoteDocument=function(e,t,n){t&&jr(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;jr(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var o=0;o<this.mutations.length;o++){var i=this.mutations[o];if(i.key.isEqual(e)){var a=r[o];t=i.applyToRemoteDocument(t,a)}}return t},Di.prototype.applyToLocalView=function(e,t){t&&jr(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime));for(var o=t,i=0,a=this.mutations;i<a.length;i++){var s;(s=a[i]).key.isEqual(e)&&(t=s.applyToLocalView(t,o,this.localWriteTime))}return t},Di.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var o=t.applyToLocalView(r.key,e.get(r.key));o&&(n=n.insert(r.key,o))})),n},Di.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ii())},Di.prototype.isEqual=function(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations)&&bo(this.baseMutations,e.baseMutations)},Di);function Di(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,jr(0<(this.mutations=r).length,"Cannot create an empty mutation batch")}var Ai=(Oi.from=function(e,t,n,r){jr(e.mutations.length===n.length,"Mutations sent "+e.mutations.length+" must equal results received "+n.length);for(var o=Si(),i=e.mutations,a=0;a<i.length;a++)o=o.insert(i[a].key,n[a].version);return new Oi(e,t,n,r,o)},Oi);function Oi(e,t,n,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=o}var xi=(Pi.prototype.catch=function(e){return this.next(void 0,e)},Pi.prototype.next=function(e,t){var n=this;return this.callbackAttached&&Fr("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pi((function(r,o){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,o)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,o)}}))},Pi.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},Pi.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof Pi?t:Pi.resolve(t)}catch(e){return Pi.reject(e)}},Pi.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):Pi.resolve(t)},Pi.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):Pi.reject(t)},Pi.resolve=function(e){return new Pi((function(t,n){t(e)}))},Pi.reject=function(e){return new Pi((function(t,n){n(e)}))},Pi.waitFor=function(e){return new Pi((function(t,n){var r=0,o=0,i=!1;e.forEach((function(e){++r,e.next((function(){++o,i&&o===r&&t()}),(function(e){return n(e)}))})),i=!0,o===r&&t()}))},Pi.or=function(e){for(var t=Pi.resolve(!1),n=function(e){t=t.next((function(t){return t?Pi.resolve(t):e()}))},r=0,o=e;r<o.length;r++)n(o[r]);return t},Pi.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,o){r.push(t.call(n,e,o))})),this.waitFor(r)},Pi);function Pi(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}var Ri,Mi,Li=(Fi.forUser=function(e,t,n,r){return jr(""!==e.uid,"UserID must not be an empty string."),new Fi(e.isAuthenticated()?e.uid:"",t,n,r)},Fi.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).iterate({index:lu.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},Fi.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=qi(n),zi(e).put(t)}))},Fi.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},Fi.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=qi(t),zi(e).put(n)}))},Fi.prototype.addMutationBatch=function(e,t,n,r){var o=this,i=Vi(e),a=Bi(e);return a.add({}).next((function(s){jr("number"==typeof s,"Auto-generated key is not a number");var u=new Ni(s,t,n,r),c=o.serializer.toDbMutationBatch(o.userId,u);o.documentKeysByBatchId[s]=u.keys();for(var l=[],f=0,h=r;f<h.length;f++){var p=h[f],d=hu.key(o.userId,p.key.path,s);l.push(a.put(c)),l.push(i.put(d,hu.PLACEHOLDER)),l.push(o.indexManager.addToCollectionParentIndex(e,p.key.path.popLast()))}return xi.waitFor(l).next((function(){return u}))}))},Fi.prototype.lookupMutationBatch=function(e,t){var n=this;return Bi(e).get(t).next((function(e){return e?(jr(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},Fi.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?xi.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r}return null}))},Fi.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]),i=null;return Bi(e).iterate({index:lu.userMutationsIndex,range:o},(function(e,t,o){t.userId===n.userId&&(jr(t.batchId>=r,"Should have found mutation after "+r),i=n.serializer.fromDbMutationBatch(t)),o.done()})).next((function(){return i}))},Fi.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Bi(e).iterate({index:lu.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},Fi.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).loadAll(lu.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},Fi.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=hu.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),i=[];return Vi(e).iterate({range:o},(function(r,o,a){var s=r[0],u=r[1],c=r[2],l=ei(u);if(s===n.userId&&t.path.isEqual(l))return Bi(e).get(c).next((function(e){if(!e)throw Fr("Dangling document-mutation reference found: "+r+" which points to "+c);jr(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),i.push(n.serializer.fromDbMutationBatch(e))}));a.done()})).next((function(){return i}))},Fi.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new pi(vo),o=[];return t.forEach((function(t){var i=hu.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(i),s=Vi(e).iterate({range:a},(function(e,o,i){var a=e[0],s=e[1],u=e[2],c=ei(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):i.done()}));o.push(s)})),xi.waitFor(o).next((function(){return n.lookupMutationBatches(e,r)}))},Fi.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;jr(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),jr(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,o=r.length+1,i=hu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(i),s=new pi(vo);return Vi(e).iterate({range:a},(function(e,t,i){var a=e[0],u=e[1],c=e[2],l=ei(u);a===n.userId&&r.isPrefixOf(l)?l.length===o&&(s=s.add(c)):i.done()})).next((function(){return n.lookupMutationBatches(e,s)}))},Fi.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],o=[];return t.forEach((function(t){o.push(Bi(e).get(t).next((function(e){if(null===e)throw Fr("Dangling document-mutation reference found, which points to "+t);jr(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),xi.waitFor(o).next((function(){return r}))},Fi.prototype.removeMutationBatch=function(e,t){var n=this;return Ui(e.simpleDbTransaction,this.userId,t).next((function(r){return n.removeCachedMutationKeys(t.batchId),xi.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},Fi.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},Fi.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return xi.resolve();var r=IDBKeyRange.lowerBound(hu.prefixForUser(t.userId)),o=[];return Vi(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var i=ei(e[1]);o.push(i)}else r.done()})).next((function(){jr(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map((function(e){return e.canonicalString()})))}))}))},Fi.prototype.containsKey=function(e,t){return ji(e,this.userId,t)},Fi.prototype.getMutationQueueMetadata=function(e){var t=this;return zi(e).get(this.userId).next((function(e){return e||new uu(t.userId,-1,"")}))},Fi);function Fi(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}function ji(e,t,n){var r=hu.prefixForPath(t,n.path),o=r[1],i=IDBKeyRange.lowerBound(r),a=!1;return Vi(e).iterate({range:i,keysOnly:!0},(function(e,n,r){var i=e[0],s=e[1];e[2],i===t&&s===o&&(a=!0),r.done()})).next((function(){return a}))}function Ui(e,t,n){var r=e.store(lu.store),o=e.store(hu.store),i=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},(function(e,t,n){return s++,n.delete()}));i.push(u.next((function(){jr(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=hu.key(t,h.key.path,n.batchId);i.push(o.delete(p)),c.push(h.key)}return xi.waitFor(i).next((function(){return c}))}function qi(e){return e instanceof Uint8Array?(jr("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/bio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_DATABASE_URL:"https://my-personal-bio.firebaseio.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"770715025261",REACT_APP_FIREBASE_STORAGE_BUCKET:"my-personal-bio.appspot.com",REACT_APP_FIREBASE_AUTH_DOMAIN:"my-personal-bio.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"my-personal-bio",REACT_APP_FIREBASE_APP_ID:"1:770715025261:web:8aa851a469fa962F",REACT_APP_FIREBASE_API_KEY:"AIzaSyBSFtPxgJS8USawtuUnHwVHH0ttP3V7Nx8"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Bi(e){return ic.getStore(e,lu.store)}function Vi(e){return ic.getStore(e,hu.store)}function zi(e){return ic.getStore(e,uu.store)}(Mi=Ri=Ri||{})[Mi.QueryCache=0]="QueryCache",Mi[Mi.SyncEngine=1]="SyncEngine";var Wi=(Qi.prototype.next=function(){var e=this.nextId;return this.nextId+=2,e},Qi.prototype.after=function(e){return this.seek(e+2),this.next()},Qi.prototype.seek=function(e){jr((1&e)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},Qi.forQueryCache=function(){return new Qi(Ri.QueryCache,2)},Qi.forSyncEngine=function(){return new Qi(Ri.SyncEngine)},Qi);function Qi(e,t){jr((1&(this.generatorId=e))===e,"Generator ID "+e+" contains more than 1 reserved bits"),this.seek(void 0!==t?t:this.generatorId)}var Ki="SimpleDb",Gi=(Hi.openOrCreate=function(e,t,n){return jr(Hi.isAvailable(),"IndexedDB not supported in current environment."),Rr(Ki,"Opening database:",e),new xi((function(r,o){var i=window.indexedDB.open(e,t);i.onsuccess=function(e){var t=e.target.result;r(new Hi(t))},i.onblocked=function(){o(new Wr(zr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var t=e.target.error;"VersionError"===t.name?o(new Wr(zr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(t)},i.onupgradeneeded=function(t){Rr(Ki,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var r=t.target.result,o=new Xi(i.transaction);n.createOrUpgrade(r,o,t.oldVersion,nu).next((function(){Rr(Ki,"Database upgrade to version "+nu+" complete")}))}})).toPromise()},Hi.delete=function(e){return Rr(Ki,"Removing database:",e),ta(window.indexedDB.deleteDatabase(e)).toPromise()},Hi.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/bio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_DATABASE_URL:"https://my-personal-bio.firebaseio.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"770715025261",REACT_APP_FIREBASE_STORAGE_BUCKET:"my-personal-bio.appspot.com",REACT_APP_FIREBASE_AUTH_DOMAIN:"my-personal-bio.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"my-personal-bio",REACT_APP_FIREBASE_APP_ID:"1:770715025261:web:8aa851a469fa962F",REACT_APP_FIREBASE_API_KEY:"AIzaSyBSFtPxgJS8USawtuUnHwVHH0ttP3V7Nx8"}).USE_MOCK_PERSISTENCE;var e=h(),t=Hi.getIOSVersion(e),n=0<t&&t<10,r=Hi.getAndroidVersion(e),o=0<r&&r<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||n||o)},Hi.getStore=function(e,t){return e.store(t)},Hi.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},Hi.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},Hi.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},Hi.prototype.runTransaction=function(e,t,n){var r=Xi.open(this.db,e,t),o=n(r).catch((function(e){return r.abort(e),xi.reject(e)})).toPromise();return o.catch((function(){})),r.completionPromise.then((function(){return o}))},Hi.prototype.close=function(){this.db.close()},Hi);function Hi(e){this.db=e,12.2===Hi.getIOSVersion(h())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}var Yi=(Object.defineProperty($i.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty($i.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty($i.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),$i.prototype.done=function(){this.shouldStop=!0},$i.prototype.skip=function(e){this.nextKey=e},$i.prototype.delete=function(){return ta(this.dbCursor.delete())},$i);function $i(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}var Xi=(Ji.open=function(e,t,n){return new Ji(e.transaction(n,t))},Object.defineProperty(Ji.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),Ji.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(Rr(Ki,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},Ji.prototype.store=function(e){var t=this.transaction.objectStore(e);return jr(!!t,"Object store not part of transaction: "+e),new Zi(t)},Ji);function Ji(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new Ko,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=ra(e.target.error);t.completionDeferred.reject(n)}}var Zi=(ea.prototype.put=function(e,t){return ta(void 0!==t?(Rr(Ki,"PUT",this.store.name,e,t),this.store.put(t,e)):(Rr(Ki,"PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},ea.prototype.add=function(e){return Rr(Ki,"ADD",this.store.name,e,e),ta(this.store.add(e))},ea.prototype.get=function(e){var t=this;return ta(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Rr(Ki,"GET",t.store.name,e,n),n}))},ea.prototype.delete=function(e){return Rr(Ki,"DELETE",this.store.name,e),ta(this.store.delete(e))},ea.prototype.count=function(){return Rr(Ki,"COUNT",this.store.name),ta(this.store.count())},ea.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},ea.prototype.deleteAll=function(e,t){Rr(Ki,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},ea.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},ea.prototype.iterateSerial=function(e){var t=this.cursor({});return new xi((function(n,r){t.onerror=function(e){var t=ra(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},ea.prototype.iterateCursor=function(e,t){var n=[];return new xi((function(r,o){e.onerror=function(e){o(e.target.error)},e.onsuccess=function(e){var o=e.target.result;if(o){var i=new Yi(o),a=t(o.primaryKey,o.value,i);if(a instanceof xi){var s=a.catch((function(e){return i.done(),xi.reject(e)}));n.push(s)}i.isDone?r():null===i.skipToKey?o.continue():o.continue(i.skipToKey)}else r()}})).next((function(){return xi.waitFor(n)}))},ea.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(jr(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},ea.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},ea);function ea(e){this.store=e}function ta(e){return new xi((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ra(e.target.error);n(t)}}))}var na=!1;function ra(e){var t=Gi.getIOSVersion(h());if(12.2<=t&&t<13){var n="An internal error was encountered in the Indexed Database server";if(0<=e.message.indexOf(n)){var r=new Wr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return na||(na=!0,setTimeout((function(){throw r}),0)),r}}return e}var oa=(ia.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},ia.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return ri.fromTimestamp(new ti(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},ia.prototype.getHighestSequenceNumber=function(e){return ua(e.simpleDbTransaction)},ia.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(o){return o.highestListenSequenceNumber=t,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),r.saveMetadata(e,o)}))},ia.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)}))}))},ia.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},ia.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return aa(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return jr(0<t.targetCount,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},ia.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return aa(e).iterate((function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(o++,i.push(r.removeQueryData(e,u)))})).next((function(){return xi.waitFor(i)})).next((function(){return o}))},ia.prototype.forEachTarget=function(e,t){var n=this;return aa(e).iterate((function(e,r){var o=n.serializer.fromDbTarget(r);t(o)}))},ia.prototype.retrieveMetadata=function(e){return sa(e.simpleDbTransaction)},ia.prototype.saveMetadata=function(e,t){return function(e){return ic.getStore(e,Cu.store)}(e).put(Cu.key,t)},ia.prototype.saveQueryData=function(e,t){return aa(e).put(this.serializer.toDbTarget(t))},ia.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},ia.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},ia.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return aa(e).iterate({range:o,index:wu.queryTargetsIndexName},(function(e,r,o){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(i=a,o.done())})).next((function(){return i}))},ia.prototype.addMatchingKeys=function(e,t,n){var r=this,o=[],i=ca(e);return t.forEach((function(t){var a=Xo(t.path);o.push(i.put(new Tu(n,a))),o.push(r.referenceDelegate.addReference(e,t))})),xi.waitFor(o)},ia.prototype.removeMatchingKeys=function(e,t,n){var r=this,o=ca(e);return xi.forEach(t,(function(t){var i=Xo(t.path);return xi.waitFor([o.delete([n,i]),r.referenceDelegate.removeReference(e,t)])}))},ia.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ca(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},ia.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ca(e),o=Ii();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=ei(e[1]),i=new Vo(r);o=o.add(i)})).next((function(){return o}))},ia.prototype.containsKey=function(e,t){var n=Xo(t.path),r=IDBKeyRange.bound([n],[wo(n)],!1,!0),o=0;return ca(e).iterate({index:Tu.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(o++,n.done())})).next((function(){return 0<o}))},ia.prototype.getQueryDataForTarget=function(e,t){var n=this;return aa(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},ia);function ia(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=Wi.forQueryCache()}function aa(e){return ic.getStore(e,wu.store)}function sa(e){return Gi.getStore(e,Cu.store).get(Cu.key).next((function(e){return jr(null!==e,"Missing metadata row."),e}))}function ua(e){return sa(e).next((function(e){return e.highestListenSequenceNumber}))}function ca(e){return ic.getStore(e,Tu.store)}var la=(fa.fromSet=function(e){return new fa(e)},fa.fromArray=function(e){var t=new pi(qo.comparator);return e.forEach((function(e){return t=t.add(e)})),new fa(t)},fa.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},fa.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},fa);function fa(e){this.fields=e}var ha=(pa.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},pa);function pa(e,t){this.field=e,this.transform=t}var da,ya,ma=function(e,t){this.version=e,this.transformResults=t};(ya=da=da||{})[ya.Set=0]="Set",ya[ya.Patch=1]="Patch",ya[ya.Transform=2]="Transform",ya[ya.Delete=3]="Delete";var ga=(va.exists=function(e){return new va(void 0,e)},va.updateTime=function(e){return new va(e)},Object.defineProperty(va.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),va.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof As&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof As:(jr(this.isNone,"Precondition should be empty"),!0)},va.prototype.isEqual=function(e){return function(e,t){return null!=e?!(!t||!e.isEqual(t)):e===t}(this.updateTime,e.updateTime)&&this.exists===e.exists},va.NONE=new va,va);function va(e,t){this.updateTime=e,this.exists=t,jr(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}var ba=(wa.prototype.verifyKeyMatches=function(e){null!=e&&jr(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},wa.getPostMutationVersion=function(e){return e instanceof As?e.version:ri.MIN},wa);function wa(){}var Ea,Ta=(c(Sa,Ea=ba),Sa.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),jr(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new As(this.key,n,{hasCommittedMutations:!0},this.value)},Sa.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=ba.getPostMutationVersion(e);return new As(this.key,r,{hasLocalMutations:!0},this.value)},Sa.prototype.extractBaseValue=function(e){return null},Sa.prototype.isEqual=function(e){return e instanceof Sa&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},Sa);function Sa(e,t,n){var r=Ea.call(this)||this;return r.key=e,r.value=t,r.precondition=n,r.type=da.Set,r}var Ca,Ia=(c(_a,Ca=ba),_a.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),jr(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Ls(this.key,t.version);var n=this.patchDocument(e);return new As(this.key,t.version,{hasCommittedMutations:!0},n)},_a.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=ba.getPostMutationVersion(e),o=this.patchDocument(e);return new As(this.key,r,{hasLocalMutations:!0},o)},_a.prototype.extractBaseValue=function(e){return null},_a.prototype.isEqual=function(e){return e instanceof _a&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},_a.prototype.patchDocument=function(e){var t;return t=e instanceof As?e.data():Ts.EMPTY,this.patchObject(t)},_a.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}})),e},_a);function _a(e,t,n,r){var o=Ca.call(this)||this;return o.key=e,o.data=t,o.fieldMask=n,o.precondition=r,o.type=da.Patch,o}var ka,Na=(c(Da,ka=ba),Da.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),jr(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Ls(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),o=t.version,i=this.transformObject(n.data(),r);return new As(this.key,o,{hasCommittedMutations:!0},i)},Da.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),o=this.localTransformResults(n,e,t),i=this.transformObject(r.data(),o);return new As(this.key,r.version,{hasLocalMutations:!0},i)},Da.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var o=r[n],i=e instanceof As?e.field(o.field):void 0,a=o.transform.computeBaseValue(i||null);null!=a&&(t=null==t?Ts.EMPTY.set(o.field,a):t.set(o.field,a))}return t},Da.prototype.isEqual=function(e){return e instanceof Da&&this.key.isEqual(e.key)&&bo(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},Da.prototype.requireDocument=function(e){jr(e instanceof As,"Unknown MaybeDocument type "+e);var t=e;return jr(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},Da.prototype.serverTransformResults=function(e,t){var n=[];jr(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var o=this.fieldTransforms[r],i=o.transform,a=null;e instanceof As&&(a=e.field(o.field)),n.push(i.applyToRemoteDocument(a,t[r]))}return n},Da.prototype.localTransformResults=function(e,t,n){for(var r=[],o=0,i=this.fieldTransforms;o<i.length;o++){var a=i[o],s=a.transform,u=null;t instanceof As&&(u=t.field(a.field)),null===u&&n instanceof As&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,e))}return r},Da.prototype.transformObject=function(e,t){jr(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},Da);function Da(e,t){var n=ka.call(this)||this;return n.key=e,n.fieldTransforms=t,n.type=da.Transform,n.precondition=ga.exists(!0),n}var Aa,Oa,xa,Pa,Ra,Ma=(c(La,Aa=ba),La.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),jr(null==t.transformResults,"Transform results received by DeleteMutation."),new Ps(this.key,t.version,{hasCommittedMutations:!0})},La.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&jr(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Ps(this.key,ri.forDeletedDoc())):e},La.prototype.extractBaseValue=function(e){return null},La.prototype.isEqual=function(e){return e instanceof La&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},La);function La(e,t){var n=Aa.call(this)||this;return n.key=e,n.precondition=t,n.type=da.Delete,n}(xa=Oa=Oa||{})[xa.NullValue=0]="NullValue",xa[xa.BooleanValue=1]="BooleanValue",xa[xa.NumberValue=2]="NumberValue",xa[xa.TimestampValue=3]="TimestampValue",xa[xa.StringValue=4]="StringValue",xa[xa.BlobValue=5]="BlobValue",xa[xa.RefValue=6]="RefValue",xa[xa.GeoPointValue=7]="GeoPointValue",xa[xa.ArrayValue=8]="ArrayValue",xa[xa.ObjectValue=9]="ObjectValue",(Ra=Pa=Pa||{})[Ra.Default=0]="Default",Ra[Ra.Estimate=1]="Estimate",Ra[Ra.Previous=2]="Previous";var Fa=(ja.fromSnapshotOptions=function(e,t){switch(e.serverTimestamps){case"estimate":return new ja(Pa.Estimate,t);case"previous":return new ja(Pa.Previous,t);case"none":case void 0:return new ja(Pa.Default,t);default:return Fr("fromSnapshotOptions() called with invalid options.")}},ja);function ja(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}var Ua=(qa.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},qa.prototype.defaultCompareTo=function(e){return jr(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),vo(this.typeOrder,e.typeOrder)},qa);function qa(){}var Ba,Va=(c(za,Ba=Ua),za.prototype.value=function(e){return null},za.prototype.isEqual=function(e){return e instanceof za},za.prototype.compareTo=function(e){return e instanceof za?0:this.defaultCompareTo(e)},za.INSTANCE=new za,za);function za(){var e=Ba.call(this)||this;return e.typeOrder=Oa.NullValue,e.internalValue=null,e}var Wa,Qa=(c(Ka,Wa=Ua),Ka.prototype.value=function(e){return this.internalValue},Ka.prototype.isEqual=function(e){return e instanceof Ka&&this.internalValue===e.internalValue},Ka.prototype.compareTo=function(e){return e instanceof Ka?vo(this,e):this.defaultCompareTo(e)},Ka.of=function(e){return e?Ka.TRUE:Ka.FALSE},Ka.TRUE=new Ka(!0),Ka.FALSE=new Ka(!1),Ka);function Ka(e){var t=Wa.call(this)||this;return t.internalValue=e,t.typeOrder=Oa.BooleanValue,t}var Ga,Ha=(c(Ya,Ga=Ua),Ya.prototype.value=function(e){return this.internalValue},Ya.prototype.compareTo=function(e){return e instanceof Ya?function(e,t){return e<t?-1:t<e?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}(this.internalValue,e.internalValue):this.defaultCompareTo(e)},Ya);function Ya(e){var t=Ga.call(this)||this;return t.internalValue=e,t.typeOrder=Oa.NumberValue,t}function $a(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var Xa,Ja=(c(Za,Xa=Ha),Za.prototype.isEqual=function(e){return e instanceof Za&&$a(this.internalValue,e.internalValue)},Za);function Za(){return null!==Xa&&Xa.apply(this,arguments)||this}var es,ts=(c(ns,es=Ha),ns.prototype.isEqual=function(e){return e instanceof ns&&$a(this.internalValue,e.internalValue)},ns.NAN=new ns(NaN),ns.POSITIVE_INFINITY=new ns(1/0),ns.NEGATIVE_INFINITY=new ns(-1/0),ns);function ns(){return null!==es&&es.apply(this,arguments)||this}var rs,os=(c(is,rs=Ua),is.prototype.value=function(e){return this.internalValue},is.prototype.isEqual=function(e){return e instanceof is&&this.internalValue===e.internalValue},is.prototype.compareTo=function(e){return e instanceof is?vo(this.internalValue,e.internalValue):this.defaultCompareTo(e)},is);function is(e){var t=rs.call(this)||this;return t.internalValue=e,t.typeOrder=Oa.StringValue,t}var as,ss=(c(us,as=Ua),us.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},us.prototype.isEqual=function(e){return e instanceof us&&this.internalValue.isEqual(e.internalValue)},us.prototype.compareTo=function(e){return e instanceof us?this.internalValue._compareTo(e.internalValue):e instanceof ls?-1:this.defaultCompareTo(e)},us);function us(e){var t=as.call(this)||this;return t.internalValue=e,t.typeOrder=Oa.TimestampValue,t}var cs,ls=(c(fs,cs=Ua),fs.prototype.value=function(e){return e&&e.serverTimestampBehavior===Pa.Estimate?new ss(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===Pa.Previous&&this.previousValue?this.previousValue.value(e):null},fs.prototype.isEqual=function(e){return e instanceof fs&&this.localWriteTime.isEqual(e.localWriteTime)},fs.prototype.compareTo=function(e){return e instanceof fs?this.localWriteTime._compareTo(e.localWriteTime):e instanceof ss?1:this.defaultCompareTo(e)},fs.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},fs);function fs(e,t){var n=cs.call(this)||this;return n.localWriteTime=e,n.previousValue=t,n.typeOrder=Oa.TimestampValue,n}var hs,ps=(c(ds,hs=Ua),ds.prototype.value=function(e){return this.internalValue},ds.prototype.isEqual=function(e){return e instanceof ds&&this.internalValue.isEqual(e.internalValue)},ds.prototype.compareTo=function(e){return e instanceof ds?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},ds);function ds(e){var t=hs.call(this)||this;return t.internalValue=e,t.typeOrder=Oa.BlobValue,t}var ys,ms=(c(gs,ys=Ua),gs.prototype.value=function(e){return this.key},gs.prototype.isEqual=function(e){return e instanceof gs&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},gs.prototype.compareTo=function(e){if(e instanceof gs){var t=this.databaseId.compareTo(e.databaseId);return 0!==t?t:Vo.comparator(this.key,e.key)}return this.defaultCompareTo(e)},gs);function gs(e,t){var n=ys.call(this)||this;return n.databaseId=e,n.key=t,n.typeOrder=Oa.RefValue,n}var vs,bs=(c(ws,vs=Ua),ws.prototype.value=function(e){return this.internalValue},ws.prototype.isEqual=function(e){return e instanceof ws&&this.internalValue.isEqual(e.internalValue)},ws.prototype.compareTo=function(e){return e instanceof ws?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},ws);function ws(e){var t=vs.call(this)||this;return t.internalValue=e,t.typeOrder=Oa.GeoPointValue,t}var Es,Ts=(c(Ss,Es=Ua),Ss.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},Ss.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},Ss.prototype.isEqual=function(e){if(e instanceof Ss){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var r=t.getNext(),o=n.getNext();if(r.key!==o.key||!r.value.isEqual(o.value))return!1}return!t.hasNext()&&!n.hasNext()}return!1},Ss.prototype.compareTo=function(e){if(e instanceof Ss){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var r=t.getNext(),o=n.getNext(),i=vo(r.key,o.key)||r.value.compareTo(o.value);if(i)return i}return vo(t.hasNext(),n.hasNext())}return this.defaultCompareTo(e)},Ss.prototype.set=function(e,t){if(jr(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),t);var n=this.child(e.firstSegment());n instanceof Ss||(n=Ss.EMPTY);var r=n.set(e.popFirst(),t);return this.setChild(e.firstSegment(),r)},Ss.prototype.delete=function(e){if(jr(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new Ss(this.internalValue.remove(e.firstSegment()));var t=this.child(e.firstSegment());if(t instanceof Ss){var n=t.delete(e.popFirst());return new Ss(this.internalValue.insert(e.firstSegment(),n))}return this},Ss.prototype.contains=function(e){return null!==this.field(e)},Ss.prototype.field=function(e){jr(!e.isEmpty(),"Can't get field of empty path");var t=this;return e.forEach((function(e){t=t instanceof Ss?t.internalValue.get(e):null})),t},Ss.prototype.fieldMask=function(){var e=new pi(qo.comparator);return this.internalValue.forEach((function(t,n){var r=new qo([t]);if(n instanceof Ss){var o=n.fieldMask().fields;o.isEmpty()?e=e.add(r):o.forEach((function(t){e=e.add(r.child(t))}))}else e=e.add(r)})),la.fromSet(e)},Ss.prototype.toString=function(){return this.internalValue.toString()},Ss.prototype.child=function(e){return this.internalValue.get(e)||void 0},Ss.prototype.setChild=function(e,t){return new Ss(this.internalValue.insert(e,t))},Ss.EMPTY=new Ss(new ii(vo)),Ss);function Ss(e){var t=Es.call(this)||this;return t.internalValue=e,t.typeOrder=Oa.ObjectValue,t}var Cs,Is=(c(_s,Cs=Ua),_s.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},_s.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++)if(n[t].isEqual(e))return!0;return!1},_s.prototype.forEach=function(e){this.internalValue.forEach(e)},_s.prototype.isEqual=function(e){if(e instanceof _s){if(this.internalValue.length!==e.internalValue.length)return!1;for(var t=0;t<this.internalValue.length;t++)if(!this.internalValue[t].isEqual(e.internalValue[t]))return!1;return!0}return!1},_s.prototype.compareTo=function(e){if(e instanceof _s){for(var t=Math.min(this.internalValue.length,e.internalValue.length),n=0;n<t;n++){var r=this.internalValue[n].compareTo(e.internalValue[n]);if(r)return r}return vo(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},_s.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},_s);function _s(e){var t=Cs.call(this)||this;return t.internalValue=e,t.typeOrder=Oa.ArrayValue,t}var ks=(Ns.compareByKey=function(e,t){return Vo.comparator(e.key,t.key)},Ns);function Ns(e,t){this.key=e,this.version=t}var Ds,As=(c(Os,Ds=ks),Os.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},Os.prototype.data=function(){var e=this;if(!this.objectValue){var t=Ts.EMPTY;$r(this.proto.fields,(function(n,r){t=t.set(new qo([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},Os.prototype.value=function(){return this.data().value()},Os.prototype.isEqual=function(e){return e instanceof Os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},Os.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Os.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),Os.prototype.getProtoField=function(e){jr(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields[e.firstSegment()],n=1;n<e.length;++n){if(!t||!t.mapValue)return;t=t.mapValue.fields[e.get(n)]}return t},Os.compareByField=function(e,t,n){var r=t.field(e),o=n.field(e);return null!==r&&null!==o?r.compareTo(o):Fr("Trying to compare documents on fields that don't exist")},Os);function Os(e,t,n,r,o,i){var a=Ds.call(this,e,t)||this;return a.objectValue=r,a.proto=o,a.converter=i,jr(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!n.hasLocalMutations,a.hasCommittedMutations=!!n.hasCommittedMutations,a}var xs,Ps=(c(Rs,xs=ks),Rs.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Rs.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Rs.prototype.isEqual=function(e){return e instanceof Rs&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Rs);function Rs(e,t,n){var r=xs.call(this,e,t)||this;return r.hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}var Ms,Ls=(c(Fs,Ms=ks),Fs.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Fs.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),Fs.prototype.isEqual=function(e){return e instanceof Fs&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Fs);function Fs(){return null!==Ms&&Ms.apply(this,arguments)||this}var js=(Us.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[0],s=i[1];if(a.isEqual(e))return s}},Us.prototype.has=function(e){return void 0!==this.get(e)},Us.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(r[o][0].isEqual(e))return void(r[o]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},Us.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},Us.prototype.forEach=function(e){$r(this.inner,(function(t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[0],s=i[1];e(a,s)}}))},Us.prototype.isEmpty=function(){return Xr(this.inner)},Us);function Us(e){this.mapKeyFn=e,this.inner={}}var qs=(Bs.prototype.addEntry=function(e){this.assertNotApplied(),this.changes.set(e.key,e)},Bs.prototype.removeEntry=function(e){this.assertNotApplied(),this.changes.set(e,null)},Bs.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?xi.resolve(n):this.getFromCache(e,t)},Bs.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},Bs.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},Bs.prototype.assertNotApplied=function(){jr(!this.changesApplied,"Changes have already been applied.")},Bs);function Bs(){this.changes=new js((function(e){return e.toString()})),this.changesApplied=!1}var Vs,zs="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Ws=(Object.defineProperty(Qs.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),Qs.prototype.start=function(e){var t=Gi.getStore(e,Du.store);return this.synchronizeLastDocumentChangeId(t)},Qs.prototype.addEntry=function(e,t,n){var r=this;return Hs(e).put($s(t),n).next((function(){r.indexManager.addToCollectionParentIndex(e,t.path.popLast())}))},Qs.prototype.removeEntry=function(e,t){var n=Hs(e),r=$s(t);return n.delete(r)},Qs.prototype.updateMetadata=function(e,t,n){var r=this;return this.getMetadata(e).next((function(o){return o.byteSize+=n,r.setMetadata(e,o).next((function(){if(r.keepDocumentChangeLog)return Ys(e).put({changes:r.serializer.toDbResourcePaths(t)})}))}))},Qs.prototype.getEntry=function(e,t){var n=this;return Hs(e).get($s(t)).next((function(e){return e?n.serializer.fromDbRemoteDocument(e):null}))},Qs.prototype.getSizedEntry=function(e,t){var n=this;return Hs(e).get($s(t)).next((function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:Xs(e)}:null}))},Qs.prototype.getEntries=function(e,t){var n=this,r=bi();return this.forEachDbEntry(e,t,(function(e,t){r=t?r.insert(e,n.serializer.fromDbRemoteDocument(t)):r.insert(e,null)})).next((function(){return r}))},Qs.prototype.getSizedEntries=function(e,t){var n=this,r=bi(),o=new ii(Vo.comparator);return this.forEachDbEntry(e,t,(function(e,t){o=t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),o.insert(e,Xs(t))):(r=r.insert(e,null),o.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:o}}))},Qs.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return xi.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),i=o.getNext();return Hs(e).iterate({range:r},(function(e,t,r){for(var a=Vo.fromSegments(e);i&&Vo.comparator(i,a)<0;)n(i,null),i=o.getNext();i&&i.isEqual(a)&&(n(i,t),i=o.hasNext()?o.getNext():null),i?r.skip(i.path.toArray()):r.done()})).next((function(){for(;i;)n(i,null),i=o.hasNext()?o.getNext():null}))},Qs.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;jr(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Ei(),o=t.path.length+1,i=t.path.toArray(),a=IDBKeyRange.lowerBound(i);return Hs(e).iterate({range:a},(function(e,i,a){if(e.length===o){var s=n.serializer.fromDbRemoteDocument(i);t.path.isPrefixOf(s.key.path)?s instanceof As&&t.matches(s)&&(r=r.insert(s.key,s)):a.done()}})).next((function(){return r}))},Qs.prototype.getNewDocumentChanges=function(e){var t=this;jr(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ii(),r=vi(),o=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),i=!0,a=Ys(e);return a.iterate({range:o},(function(e,r){if(i&&(i=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(a).next((function(){return xi.reject(new Wr(zr.DATA_LOSS,zs))}));n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id})).next((function(){var o=[];return n.forEach((function(n){o.push(t.getEntry(e,n).next((function(e){var t=e||new Ps(n,ri.forDeletedDoc());r=r.insert(n,t)})))})),xi.waitFor(o)})).next((function(){return r}))},Qs.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return Ys(e).delete(n)},Qs.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},(function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()}))},Qs.prototype.newChangeBuffer=function(){return new Qs.RemoteDocumentChangeBuffer(this)},Qs.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},Qs.prototype.getMetadata=function(e){return Gs(e).get(vu.key).next((function(e){return jr(!!e,"Missing document cache metadata"),e}))},Qs.prototype.setMetadata=function(e,t){return Gs(e).put(vu.key,t)},Qs.RemoteDocumentChangeBuffer=(c(Ks,Vs=qs),Ks.prototype.applyChanges=function(e){var t=this,n=[],r=0,o=Ii();return this.changes.forEach((function(i,a){var s=t.documentSizes.get(i);if(jr(void 0!==s,"Cannot modify a document that wasn't read (for "+i+")"),a){var u=t.documentCache.serializer.toDbRemoteDocument(a),c=Xs(u);r+=c-s,n.push(t.documentCache.addEntry(e,i,u))}else r-=s,n.push(t.documentCache.removeEntry(e,i));o=o.add(i)})),n.push(this.documentCache.updateMetadata(e,o,r)),xi.waitFor(n)},Ks.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},Ks.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},Ks),Qs);function Qs(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}function Ks(e){var t=Vs.call(this)||this;return t.documentCache=e,t.documentSizes=new js((function(e){return e.toString()})),t}function Gs(e){return ic.getStore(e,vu.store)}function Hs(e){return ic.getStore(e,mu.store)}function Ys(e){return ic.getStore(e,Du.store)}function $s(e){return e.path.toArray()}function Xs(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fr("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var Js=(Zs.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),xi.resolve()},Zs.prototype.getCollectionParents=function(e,t){return xi.resolve(this.collectionParentIndex.getEntries(t))},Zs);function Zs(){this.collectionParentIndex=new eu}var eu=(tu.prototype.add=function(e){jr(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pi(Lo.comparator),o=!r.has(n);return this.index[t]=r.add(n),o},tu.prototype.getEntries=function(e){return(this.index[e]||new pi(Lo.comparator)).toArray()},tu);function tu(){this.index={}}var nu=8,ru=(ou.prototype.createOrUpgrade=function(e,t,n,r){var o=this;jr(n<r&&0<=n&&r<=nu,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&1<=r&&(function(e){e.createObjectStore(au.store)}(e),function(e){e.createObjectStore(uu.store,{keyPath:uu.keyPath}),e.createObjectStore(lu.store,{keyPath:lu.keyPath,autoIncrement:!0}).createIndex(lu.userMutationsIndex,lu.userMutationsKeyPath,{unique:!0}),e.createObjectStore(hu.store)}(e),Nu(e),function(e){e.createObjectStore(mu.store)}(e));var i=xi.resolve();return n<3&&3<=r&&(0!==n&&(function(e){e.deleteObjectStore(Tu.store),e.deleteObjectStore(wu.store),e.deleteObjectStore(Cu.store)}(e),Nu(e)),i=i.next((function(){return function(e){var t=e.store(Cu.store),n=new Cu(0,0,ri.MIN.toTimestamp(),0);return t.put(Cu.key,n)}(t)}))),n<4&&4<=r&&(0!==n&&(i=i.next((function(){return function(e,t){return t.store(lu.store).loadAll().next((function(n){e.deleteObjectStore(lu.store),e.createObjectStore(lu.store,{keyPath:lu.keyPath,autoIncrement:!0}).createIndex(lu.userMutationsIndex,lu.userMutationsKeyPath,{unique:!0});var r=t.store(lu.store),o=n.map((function(e){return r.put(e)}));return xi.waitFor(o)}))}(e,t)}))),i=i.next((function(){!function(e){e.createObjectStore(Ou.store,{keyPath:Ou.keyPath})}(e),function(e){e.createObjectStore(Du.store,{keyPath:"id",autoIncrement:!0})}(e)}))),n<5&&5<=r&&(i=i.next((function(){return o.removeAcknowledgedMutations(t)}))),n<6&&6<=r&&(i=i.next((function(){return function(e){e.createObjectStore(vu.store)}(e),o.addDocumentGlobal(t)}))),n<7&&7<=r&&(i=i.next((function(){return o.ensureSequenceNumbers(t)}))),n<8&&8<=r&&(i=i.next((function(){return o.createCollectionParentIndex(e,t)}))),i},ou.prototype.addDocumentGlobal=function(e){var t=0;return e.store(mu.store).iterate((function(e,n){t+=Xs(n)})).next((function(){var n=new vu(t);return e.store(vu.store).put(vu.key,n)}))},ou.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(uu.store),r=e.store(lu.store);return n.loadAll().next((function(n){return xi.forEach(n,(function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(lu.userMutationsIndex,o).next((function(r){return xi.forEach(r,(function(r){jr(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var o=t.serializer.fromDbMutationBatch(r);return Ui(e,n.userId,o).next((function(){}))}))}))}))}))},ou.prototype.ensureSequenceNumbers=function(e){var t=e.store(Tu.store),n=e.store(mu.store);return ua(e).next((function(e){var r=[];return n.iterate((function(n,o){var i=new Lo(n),a=function(e){return[0,Xo(e)]}(i);r.push(t.get(a).next((function(n){return n?xi.resolve():function(n){return t.put(new Tu(0,Xo(n),e))}(i)})))})).next((function(){return xi.waitFor(r)}))}))},ou.prototype.createCollectionParentIndex=function(e,t){function n(e){if(o.add(e)){var t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:Xo(n)})}}e.createObjectStore(_u.store,{keyPath:_u.keyPath});var r=t.store(_u.store),o=new eu;return t.store(mu.store).iterate({keysOnly:!0},(function(e,t){return n(new Lo(e).popLast())})).next((function(){return t.store(hu.store).iterate({keysOnly:!0},(function(e,t){e[0];var r=e[1];return n((e[2],ei(r)).popLast())}))}))},ou);function ou(e){this.serializer=e}var iu=function(e,t){this.seconds=e,this.nanoseconds=t},au=(su.store="owner",su.key="owner",su);function su(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var uu=(cu.store="mutationQueues",cu.keyPath="userId",cu);function cu(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}var lu=(fu.store="mutations",fu.keyPath="batchId",fu.userMutationsIndex="userMutationsIndex",fu.userMutationsKeyPath=["userId","batchId"],fu);function fu(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o}var hu=(pu.prefixForUser=function(e){return[e]},pu.prefixForPath=function(e,t){return[e,Xo(t)]},pu.key=function(e,t,n){return[e,Xo(t),n]},pu.store="documentMutations",pu.PLACEHOLDER=new pu,pu);function pu(){}var du=function(e,t){this.path=e,this.readTime=t},yu=function(e,t){this.path=e,this.version=t},mu=(gu.store="remoteDocuments",gu);function gu(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}var vu=(bu.store="remoteDocumentGlobal",bu.key="remoteDocumentGlobalKey",bu);function bu(e){this.byteSize=e}var wu=(Eu.store="targets",Eu.keyPath="targetId",Eu.queryTargetsIndexName="queryTargetsIndex",Eu.queryTargetsKeyPath=["canonicalId","targetId"],Eu);function Eu(e,t,n,r,o,i){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.query=i}var Tu=(Su.store="targetDocuments",Su.keyPath=["targetId","path"],Su.documentTargetsIndex="documentTargetsIndex",Su.documentTargetsKeyPath=["path","targetId"],Su);function Su(e,t,n){this.targetId=e,this.path=t,jr(0===e==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}var Cu=(Iu.key="targetGlobalKey",Iu.store="targetGlobal",Iu);function Iu(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}var _u=(ku.store="collectionParents",ku.keyPath=["collectionId","parent"],ku);function ku(e,t){this.collectionId=e,this.parent=t}function Nu(e){e.createObjectStore(Tu.store,{keyPath:Tu.keyPath}).createIndex(Tu.documentTargetsIndex,Tu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(wu.store,{keyPath:wu.keyPath}).createIndex(wu.queryTargetsIndexName,wu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Cu.store)}var Du=(Au.store="remoteDocumentChanges",Au.keyPath="id",Au);function Au(e){this.changes=e}var Ou=(xu.store="clientMetadata",xu.keyPath="clientId",xu);function xu(e,t,n,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=o}var Pu,Ru,Mu=[uu.store,lu.store,hu.store,mu.store,wu.store,au.store,Cu.store,Tu.store].concat([Ou.store,Du.store]).concat([vu.store]).concat([_u.store]),Lu=(Fu.prototype.addToCollectionParentIndex=function(e,t){if(jr(t.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(t)){jr(1<=t.length,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return ju(e).put({collectionId:n,parent:Xo(r)})}return xi.resolve()},Fu.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[wo(t),""],!1,!0);return ju(e).loadAll(r).next((function(e){for(var r=0,o=e;r<o.length;r++){var i=o[r];if(i.collectionId!==t)break;n.push(ei(i.parent))}return n}))},Fu);function Fu(){this.collectionParentsCache=new eu}function ju(e){return ic.getStore(e,_u.store)}(Ru=Pu=Pu||{})[Ru.Listen=0]="Listen",Ru[Ru.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",Ru[Ru.LimboResolution=2]="LimboResolution";var Uu=(qu.prototype.withSequenceNumber=function(e){return new qu(this.query,this.targetId,this.purpose,e,this.snapshotVersion,this.resumeToken)},qu.prototype.withResumeToken=function(e,t){return new qu(this.query,this.targetId,this.purpose,this.sequenceNumber,t,e)},qu.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},qu);function qu(e,t,n,r,o,i){void 0===o&&(o=ri.MIN),void 0===i&&(i=Br()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.resumeToken=i}var Bu=(Vu.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Vo.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new Ps(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=Vo.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new Ls(t,n)):Fr("Unexpected DbRemoteDocument")},Vu.prototype.toDbRemoteDocument=function(e){if(e instanceof As){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new mu(null,null,t,n)}if(e instanceof Ps){var r=e.key.path.toArray(),o=this.toDbTimestamp(e.version);return n=e.hasCommittedMutations,new mu(null,new du(r,o),null,n)}return e instanceof Ls?(r=e.key.path.toArray(),o=this.toDbTimestamp(e.version),new mu(new yu(r,o),null,null,!0)):Fr("Unexpected MaybeDocumment")},Vu.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new iu(t.seconds,t.nanoseconds)},Vu.prototype.fromDbTimestamp=function(e){var t=new ti(e.seconds,e.nanoseconds);return ri.fromTimestamp(t)},Vu.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),o=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new lu(e,t.batchId,t.localWriteTime.toMillis(),r,o)},Vu.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),o=ti.fromMillis(e.localWriteTimeMs);return new Ni(e.batchId,o,n,r)},Vu.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(Xo(e.path))})),t},Vu.prototype.fromDbResourcePaths=function(e){for(var t=Ii(),n=0,r=e;n<r.length;n++){var o=r[n];t=t.add(new Vo(ei(o)))}return t},Vu.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=function(e){return void 0!==e.documents}(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new Uu(t,e.targetId,Pu.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},Vu.prototype.toDbTarget=function(e){jr(Pu.Listen===e.purpose,"Only queries with purpose "+Pu.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),n=e.resumeToken instanceof Uint8Array?(jr("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/bio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_DATABASE_URL:"https://my-personal-bio.firebaseio.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"770715025261",REACT_APP_FIREBASE_STORAGE_BUCKET:"my-personal-bio.appspot.com",REACT_APP_FIREBASE_AUTH_DOMAIN:"my-personal-bio.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"my-personal-bio",REACT_APP_FIREBASE_APP_ID:"1:770715025261:web:8aa851a469fa962F",REACT_APP_FIREBASE_API_KEY:"AIzaSyBSFtPxgJS8USawtuUnHwVHH0ttP3V7Nx8"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),e.resumeToken.toString()):e.resumeToken,new wu(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,t)},Vu);function Vu(e){this.remoteSerializer=e}function zu(e,t){var n=e[0],r=e[1],o=t[0],i=t[1],a=vo(n,o);return 0===a?vo(r,i):a}var Wu=(Qu.prototype.nextIndex=function(){return++this.previousIndex},Qu.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();zu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(Qu.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),Qu);function Qu(e){this.maxElements=e,this.buffer=new pi(zu),this.previousIndex=0}var Ku={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gu=(Hu.withCacheSize=function(e){return new Hu(e,Hu.DEFAULT_COLLECTION_PERCENTILE,Hu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Hu.COLLECTION_DISABLED=-1,Hu.MINIMUM_CACHE_SIZE_BYTES=1048576,Hu.DEFAULT=new Hu(Hu.DEFAULT_CACHE_SIZE_BYTES=41943040,Hu.DEFAULT_COLLECTION_PERCENTILE=10,Hu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),Hu.DISABLED=new Hu(Hu.COLLECTION_DISABLED,0,0),Hu);function Hu(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}var Yu=($u.prototype.start=function(){jr(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Gu.COLLECTION_DISABLED&&this.scheduleGC()},$u.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty($u.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),$u.prototype.scheduleGC=function(){var e=this;jr(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;Rr("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Wo.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(sc)}))},$u);function $u(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}var Xu=(Ju.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},Ju.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return xi.resolve(Ao.INVALID);var r=new Wu(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},Ju.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},Ju.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},Ju.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===Gu.COLLECTION_DISABLED?(Rr("LruGarbageCollector","Garbage collection skipped; disabled"),xi.resolve(Ku)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Rr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ku):n.runGarbageCollection(e,t)}))},Ju.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},Ju.prototype.runGarbageCollection=function(e,t){var n,r,o,i,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(Rr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),c.params.maximumSequenceNumbersToCollect):t,i=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return o=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),xr()<=Tr.DEBUG&&Rr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(i-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-i)+"ms\n\tRemoved "+o+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),xi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},Ju);function Ju(e,t){this.delegate=e,this.params=t}var Zu,ec="IndexedDbPersistence",tc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nc="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",rc=(c(oc,Zu=function(){}),oc);function oc(e,t){var n=Zu.call(this)||this;return n.simpleDbTransaction=e,n.currentSequenceNumber=t,n}var ic=(ac.getStore=function(e,t){if(e instanceof rc)return Gi.getStore(e.simpleDbTransaction,t);throw Fr("IndexedDbPersistence must use instances of IndexedDbTransaction")},ac.createIndexedDbPersistence=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:if(!ac.isAvailable())throw new Wr(zr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(t=new ac(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return n.sent(),[2,t]}}))}))},ac.prototype.start=function(){var e=this;return jr(!this.started,"IndexedDbPersistence double-started!"),jr(null!==this.window,"Expected 'window' to be defined"),Gi.openOrCreate(this.dbName,nu,new ru(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()})).then((function(){return e.simpleDb.runTransaction("readonly",[Cu.store],(function(t){return ua(t).next((function(t){e.listenSequence=new Ao(t,e.sequenceNumberSyncer)}))}))})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},ac.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",Mu,(function(t){return e.remoteDocumentCache.start(t)}))},ac.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return l(t,void 0,void 0,(function(){return f(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},ac.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return l(t,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},ac.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return l(t,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},ac.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Mu,(function(t){return cc(t).put(new Ou(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(e.isPrimary)})),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0}))}))},ac.prototype.verifyPrimaryLease=function(e){var t=this;return uc(e).get(au.key).next((function(e){return xi.resolve(t.isLocalClient(e))}))},ac.prototype.removeClientMetadata=function(e){return cc(e).delete(this.clientId)},ac.prototype.maybeGarbageCollectMultiClientState=function(){return l(this,void 0,void 0,(function(){var e,t,n=this;return f(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),t=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(r){var o=ac.getStore(r,Ou.store);return o.loadAll().next((function(r){e=n.filterActiveClients(r,18e5),t=r.filter((function(t){return-1===e.indexOf(t)}))})).next((function(){return xi.forEach(t,(function(e){return o.delete(e.clientId)}))})).next((function(){if(0<(e=e.filter((function(e){return e.clientId!==n.clientId}))).length){var t=e.map((function(e){return e.lastProcessedDocumentChangeId||0})),o=Math.min.apply(Math,t);return n.remoteDocumentCache.removeDocumentChangesThroughChangeId(r,o)}}))}))]);case 1:r.sent(),t.forEach((function(e){n.window.localStorage.removeItem(n.zombiedClientLocalStorageKey(e.clientId))})),r.label=2;case 2:return[2]}}))}))},ac.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Wo.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},ac.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},ac.prototype.canActAsPrimary=function(e){var t=this;return uc(e).get(au.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new Wr(zr.FAILED_PRECONDITION,nc);return!1}}return!(!t.networkEnabled||!t.inForeground)||cc(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,o=t.networkEnabled===e.networkEnabled;if(n||r&&o)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Rr(ec,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},ac.prototype.shutdown=function(){return l(this,void 0,void 0,(function(){var e=this;return f(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[au.store,Ou.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},ac.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},ac.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[Ou.store],(function(t){return cc(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},ac.clearPersistence=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return ac.isAvailable()?(t=e+ac.MAIN_DATABASE,[4,Gi.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(ac.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),ac.prototype.getMutationQueue=function(e){return jr(this.started,"Cannot initialize MutationQueue before persistence is started."),Li.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},ac.prototype.getQueryCache=function(){return jr(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},ac.prototype.getRemoteDocumentCache=function(){return jr(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},ac.prototype.getIndexManager=function(){return jr(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},ac.prototype.runTransaction=function(e,t,n){var r=this;return Rr(ec,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",Mu,(function(o){return"readwrite-primary"===t?r.verifyPrimaryLease(o).next((function(t){if(!t)throw Mr("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new Wr(zr.FAILED_PRECONDITION,tc);return n(new rc(o,r.listenSequence.next()))})).next((function(e){return r.acquireOrExtendPrimaryLease(o).next((function(){return e}))})):r.verifyAllowTabSynchronization(o).next((function(){return n(new rc(o,r.listenSequence.next()))}))}))},ac.prototype.verifyAllowTabSynchronization=function(e){var t=this;return uc(e).get(au.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new Wr(zr.FAILED_PRECONDITION,nc)}))},ac.prototype.acquireOrExtendPrimaryLease=function(e){var t=new au(this.clientId,this.allowTabSynchronization,Date.now());return uc(e).put(au.key,t)},ac.isAvailable=function(){return Gi.isAvailable()},ac.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},ac.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=uc(e);return n.get(au.key).next((function(e){return t.isLocalClient(e)?(Rr(ec,"Releasing primary lease."),n.delete(au.key)):xi.resolve()}))},ac.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(Mr("Detected an update time that is in the future: "+e+" > "+n),1))},ac.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},ac.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(jr(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},ac.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},ac.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(jr("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},ac.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return Rr(ec,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return Mr(ec,"Failed to get zombied client id.",e),!1}},ac.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(r){Mr("Failed to set zombie client id.",r)}},ac.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(r){}},ac.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},ac.MAIN_DATABASE="main",ac);function ac(e,t,n,r,o,i,a,s){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.queue=i,this.sequenceNumberSyncer=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new lc(this,o),this.dbName=t+ac.MAIN_DATABASE,this.serializer=new Bu(a),this.document=r.document,this.queryCache=new oa(this.referenceDelegate,this.serializer),this.indexManager=new Lu,this.remoteDocumentCache=new Ws(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new Wr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}function sc(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){if(!function(e){return e.code===zr.FAILED_PRECONDITION&&e.message===tc}(e))throw e;return Rr(ec,"Unexpectedly lost primary lease"),[2]}))}))}function uc(e){return e.store(au.store)}function cc(e){return e.store(Ou.store)}var lc=(fc.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next((function(e){return t.next((function(t){return e+t}))}))},fc.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},fc.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},fc.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},fc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},fc.prototype.addReference=function(e,t){return hc(e,t)},fc.prototype.removeReference=function(e,t){return hc(e,t)},fc.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},fc.prototype.removeMutationReference=function(e,t){return hc(e,t)},fc.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?xi.resolve(!0):function(e,t){var n=!1;return zi(e).iterateSerial((function(r){return ji(e,r,t).next((function(e){return e&&(n=!0),xi.resolve(!e)}))})).next((function(){return n}))}(e,t)},fc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],i=0;return this.forEachOrphanedDocument(e,(function(a,s){if(s<=t){var u=n.isPinned(e,a).next((function(t){if(!t)return i++,r.getEntry(e,a).next((function(){return r.removeEntry(a),ca(e).delete(function(e){return[0,Xo(e.path)]}(a))}))}));o.push(u)}})).next((function(){return xi.waitFor(o)})).next((function(){return r.apply(e)})).next((function(){return i}))},fc.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(e,n)},fc.prototype.updateLimboDocument=function(e,t){return hc(e,t)},fc.prototype.forEachOrphanedDocument=function(e,t){var n,r=ca(e),o=Ao.INVALID;return r.iterate({index:Tu.documentTargetsIndex},(function(e,r){var i=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===i?(o!==Ao.INVALID&&t(new Vo(ei(n)),o),o=s,n=a):o=Ao.INVALID})).next((function(){o!==Ao.INVALID&&t(new Vo(ei(n)),o)}))},fc.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},fc);function fc(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Xu(this,t)}function hc(e,t){return ca(e).put(function(e,t){return new Tu(0,Xo(e.path),t)}(t,e.currentSequenceNumber))}var pc=(dc.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},dc.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,o=n;r<o.length;r++)e=o[r].applyToLocalView(t,e);return e}))},dc.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=bi();return t.forEach((function(e,t){for(var o=0,i=n;o<i.length;o++)t=i[o].applyToLocalView(e,t);r=r.insert(e,t)})),r},dc.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},dc.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var o=n.applyLocalMutationsToDocuments(e,t,r),i=vi();return o.forEach((function(e,t){t=t||new Ps(e,ri.forDeletedDoc()),i=i.insert(e,t)})),i}))},dc.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},dc.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new Vo(t)).next((function(e){var t=Ei();return e instanceof As&&(t=t.insert(e.key,e)),t}))},dc.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;jr(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,o=Ei();return this.indexManager.getCollectionParents(e,r).next((function(i){return xi.forEach(i,(function(i){var a=t.asCollectionQueryAtPath(i.child(r));return n.getDocumentsMatchingCollectionQuery(e,a).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},dc.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next((function(r){return n=r,o.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return r=t,o.addMissingBaseDocuments(e,r,n).next((function(e){n=e;for(var t=0,o=r;t<o.length;t++)for(var i=o[t],a=0,s=i.mutations;a<s.length;a++){var u=s[a],c=u.key,l=n.get(c),f=u.applyToLocalView(l,l,i.localWriteTime);n=f instanceof As?n.insert(c,f):n.remove(c)}}))})).next((function(){return n.forEach((function(e,r){t.matches(r)||(n=n.remove(e))})),n}))},dc.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=Ii(),o=0,i=t;o<i.length;o++)for(var a=0,s=i[o].mutations;a<s.length;a++){var u=s[a];u instanceof Ia&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof As&&(c=c.insert(e,t))})),c}))},dc);function dc(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}var yc=(mc.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},mc.prototype.addReference=function(e,t){var n=new gc(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},mc.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},mc.prototype.removeReference=function(e,t){this.removeRef(new gc(e,t))},mc.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},mc.prototype.removeReferencesForId=function(e){var t=this,n=Vo.EMPTY,r=new gc(n,e),o=new gc(n,e+1),i=[];return this.refsByTarget.forEachInRange([r,o],(function(e){t.removeRef(e),i.push(e.key)})),i},mc.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},mc.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},mc.prototype.referencesForId=function(e){var t=Vo.EMPTY,n=new gc(t,e),r=new gc(t,e+1),o=Ii();return this.refsByTarget.forEachInRange([n,r],(function(e){o=o.add(e.key)})),o},mc.prototype.containsKey=function(e){var t=new gc(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},mc);function mc(){this.refsByKey=new pi(gc.compareByKey),this.refsByTarget=new pi(gc.compareByTargetId)}var gc=(vc.compareByKey=function(e,t){return Vo.comparator(e.key,t.key)||vo(e.targetOrBatchId,t.targetOrBatchId)},vc.compareByTargetId=function(e,t){return vo(e.targetOrBatchId,t.targetOrBatchId)||Vo.comparator(e.key,t.key)},vc);function vc(e,t){this.key=e,this.targetOrBatchId=t}var bc="LocalStore",wc=(Ec.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",(function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next((function(o){return r=o,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new pc(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)})).next((function(e){for(var o=[],i=[],a=Ii(),s=0,u=r;s<u.length;s++){var c=u[s];o.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=e;p<d.length;p++){c=d[p],i.push(c.batchId);for(var y=0,m=c.mutations;y<m.length;y++)h=m[y],a=a.add(h.key)}return t.localDocuments.getDocuments(n,a).next((function(e){return{affectedDocuments:e,removedBatchIds:o,addedBatchIds:i}}))}))}))},Ec.prototype.localWrite=function(e){var t=this,n=ti.now(),r=e.reduce((function(e,t){return e.add(t.key)}),Ii());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return t.localDocuments.getDocuments(o,r).next((function(r){for(var i=[],a=0,s=e;a<s.length;a++){var u=s[a],c=u.extractBaseValue(r.get(u.key));null!=c&&i.push(new Ia(u.key,c,c.fieldMask(),ga.exists(!0)))}return t.mutationQueue.addMutationBatch(o,n,i,e).next((function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}}))}))}))},Ec.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):xi.resolve(null)}))}))},Ec.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=e.batch.keys(),o=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,o)})).next((function(){return o.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},Ec.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return jr(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},Ec.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},Ec.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},Ec.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},Ec.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)}))},Ec.prototype.applyRemoteEvent=function(e){var t=this,n=this.remoteDocuments.newChangeBuffer(),r=e.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var i=[];Yr(e.targetChanges,(function(e,n){var a=t.queryDataByTarget[e];if(a){i.push(t.queryCache.removeMatchingKeys(o,n.removedDocuments,e).next((function(){return t.queryCache.addMatchingKeys(o,n.addedDocuments,e)})));var s=n.resumeToken;if(0<s.length){var u=a.withResumeToken(s,r);t.queryDataByTarget[e]=u,Ec.shouldPersistQueryData(a,u,n)&&i.push(t.queryCache.updateQueryData(o,u))}}}));var a=vi(),s=Ii();if(e.documentUpdates.forEach((function(e,t){s=s.add(e)})),i.push(n.getEntries(o,s).next((function(r){e.documentUpdates.forEach((function(s,u){var c=r.get(s);u instanceof Ps&&u.version.isEqual(ri.MIN)?(n.removeEntry(s),a=a.insert(s,u)):null==c||0<u.version.compareTo(c.version)||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(ri.MIN.isEqual(e.snapshotVersion)&&Mr(bc,"Cannot add a document when the remote version is zero"),n.addEntry(u),a=a.insert(s,u)):Rr(bc,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",u.version),e.resolvedLimboDocuments.has(s)&&i.push(t.persistence.referenceDelegate.updateLimboDocument(o,s))}))}))),!r.isEqual(ri.MIN)){var u=t.queryCache.getLastRemoteSnapshotVersion(o).next((function(e){return jr(0<=r.compareTo(e),"Watch stream reverted to previous snapshot?? "+r+" < "+e),t.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,r)}));i.push(u)}return xi.waitFor(i).next((function(){return n.apply(o)})).next((function(){return t.localDocuments.getLocalViewOfDocuments(o,a)}))}))},Ec.shouldPersistQueryData=function(e,t,n){return jr(0<t.resumeToken.length,"Attempted to persist query data with no resume token"),0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size},Ec.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return xi.forEach(e,(function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),xi.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},Ec.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},Ec.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.localDocuments.getDocument(n,e)}))},Ec.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",(function(n){var r;return t.queryCache.getQueryData(n,e).next((function(o){return o?(r=o,xi.resolve()):t.queryCache.allocateTargetId(n).next((function(o){return r=new Uu(e,o,Pu.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)}))})).next((function(){return jr(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r}))}))},Ec.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,(function(r){return n.queryCache.getQueryData(r,e).next((function(o){jr(null!=o,"Tried to release nonexistent query: "+e);var i=o.targetId,a=n.queryDataByTarget[i],s=n.localViewReferences.removeReferencesForId(i);return delete n.queryDataByTarget[i],t?xi.resolve():xi.forEach(s,(function(e){return n.persistence.referenceDelegate.removeReference(r,e)})).next((function(){return n.persistence.referenceDelegate.removeTarget(r,a)}))}))}))},Ec.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",(function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)}))},Ec.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)}))},Ec.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},Ec.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},Ec.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},Ec.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,o=t.batch,i=o.keys(),a=xi.resolve();return i.forEach((function(r){a=a.next((function(){return n.getEntry(e,r)})).next((function(e){var i=e,a=t.docVersions.get(r);jr(null!==a,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(a)<0)&&((i=o.applyToRemoteDocument(r,i,t))?n.addEntry(i):jr(!e,"Mutation batch "+o+" applied to document "+e+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(e,o)}))},Ec.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.queryDataByTarget)}))},Ec.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",(function(n){return t.queryCache.getQueryDataForTarget(n,e).next((function(e){return e?e.query:null}))}))},Ec.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(t){return e.remoteDocuments.getNewDocumentChanges(t)}))},Ec.RESUME_TOKEN_MAX_AGE_MICROS=3e8,Ec);function Ec(e,t){this.persistence=e,this.localViewReferences=new yc,this.queryDataByTarget={},jr(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new pc(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}var Tc=(Sc.prototype.checkEmpty=function(e){return xi.resolve(0===this.mutationQueue.length)},Sc.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,o=this.indexOfExistingBatchId(r,"acknowledged");jr(0===o,"Can only acknowledge the first batch in the mutation queue");var i=this.mutationQueue[o];return jr(r===i.batchId,"Queue ordering failure: expected batch "+r+", got batch "+i.batchId),this.lastStreamToken=n,xi.resolve()},Sc.prototype.getLastStreamToken=function(e){return xi.resolve(this.lastStreamToken)},Sc.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,xi.resolve()},Sc.prototype.addMutationBatch=function(e,t,n,r){jr(0!==r.length,"Mutation batches should not be empty");var o=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&jr(this.mutationQueue[this.mutationQueue.length-1].batchId<o,"Mutation batchIDs must be monotonically increasing order");var i=new Ni(o,t,n,r);this.mutationQueue.push(i);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new gc(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return xi.resolve(i)},Sc.prototype.lookupMutationBatch=function(e,t){return xi.resolve(this.findMutationBatch(t))},Sc.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return jr(null!=n,"Failed to find local mutation batch."),xi.resolve(n.keys())},Sc.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),o=r<0?0:r;return xi.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)},Sc.prototype.getHighestUnacknowledgedBatchId=function(){return xi.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},Sc.prototype.getAllMutationBatches=function(e){return xi.resolve(this.mutationQueue.slice())},Sc.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new gc(t,0),o=new gc(t,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,o],(function(e){jr(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);jr(null!==r,"Batches in the index must exist in the main table"),i.push(r)})),xi.resolve(i)},Sc.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new pi(vo);return t.forEach((function(e){var t=new gc(e,0),o=new gc(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,o],(function(t){jr(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),xi.resolve(this.findMutationBatches(r))},Sc.prototype.getAllMutationBatchesAffectingQuery=function(e,t){jr(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,o=n;Vo.isDocumentKey(o)||(o=o.child(""));var i=new gc(new Vo(o),0),a=new pi(vo);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)}),i),xi.resolve(this.findMutationBatches(a))},Sc.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},Sc.prototype.removeMutationBatch=function(e,t){var n=this;jr(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return xi.forEach(t.mutations,(function(o){var i=new gc(o.key,t.batchId);return r=r.delete(i),n.referenceDelegate.removeMutationReference(e,o.key)})).next((function(){n.batchesByDocumentKey=r}))},Sc.prototype.removeCachedMutationKeys=function(e){},Sc.prototype.containsKey=function(e,t){var n=new gc(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return xi.resolve(t.isEqual(r&&r.key))},Sc.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&jr(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),xi.resolve()},Sc.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return jr(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},Sc.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},Sc.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return jr(n.batchId===e,"If found batch must match"),n},Sc);function Sc(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=Br(),this.batchesByDocumentKey=new pi(gc.compareByKey)}var Cc=(Ic.prototype.getTargetCount=function(e){return xi.resolve(this.targetCount)},Ic.prototype.forEachTarget=function(e,t){return this.queries.forEach((function(e,n){return t(n)})),xi.resolve()},Ic.prototype.getLastRemoteSnapshotVersion=function(e){return xi.resolve(this.lastRemoteSnapshotVersion)},Ic.prototype.getHighestSequenceNumber=function(e){return xi.resolve(this.highestSequenceNumber)},Ic.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,xi.resolve(t)},Ic.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),xi.resolve()},Ic.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},Ic.prototype.addQueryData=function(e,t){return jr(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,xi.resolve()},Ic.prototype.updateQueryData=function(e,t){return jr(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),xi.resolve()},Ic.prototype.removeQueryData=function(e,t){return jr(0<this.targetCount,"Removing a target from an empty cache"),jr(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,xi.resolve()},Ic.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return this.queries.forEach((function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),i.push(r.removeMatchingKeysForTargetId(e,s.targetId)),o++)})),xi.waitFor(i).next((function(){return o}))},Ic.prototype.getQueryCount=function(e){return xi.resolve(this.targetCount)},Ic.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return xi.resolve(n)},Ic.prototype.getQueryDataForTarget=function(e,t){return Fr("Not yet implemented.")},Ic.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.addReference(e,t))})),xi.waitFor(o)},Ic.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.removeReference(e,t))})),xi.waitFor(o)},Ic.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),xi.resolve()},Ic.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return xi.resolve(n)},Ic.prototype.containsKey=function(e,t){return xi.resolve(this.references.containsKey(t))},Ic);function Ic(e){this.persistence=e,this.queries=new js((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=ri.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new yc,this.targetCount=0,this.targetIdGenerator=Wi.forQueryCache()}var _c,kc=(Nc.prototype.addEntry=function(e,t){var n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.sizer(t);return this.docs=this.docs.insert(n,{maybeDocument:t,size:i}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())},Nc.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},Nc.prototype.getEntry=function(e,t){var n=this.docs.get(t);return xi.resolve(n?n.maybeDocument:null)},Nc.prototype.getEntries=function(e,t){var n=this,r=bi();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),xi.resolve(r)},Nc.prototype.getDocumentsMatchingQuery=function(e,t){jr(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Ei(),r=new Vo(t.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var i=o.getNext(),a=i.key,s=i.value.maybeDocument;if(!t.path.isPrefixOf(a.path))break;s instanceof As&&t.matches(s)&&(n=n.insert(s.key,s))}return xi.resolve(n)},Nc.prototype.forEachDocumentKey=function(e,t){return xi.forEach(this.docs,(function(e){return t(e)}))},Nc.prototype.getNewDocumentChanges=function(e){var t=this,n=vi();return this.newDocumentChanges.forEach((function(e){var r=t.docs.get(e),o=r?r.maybeDocument:new Ps(e,ri.forDeletedDoc());n=n.insert(e,o)})),this.newDocumentChanges=Ii(),xi.resolve(n)},Nc.prototype.newChangeBuffer=function(){return new Nc.RemoteDocumentChangeBuffer(this)},Nc.prototype.getSize=function(e){return xi.resolve(this.size)},Nc.RemoteDocumentChangeBuffer=(c(Dc,_c=qs),Dc.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,o){o?n.push(t.documentCache.addEntry(e,o)):t.documentCache.removeEntry(r)})),xi.waitFor(n)},Dc.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},Dc.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},Dc),Nc);function Nc(e,t){this.indexManager=e,this.sizer=t,this.docs=new ii(Vo.comparator),this.newDocumentChanges=Ii(),this.size=0}function Dc(e){var t=_c.call(this)||this;return t.documentCache=e,t}var Ac=(Oc.createLruPersistence=function(e,t,n){return new Oc(e,(function(e){return new Mc(e,new Bu(t),n)}))},Oc.createEagerPersistence=function(e){return new Oc(e,(function(e){return new Pc(e)}))},Oc.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(Oc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),Oc.prototype.getActiveClients=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,[this.clientId]]}))}))},Oc.prototype.setPrimaryStateListener=function(e){return e(!0)},Oc.prototype.setDatabaseDeletedListener=function(){},Oc.prototype.setNetworkEnabled=function(e){},Oc.prototype.getIndexManager=function(){return this.indexManager},Oc.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Tc(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},Oc.prototype.getQueryCache=function(){return this.queryCache},Oc.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},Oc.prototype.runTransaction=function(e,t,n){var r=this;Rr("MemoryPersistence","Starting transaction:",e);var o=new xc(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(o).next((function(e){return r.referenceDelegate.onTransactionCommitted(o).next((function(){return e}))})).toPromise()},Oc.prototype.mutationQueuesContainKey=function(e,t){return xi.or(function(e){var t=[];return $r(e,(function(e,n){return t.push(n)})),t}(this.mutationQueues).map((function(n){return function(){return n.containsKey(e,t)}})))},Oc);function Oc(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new Ao(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Cc(this),this.indexManager=new Js,this.remoteDocumentCache=new kc(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}var xc=function(e){this.currentSequenceNumber=e},Pc=(Object.defineProperty(Rc.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw Fr("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),Rc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Rc.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),xi.resolve()},Rc.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),xi.resolve()},Rc.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),xi.resolve()},Rc.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeQueryData(e,t)}))},Rc.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},Rc.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xi.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},Rc.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},Rc.prototype.documentSize=function(e){return 0},Rc.prototype.isReferenced=function(e,t){var n=this;return xi.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return xi.resolve(n.inMemoryPins.containsKey(t))}])},Rc);function Rc(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}var Mc=(Lc.prototype.onTransactionStarted=function(){},Lc.prototype.onTransactionCommitted=function(e){return xi.resolve()},Lc.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},Lc.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},Lc.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},Lc.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return xi.forEach(this.orphanedSequenceNumbers,(function(r,o){return n.isPinned(e,r,o).next((function(e){return e?xi.resolve():t(o)}))}))},Lc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Lc.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},Lc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,o=this.persistence.getRemoteDocumentCache(),i=o.newChangeBuffer();return o.forEachDocumentKey(e,(function(o){return n.isPinned(e,o,t).next((function(e){e||(r++,i.removeEntry(o))}))})).next((function(){return i.apply(e)})).next((function(){return r}))},Lc.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),xi.resolve()},Lc.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(e,n)},Lc.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),xi.resolve()},Lc.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),xi.resolve()},Lc.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),xi.resolve()},Lc.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Fr("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},Lc.prototype.isPinned=function(e,t,n){var r=this;return xi.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return xi.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return xi.resolve(void 0!==e&&n<e)}])},Lc.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},Lc);function Lc(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new js((function(e){return Xo(e.path)})),this.garbageCollector=new Xu(this,n)}var Fc=Number,jc=Fc.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Uc=Fc.MAX_SAFE_INTEGER||Math.pow(2,53)-1,qc=Fc.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Bc(e){return null==e}function Vc(e){return qc(e)&&e<=Uc&&jc<=e}var zc=(Wc.prototype.reset=function(){this.currentBaseMs=0},Wc.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},Wc.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),o=Math.max(0,n-r);0<this.currentBaseMs&&Rr("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,o,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},Wc.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},Wc.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},Wc);function Wc(e,t,n,r,o){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===o&&(o=6e4),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}var Qc,Kc,Gc="PersistentStream";(Kc=Qc=Qc||{})[Kc.Initial=0]="Initial",Kc[Kc.Starting=1]="Starting",Kc[Kc.Open=2]="Open",Kc[Kc.Error=3]="Error",Kc[Kc.Backoff=4]="Backoff";var Hc=(Yc.prototype.isStarted=function(){return this.state===Qc.Starting||this.state===Qc.Open||this.state===Qc.Backoff},Yc.prototype.isOpen=function(){return this.state===Qc.Open},Yc.prototype.start=function(){this.state!==Qc.Error?(jr(this.state===Qc.Initial,"Already started"),this.auth()):this.performBackoff()},Yc.prototype.stop=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(Qc.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},Yc.prototype.inhibitBackoff=function(){jr(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Qc.Initial,this.backoff.reset()},Yc.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},Yc.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},Yc.prototype.handleIdleCloseTimer=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return this.isOpen()?[2,this.close(Qc.Initial)]:[2]}))}))},Yc.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},Yc.prototype.close=function(e,t){return l(this,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return jr(this.isStarted(),"Only started streams should be closed."),jr(e===Qc.Error||Bc(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==Qc.Error?this.backoff.reset():t&&t.code===zr.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===zr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},Yc.prototype.tearDown=function(){},Yc.prototype.auth=function(){var e=this;jr(this.state===Qc.Initial,"Must be in initial state to auth"),this.state=Qc.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new Wr(zr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},Yc.prototype.startStream=function(e){var t=this;jr(this.state===Qc.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return jr(t.state===Qc.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=Qc.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},Yc.prototype.performBackoff=function(){var e=this;jr(this.state===Qc.Error,"Should only perform backoff when in Error state"),this.state=Qc.Backoff,this.backoff.backoffAndRun((function(){return l(e,void 0,void 0,(function(){return f(this,(function(e){return jr(this.state===Qc.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Qc.Initial,this.start(),jr(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},Yc.prototype.handleStreamClose=function(e){return jr(this.isStarted(),"Can't handle server close on non-started stream"),Rr(Gc,"close with error: "+e),this.stream=null,this.close(Qc.Error,e)},Yc.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(Rr(Gc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},Yc);function Yc(e,t,n,r,o,i){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.listener=i,this.state=Qc.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new zc(e,t)}var $c,Xc=(c(Jc,$c=Hc),Jc.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},Jc.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},Jc.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},Jc.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},Jc);function Jc(e,t,n,r,o){var i=$c.call(this,e,Wo.ListenStreamConnectionBackoff,Wo.ListenStreamIdle,t,n,o)||this;return i.serializer=r,i}var Zc,el=(c(tl,Zc=Hc),Object.defineProperty(tl.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),tl.prototype.start=function(){this.handshakeComplete_=!1,Zc.prototype.start.call(this)},tl.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},tl.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},tl.prototype.onMessage=function(e){if(jr(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return jr(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},tl.prototype.writeHandshake=function(){jr(this.isOpen(),"Writing handshake requires an opened stream"),jr(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},tl.prototype.writeMutations=function(e){var t=this;jr(this.isOpen(),"Writing mutations requires an opened stream"),jr(this.handshakeComplete_,"Handshake must be complete before writing mutations"),jr(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},tl);function tl(e,t,n,r,o){var i=Zc.call(this,e,Wo.WriteStreamConnectionBackoff,Wo.WriteStreamIdle,t,n,o)||this;return i.serializer=r,i.handshakeComplete_=!1,i.lastStreamToken=Br(),i}var nl=(rl.prototype.newPersistentWriteStream=function(e){return new el(this.queue,this.connection,this.credentials,this.serializer,e)},rl.prototype.newPersistentWatchStream=function(e){return new Xc(this.queue,this.connection,this.credentials,this.serializer,e)},rl.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},rl.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=vi();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var o=[];return e.forEach((function(e){var t=r.get(e);jr(!!t,"Missing entity in write response for "+e),o.push(t)})),o}))},rl.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===zr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},rl.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===zr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},rl);function rl(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}var ol,il,al,sl,ul=(cl.prototype.lookup=function(e){return l(this,void 0,void 0,(function(){var t,n=this;return f(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Wr(zr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof Ps||e instanceof As?n.recordVersion(e):Fr("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},cl.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},cl.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e)},cl.prototype.delete=function(e){this.write([new Ma(e,this.precondition(e))]),this.writtenDocs.add(e)},cl.prototype.commit=function(){return l(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),!e.isEmpty())throw new Wr(zr.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}}))}))},cl.prototype.recordVersion=function(e){var t;if(e instanceof As)t=e.version;else{if(!(e instanceof Ps))throw Fr("Document in a transaction was a "+e.constructor.name);t=ri.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new Wr(zr.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},cl.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?ga.updateTime(t):ga.NONE},cl.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(this.writtenDocs.has(e)||!t)return ga.exists(!0);if(t.isEqual(ri.forDeletedDoc()))throw new Wr(zr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ga.updateTime(t)},cl.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},cl.prototype.ensureCommitNotCalled=function(){jr(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},cl);function cl(e){this.datastore=e,this.readVersions=Si(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}(il=ol=ol||{})[il.Unknown=0]="Unknown",il[il.Online=1]="Online",il[il.Offline=2]="Offline",(sl=al=al||{})[sl.RemoteStore=0]="RemoteStore",sl[sl.SharedClientState=1]="SharedClientState";var ll,fl,hl=(pl.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(ol.Unknown),jr(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Wo.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,jr(e.state===ol.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(ol.Offline),Promise.resolve()})))},pl.prototype.handleWatchStreamFailure=function(e){this.state===ol.Online?(this.setAndBroadcast(ol.Unknown),jr(0===this.watchStreamFailures,"watchStreamFailures must be 0"),jr(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(ol.Offline)))},pl.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===ol.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},pl.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},pl.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(Mr(t),this.shouldWarnClientIsOffline=!1):Rr("OnlineStateTracker",t)},pl.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},pl);function pl(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=ol.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}function dl(e){switch(e){case zr.OK:return Fr("Treated status OK as error");case zr.CANCELLED:case zr.UNKNOWN:case zr.DEADLINE_EXCEEDED:case zr.RESOURCE_EXHAUSTED:case zr.INTERNAL:case zr.UNAVAILABLE:case zr.UNAUTHENTICATED:return!1;case zr.INVALID_ARGUMENT:case zr.NOT_FOUND:case zr.ALREADY_EXISTS:case zr.PERMISSION_DENIED:case zr.FAILED_PRECONDITION:case zr.ABORTED:case zr.OUT_OF_RANGE:case zr.UNIMPLEMENTED:case zr.DATA_LOSS:return!0;default:return Fr("Unknown status code: "+e)}}function yl(e){if(void 0===e)return Mr("GRPC error has no .code"),zr.UNKNOWN;switch(e){case ll.OK:return zr.OK;case ll.CANCELLED:return zr.CANCELLED;case ll.UNKNOWN:return zr.UNKNOWN;case ll.DEADLINE_EXCEEDED:return zr.DEADLINE_EXCEEDED;case ll.RESOURCE_EXHAUSTED:return zr.RESOURCE_EXHAUSTED;case ll.INTERNAL:return zr.INTERNAL;case ll.UNAVAILABLE:return zr.UNAVAILABLE;case ll.UNAUTHENTICATED:return zr.UNAUTHENTICATED;case ll.INVALID_ARGUMENT:return zr.INVALID_ARGUMENT;case ll.NOT_FOUND:return zr.NOT_FOUND;case ll.ALREADY_EXISTS:return zr.ALREADY_EXISTS;case ll.PERMISSION_DENIED:return zr.PERMISSION_DENIED;case ll.FAILED_PRECONDITION:return zr.FAILED_PRECONDITION;case ll.ABORTED:return zr.ABORTED;case ll.OUT_OF_RANGE:return zr.OUT_OF_RANGE;case ll.UNIMPLEMENTED:return zr.UNIMPLEMENTED;case ll.DATA_LOSS:return zr.DATA_LOSS;default:return Fr("Unknown status code: "+e)}}(fl=ll=ll||{})[fl.OK=0]="OK",fl[fl.CANCELLED=1]="CANCELLED",fl[fl.UNKNOWN=2]="UNKNOWN",fl[fl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fl[fl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fl[fl.NOT_FOUND=5]="NOT_FOUND",fl[fl.ALREADY_EXISTS=6]="ALREADY_EXISTS",fl[fl.PERMISSION_DENIED=7]="PERMISSION_DENIED",fl[fl.UNAUTHENTICATED=16]="UNAUTHENTICATED",fl[fl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fl[fl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fl[fl.ABORTED=10]="ABORTED",fl[fl.OUT_OF_RANGE=11]="OUT_OF_RANGE",fl[fl.UNIMPLEMENTED=12]="UNIMPLEMENTED",fl[fl.INTERNAL=13]="INTERNAL",fl[fl.UNAVAILABLE=14]="UNAVAILABLE",fl[fl.DATA_LOSS=15]="DATA_LOSS";var ml,gl,vl,bl,wl=(El.emptySet=function(e){return new El(e.comparator)},El.prototype.has=function(e){return null!=this.keyedMap.get(e)},El.prototype.get=function(e){return this.keyedMap.get(e)},El.prototype.first=function(){return this.sortedSet.minKey()},El.prototype.last=function(){return this.sortedSet.maxKey()},El.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},El.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(El.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),El.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},El.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},El.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},El.prototype.isEqual=function(e){if(!(e instanceof El))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0},El.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},El.prototype.copy=function(e,t){var n=new El;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},El);function El(e){this.comparator=e?function(t,n){return e(t,n)||Vo.comparator(t.key,n.key)}:function(e,t){return Vo.comparator(e.key,t.key)},this.keyedMap=Ei(),this.sortedSet=new ii(this.comparator)}(gl=ml=ml||{})[gl.Added=0]="Added",gl[gl.Removed=1]="Removed",gl[gl.Modified=2]="Modified",gl[gl.Metadata=3]="Metadata",(bl=vl=vl||{})[bl.Local=0]="Local",bl[bl.Synced=1]="Synced";var Tl=(Sl.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==ml.Added&&n.type===ml.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===ml.Metadata&&n.type!==ml.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===ml.Modified&&n.type===ml.Modified?this.changeMap=this.changeMap.insert(t,{type:ml.Modified,doc:e.doc}):e.type===ml.Modified&&n.type===ml.Added?this.changeMap=this.changeMap.insert(t,{type:ml.Added,doc:e.doc}):e.type===ml.Removed&&n.type===ml.Added?this.changeMap=this.changeMap.remove(t):e.type===ml.Removed&&n.type===ml.Modified?this.changeMap=this.changeMap.insert(t,{type:ml.Removed,doc:n.doc}):e.type===ml.Added&&n.type===ml.Removed?this.changeMap=this.changeMap.insert(t,{type:ml.Modified,doc:e.doc}):Fr("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},Sl.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},Sl);function Sl(){this.changeMap=new ii(Vo.comparator)}var Cl=(Il.fromInitialDocuments=function(e,t,n,r){var o=[];return t.forEach((function(e){o.push({type:ml.Added,doc:e})})),new Il(e,t,wl.emptySet(t),o,n,r,!0,!1)},Object.defineProperty(Il.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),Il.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},Il);function Il(e,t,n,r,o,i,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=s}var _l=(kl.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n,r=((n={})[e]=Nl.createSynthesizedTargetChangeForCurrentChange(e,t),n);return new kl(ri.MIN,r,ki(),vi(),Ii())},kl);function kl(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}var Nl=(Dl.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new Dl(Br(),t,Ii(),Ii(),Ii())},Dl);function Dl(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}var Al,Ol,xl=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},Pl=function(e,t){this.targetId=e,this.existenceFilter=t};(Ol=Al=Al||{})[Ol.NoChange=0]="NoChange",Ol[Ol.Added=1]="Added",Ol[Ol.Removed=2]="Removed",Ol[Ol.Current=3]="Current",Ol[Ol.Reset=4]="Reset";var Rl=function(e,t,n,r){void 0===n&&(n=Br()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ml=(Object.defineProperty(Ll.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(Ll.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(Ll.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(Ll.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),Ll.prototype.updateResumeToken=function(e){0<e.length&&(this._hasPendingChanges=!0,this._resumeToken=e)},Ll.prototype.toTargetChange=function(){var e=Ii(),t=Ii(),n=Ii();return this.documentChanges.forEach((function(r,o){switch(o){case ml.Added:e=e.add(r);break;case ml.Modified:t=t.add(r);break;case ml.Removed:n=n.add(r);break;default:Fr("Encountered invalid change type: "+o)}})),new Nl(this._resumeToken,this._current,e,t,n)},Ll.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=ql()},Ll.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},Ll.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},Ll.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},Ll.prototype.recordTargetResponse=function(){this.pendingResponses-=1},Ll.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},Ll);function Ll(){this.pendingResponses=0,this.documentChanges=ql(),this._resumeToken=Br(),this._current=!1,this._hasPendingChanges=!0}var Fl=(jl.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof As?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof Ps&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var o=0,i=e.removedTargetIds;o<i.length;o++)r=i[o],this.removeDocumentFromTarget(r,e.key,e.newDoc)},jl.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case Al.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Al.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Al.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),jr(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Al.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Al.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:Fr("Unknown target watch change state: "+e.state)}}))},jl.prototype.forEachTarget=function(e,t){0<e.targetIds.length?e.targetIds.forEach(t):Yr(this.targetStates,t)},jl.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var o=r.query;if(o.isDocumentQuery())if(0===n){var i=new Vo(o.path);this.removeDocumentFromTarget(t,i,new Ps(i,ri.forDeletedDoc()))}else jr(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},jl.prototype.createRemoteEvent=function(e){var t=this,n={};Yr(this.targetStates,(function(r,o){var i=t.queryDataForActiveTarget(r);if(i){if(o.current&&i.query.isDocumentQuery()){var a=new Vo(i.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new Ps(a,e))}o.hasPendingChanges&&(n[r]=o.toTargetChange(),o.clearPendingChanges())}}));var r=Ii();this.pendingDocumentTargetMapping.forEach((function(e,n){var o=!0;n.forEachWhile((function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Pu.LimboResolution||(o=!1)})),o&&(r=r.add(e))}));var o=new _l(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=vi(),this.pendingDocumentTargetMapping=Ul(),this.pendingTargetResets=new pi(vo),o},jl.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?ml.Modified:ml.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},jl.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,ml.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},jl.prototype.removeTarget=function(e){delete this.targetStates[e]},jl.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},jl.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},jl.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Ml),this.targetStates[e]},jl.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new pi(vo),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},jl.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||Rr("WatchChangeAggregator","Detected inactive target",e),t},jl.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},jl.prototype.resetTarget=function(e){var t=this;jr(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Ml,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},jl.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},jl);function jl(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=vi(),this.pendingDocumentTargetMapping=Ul(),this.pendingTargetResets=new pi(vo)}function Ul(){return new ii(Vo.comparator)}function ql(){return new ii(Vo.comparator)}var Bl="RemoteStore",Vl=(zl.prototype.start=function(){return this.enableNetwork()},zl.prototype.enableNetwork=function(){return l(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(ol.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},zl.prototype.disableNetwork=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(ol.Offline),[2]}}))}))},zl.prototype.disableNetworkInternal=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),0<this.writePipeline.length&&(Rr(Bl,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},zl.prototype.shutdown=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return Rr(Bl,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(ol.Unknown),[2]}}))}))},zl.prototype.listen=function(e){jr(!Gr(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},zl.prototype.unlisten=function(e){jr(Gr(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),Xr(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(ol.Unknown))},zl.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},zl.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},zl.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},zl.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},zl.prototype.startWatchStream=function(){jr(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Fl(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},zl.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!Xr(this.listenTargets)},zl.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},zl.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},zl.prototype.onWatchStreamOpen=function(){return l(this,void 0,void 0,(function(){var e=this;return f(this,(function(t){return Yr(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},zl.prototype.onWatchStreamClose=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){return void 0===e&&jr(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(ol.Unknown),[2]}))}))},zl.prototype.onWatchStreamChange=function(e,t){return l(this,void 0,void 0,(function(){var n;return f(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(ol.Online),e instanceof Rl&&e.state===Al.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof xl?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Pl?this.watchChangeAggregator.handleExistenceFilter(e):(jr(e instanceof Rl,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(ri.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),0<=t.compareTo(n)?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},zl.prototype.raiseWatchSnapshot=function(e){var t=this;jr(!e.isEqual(ri.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return Yr(n.targetChanges,(function(n,r){if(0<r.resumeToken.length){var o=t.listenTargets[n];o&&(t.listenTargets[n]=o.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(Br(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new Uu(n.query,e,Pu.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},zl.prototype.handleTargetError=function(e){var t=this;jr(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return l(t,void 0,void 0,(function(){return f(this,(function(t){return Gr(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},zl.prototype.fillWritePipeline=function(){return l(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},zl.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},zl.prototype.outstandingWrites=function(){return this.writePipeline.length},zl.prototype.addToWritePipeline=function(e){jr(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},zl.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},zl.prototype.startWriteStream=function(){jr(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},zl.prototype.onWriteStreamOpen=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},zl.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}})).catch(sc)},zl.prototype.onMutationResult=function(e,t){var n=this;jr(0<this.writePipeline.length,"Got result for empty write pipeline");var r=this.writePipeline.shift(),o=Ai.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then((function(){return n.fillWritePipeline()}))},zl.prototype.onWriteStreamClose=function(e){return l(this,void 0,void 0,(function(){var t=this;return f(this,(function(n){return void 0===e&&jr(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]:[2]}))}))},zl.prototype.handleHandshakeError=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){return dl(e.code)?(Rr(Bl,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=Br(),[2,this.localStore.setLastStreamToken(Br()).catch(sc)]):[2]}))}))},zl.prototype.handleWriteError=function(e){return l(this,void 0,void 0,(function(){var t,n=this;return f(this,(function(r){return function(e){return dl(e)&&e!==zr.ABORTED}(e.code)?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2]}))}))},zl.prototype.createTransaction=function(){return new ul(this.datastore)},zl.prototype.restartNetwork=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(ol.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},zl.prototype.handleCredentialChange=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(Rr(Bl,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},zl.prototype.applyPrimaryState=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return(this.isPrimary=e)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(ol.Unknown),t.label=4;case 4:return[2]}}))}))},zl);function zl(e,t,n,r,o){var i=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=o,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return l(i,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(Rr(Bl,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new hl(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}var Wl=(Object.defineProperty(Ql.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(Ql.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),Ql.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},Ql.prototype._compareTo=function(e){return vo(this._lat,e._lat)||vo(this._long,e._long)},Ql);function Ql(e,t){if(Zr("GeoPoint",arguments,2),no("GeoPoint","number",1,e),no("GeoPoint","number",2,t),!isFinite(e)||e<-90||90<e)throw new Wr(zr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new Wr(zr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}var Kl=(Gl.atPath=function(e){return new Gl(e)},Object.defineProperty(Gl.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[Ef]:this.memoizedOrderBy=[new bf(e),Ef];else{jr(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),r=0,o=this.explicitOrderBy;r<o.length;r++){var i=o[r];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0)}if(!n){var a=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:yf.ASCENDING;this.memoizedOrderBy.push(a===yf.ASCENDING?Ef:Tf)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),Gl.prototype.addFilter=function(e){jr(null==this.getInequalityFilterField()||!(e instanceof Xl)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),jr(!this.isDocumentQuery(),"No filtering allowed for document query");var t=this.filters.concat([e]);return new Gl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),t,this.limit,this.startAt,this.endAt)},Gl.prototype.addOrderBy=function(e){jr(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var t=this.explicitOrderBy.concat([e]);return new Gl(this.path,this.collectionGroup,t,this.filters.slice(),this.limit,this.startAt,this.endAt)},Gl.prototype.withLimit=function(e){return new Gl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},Gl.prototype.withStartAt=function(e){return new Gl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},Gl.prototype.withEndAt=function(e){return new Gl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},Gl.prototype.asCollectionQueryAtPath=function(e){return new Gl(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},Gl.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++)e+=o[r].canonicalId(),e+=",";Bc(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},Gl.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(e+=", filters: ["+this.filters.join(", ")+"]"),Bc(this.limit)||(e+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},Gl.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},Gl.prototype.docComparator=function(e,t){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var i=o[r],a=i.compare(e,t);if(0!==a)return a;n=n||i.field.isKeyField()}return jr(n,"orderBy used that doesn't compare on key field"),0},Gl.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},Gl.prototype.hasLimit=function(){return!Bc(this.limit)},Gl.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},Gl.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Xl&&n.isInequality())return n.field}return null},Gl.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof Xl&&0<=e.indexOf(r.op))return r.op}return null},Gl.prototype.isDocumentQuery=function(){return Vo.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},Gl.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},Gl.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):Vo.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},Gl.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},Gl.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},Gl.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},Gl.prototype.assertValidBound=function(e){jr(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},Gl);function Gl(e,t,n,r,o,i,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}var Hl=(Yl.fromString=function(e){switch(e){case"<":return Yl.LESS_THAN;case"<=":return Yl.LESS_THAN_OR_EQUAL;case"==":return Yl.EQUAL;case">=":return Yl.GREATER_THAN_OR_EQUAL;case">":return Yl.GREATER_THAN;case"array-contains":return Yl.ARRAY_CONTAINS;case"in":return Yl.IN;case"array-contains-any":return Yl.ARRAY_CONTAINS_ANY;default:return Fr("Unknown FieldFilter operator: "+e)}},Yl.prototype.toString=function(){return this.name},Yl.prototype.isEqual=function(e){return this.name===e.name},Yl.LESS_THAN=new Yl("<"),Yl.LESS_THAN_OR_EQUAL=new Yl("<="),Yl.EQUAL=new Yl("=="),Yl.GREATER_THAN=new Yl(">"),Yl.GREATER_THAN_OR_EQUAL=new Yl(">="),Yl.ARRAY_CONTAINS=new Yl("array-contains"),Yl.IN=new Yl("in"),Yl.ARRAY_CONTAINS_ANY=new Yl("array-contains-any"),Yl);function Yl(e){this.name=e}var $l,Xl=(c(Jl,$l=function(){}),Jl.create=function(e,t,n){if(e.isKeyField())return t===Hl.IN?(jr(n instanceof Is,"Comparing on key with IN, but filter value not an ArrayValue"),jr(n.internalValue.every((function(e){return e instanceof ms})),"Comparing on key with IN, but an array value was not a RefValue"),new rf(e,n)):(jr(n instanceof ms,"Comparing on key, but filter value not a RefValue"),jr(t!==Hl.ARRAY_CONTAINS&&t!==Hl.ARRAY_CONTAINS_ANY,"'"+t.toString()+"' queries don't make sense on document keys."),new ef(e,t,n));if(n.isEqual(Va.INSTANCE)){if(t!==Hl.EQUAL)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new Jl(e,t,n)}if(n.isEqual(ts.NAN)){if(t!==Hl.EQUAL)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new Jl(e,t,n)}return t===Hl.ARRAY_CONTAINS?new sf(e,n):t===Hl.IN?(jr(n instanceof Is,"IN filter has invalid value: "+n.toString()),new lf(e,n)):t===Hl.ARRAY_CONTAINS_ANY?(jr(n instanceof Is,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new pf(e,n)):new Jl(e,t,n)},Jl.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},Jl.prototype.matchesComparison=function(e){switch(this.op){case Hl.LESS_THAN:return e<0;case Hl.LESS_THAN_OR_EQUAL:return e<=0;case Hl.EQUAL:return 0===e;case Hl.GREATER_THAN:return 0<e;case Hl.GREATER_THAN_OR_EQUAL:return 0<=e;default:return Fr("Unknown FieldFilter operator: "+this.op)}},Jl.prototype.isInequality=function(){return 0<=[Hl.LESS_THAN,Hl.LESS_THAN_OR_EQUAL,Hl.GREATER_THAN,Hl.GREATER_THAN_OR_EQUAL].indexOf(this.op)},Jl.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},Jl.prototype.isEqual=function(e){return e instanceof Jl&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},Jl.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},Jl);function Jl(e,t,n){var r=$l.call(this)||this;return r.field=e,r.op=t,r.value=n,r}var Zl,ef=(c(tf,Zl=Xl),tf.prototype.matches=function(e){var t=this.value,n=Vo.comparator(e.key,t.key);return this.matchesComparison(n)},tf);function tf(){return null!==Zl&&Zl.apply(this,arguments)||this}var nf,rf=(c(of,nf=Xl),of.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},of);function of(e,t){var n=nf.call(this,e,Hl.IN,t)||this;return n.value=t,n}var af,sf=(c(uf,af=Xl),uf.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Is&&t.contains(this.value)},uf);function uf(e,t){return af.call(this,e,Hl.ARRAY_CONTAINS,t)||this}var cf,lf=(c(ff,cf=Xl),ff.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},ff);function ff(e,t){var n=cf.call(this,e,Hl.IN,t)||this;return n.value=t,n}var hf,pf=(c(df,hf=Xl),df.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Is&&n.internalValue.some((function(e){return t.value.contains(e)}))},df);function df(e,t){var n=hf.call(this,e,Hl.ARRAY_CONTAINS_ANY,t)||this;return n.value=t,n}var yf=(mf.prototype.toString=function(){return this.name},mf.ASCENDING=new mf("asc"),mf.DESCENDING=new mf("desc"),mf);function mf(e){this.name=e}var gf=(vf.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},vf.prototype.sortsBeforeDocument=function(e,t){jr(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var o=e[r],i=this.position[r];if(o.field.isKeyField())jr(i instanceof ms,"Bound has a non-key value where the key path is being used."),n=Vo.comparator(i.key,t.key);else{var a=t.field(o.field);jr(null!==a,"Field should exist since document matched the orderBy already."),n=i.compareTo(a)}if(o.dir===yf.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},vf.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},vf);function vf(e,t){this.position=e,this.before=t}var bf=(wf.prototype.compare=function(e,t){var n=this.isKeyOrderBy?As.compareByKey(e,t):As.compareByField(this.field,e,t);switch(this.dir){case yf.ASCENDING:return n;case yf.DESCENDING:return-1*n;default:return Fr("Unknown direction: "+this.dir)}},wf.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},wf.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},wf.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},wf);function wf(e,t){this.field=e,void 0===t&&(t=yf.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}var Ef=new bf(qo.keyField(),yf.ASCENDING),Tf=new bf(qo.keyField(),yf.DESCENDING),Sf=(Cf.prototype.applyToLocalView=function(e,t){return new ls(t,e)},Cf.prototype.applyToRemoteDocument=function(e,t){return t},Cf.prototype.computeBaseValue=function(e){return null},Cf.prototype.isEqual=function(e){return e instanceof Cf},Cf.instance=new Cf,Cf);function Cf(){}var If=(_f.prototype.applyToLocalView=function(e,t){return this.apply(e)},_f.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},_f.prototype.apply=function(e){for(var t=Of(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new Is(t)},_f.prototype.computeBaseValue=function(e){return null},_f.prototype.isEqual=function(e){return e instanceof _f&&bo(e.elements,this.elements)},_f);function _f(e){this.elements=e}var kf=(Nf.prototype.applyToLocalView=function(e,t){return this.apply(e)},Nf.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},Nf.prototype.apply=function(e){for(var t=Of(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new Is(t)},Nf.prototype.computeBaseValue=function(e){return null},Nf.prototype.isEqual=function(e){return e instanceof Nf&&bo(e.elements,this.elements)},Nf);function Nf(e){this.elements=e}var Df=(Af.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof Ja&&this.operand instanceof Ja){var r=n.internalValue+this.operand.internalValue;return new Ja(r)}return r=n.internalValue+this.operand.internalValue,new ts(r)},Af.prototype.applyToRemoteDocument=function(e,t){return jr(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},Af.prototype.computeBaseValue=function(e){return e instanceof Ha?e:new Ja(0)},Af.prototype.isEqual=function(e){return e instanceof Af&&this.operand.isEqual(e.operand)},Af);function Af(e){this.operand=e}function Of(e){return e instanceof Is?e.internalValue.slice():[]}var xf=(Pf.prototype.isEqual=function(e){return e&&e.count===this.count},Pf);function Pf(e){this.count=e}var Rf,Mf,Lf=((Rf={})[yf.ASCENDING.name]="ASCENDING",Rf[yf.DESCENDING.name]="DESCENDING",Rf),Ff=((Mf={})[Hl.LESS_THAN.name]="LESS_THAN",Mf[Hl.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Mf[Hl.GREATER_THAN.name]="GREATER_THAN",Mf[Hl.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Mf[Hl.EQUAL.name]="EQUAL",Mf[Hl.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Mf[Hl.IN.name]="IN",Mf[Hl.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Mf),jf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uf(e,t){jr(!Bc(e),t+" is missing")}function qf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):Fr("can't parse "+e)}var Bf=(Vf.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},Vf.prototype.unsafeCastProtoByteString=function(e){return e},Vf.prototype.fromRpcStatus=function(e){var t=void 0===e.code?zr.UNKNOWN:yl(e.code);return new Wr(t,e.message||"")},Vf.prototype.toInt32Value=function(e){return Bc(e)?void 0:{value:e}},Vf.prototype.fromInt32Value=function(e){var t;return Bc(t="object"==typeof e?e.value:e)?null:t},Vf.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},Vf.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);jr(!!e,"Cannot deserialize null or undefined timestamp.");var t=qf(e.seconds||"0"),n=e.nanos||0;return new ti(t,n)},Vf.prototype.fromIso8601String=function(e){var t=0,n=jf.exec(e);if(jr(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e),i=Math.floor(o.getTime()/1e3);return new ti(i,t)},Vf.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},Vf.prototype.fromBlob=function(e){return"string"==typeof e?(jr(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),So.fromBase64String(e)):(jr(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),So.fromUint8Array(e))},Vf.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},Vf.prototype.fromVersion=function(e){return jr(!!e,"Trying to deserialize version that isn't set"),ri.fromTimestamp(this.fromTimestamp(e))},Vf.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},Vf.prototype.fromResourceName=function(e){var t=Lo.fromString(e);return jr(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},Vf.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},Vf.prototype.fromName=function(e){var t=this.fromResourceName(e);return jr(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),jr(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new Vo(this.extractLocalPathFromResourceName(t))},Vf.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},Vf.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Lo.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(Vf.prototype,"encodedDatabaseId",{get:function(){return new Lo(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),Vf.prototype.fullyQualifiedPrefixPath=function(e){return new Lo(["projects",e.projectId,"databases",e.database])},Vf.prototype.extractLocalPathFromResourceName=function(e){return jr(4<e.length&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},Vf.prototype.isValidResourceName=function(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)},Vf.prototype.toValue=function(e){if(e instanceof Va)return{nullValue:"NULL_VALUE"};if(e instanceof Qa)return{booleanValue:e.value()};if(e instanceof Ja)return{integerValue:""+e.value()};if(e instanceof ts){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof os?{stringValue:e.value()}:e instanceof Ts?{mapValue:this.toMapValue(e)}:e instanceof Is?{arrayValue:this.toArrayValue(e)}:e instanceof ss?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof bs?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof ps?{bytesValue:this.toBytes(e.value())}:e instanceof ms?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:Fr("Unknown FieldValue "+JSON.stringify(e))},Vf.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return Va.INSTANCE;if("booleanValue"in e)return Qa.of(e.booleanValue);if("integerValue"in e)return new Ja(qf(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return ts.NAN;if("Infinity"===e.doubleValue)return ts.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return ts.NEGATIVE_INFINITY}return new ts(e.doubleValue)}if("stringValue"in e)return new os(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){Uf(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Is(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return Uf(e.timestampValue,"timestampValue"),new ss(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){Uf(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,o=e.geoPointValue.longitude||0;return new bs(new Wl(r,o))}if("bytesValue"in e){Uf(e.bytesValue,"bytesValue");var i=this.fromBlob(e.bytesValue);return new ps(i)}if("referenceValue"in e){Uf(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new No(a.get(1),a.get(3)),u=new Vo(this.extractLocalPathFromResourceName(a));return new ms(s,u)}return Fr("Unknown Value proto "+JSON.stringify(e))},Vf.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},Vf.prototype.toDocument=function(e){return jr(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},Vf.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),o=this.fromVersion(e.updateTime);return new As(r,o,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},Vf.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},Vf.prototype.fromFields=function(e){var t=this,n=e,r=Ts.EMPTY;return $r(n,(function(e,n){r=r.set(new qo([e]),t.fromValue(n))})),r},Vf.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},Vf.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},Vf.prototype.fromFound=function(e){var t=this;jr(!!e.found,"Tried to deserialize a found document from a missing document."),Uf(e.found.name,"doc.found.name"),Uf(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new As(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},Vf.prototype.fromMissing=function(e){jr(!!e.missing,"Tried to deserialize a missing document from a found document."),jr(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Ps(t,n)},Vf.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):Fr("invalid batch get response: "+JSON.stringify(e))},Vf.prototype.toWatchTargetChangeState=function(e){switch(e){case Al.Added:return"ADD";case Al.Current:return"CURRENT";case Al.NoChange:return"NO_CHANGE";case Al.Removed:return"REMOVE";case Al.Reset:return"RESET";default:return Fr("Unknown WatchTargetChangeState: "+e)}},Vf.prototype.toTestWatchChange=function(e){if(e instanceof Pl)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof xl){if(e.newDoc instanceof As){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Ps)return t=e.newDoc,{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Rl){var n=void 0;return e.cause&&(n={code:function(e){if(void 0===e)return ll.OK;switch(e){case zr.OK:return ll.OK;case zr.CANCELLED:return ll.CANCELLED;case zr.UNKNOWN:return ll.UNKNOWN;case zr.DEADLINE_EXCEEDED:return ll.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return ll.RESOURCE_EXHAUSTED;case zr.INTERNAL:return ll.INTERNAL;case zr.UNAVAILABLE:return ll.UNAVAILABLE;case zr.UNAUTHENTICATED:return ll.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return ll.INVALID_ARGUMENT;case zr.NOT_FOUND:return ll.NOT_FOUND;case zr.ALREADY_EXISTS:return ll.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return ll.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return ll.FAILED_PRECONDITION;case zr.ABORTED:return ll.ABORTED;case zr.OUT_OF_RANGE:return ll.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return ll.UNIMPLEMENTED;case zr.DATA_LOSS:return ll.DATA_LOSS;default:return Fr("Unknown status code: "+e)}}(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return Fr("Unrecognized watch change: "+JSON.stringify(e))},Vf.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){Uf(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Rl(r,o,i,s||null)}else if("documentChange"in e){Uf(e.documentChange,"documentChange"),Uf(e.documentChange.document,"documentChange.name"),Uf(e.documentChange.document.name,"documentChange.document.name"),Uf(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),f=new As(c,l,{},void 0,u.document,(function(e){return n.fromValue(e)})),h=u.targetIds||[],p=u.removedTargetIds||[];t=new xl(h,p,f.key,f)}else if("documentDelete"in e){Uf(e.documentDelete,"documentDelete"),Uf(e.documentDelete.document,"documentDelete.document");var d=e.documentDelete;c=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):ri.forDeletedDoc(),f=new Ps(c,l),p=d.removedTargetIds||[],t=new xl([],p,f.key,f)}else if("documentRemove"in e){Uf(e.documentRemove,"documentRemove"),Uf(e.documentRemove.document,"documentRemove");var y=e.documentRemove;c=this.fromName(y.document),p=y.removedTargetIds||[],t=new xl([],p,c,null)}else{if(!("filter"in e))return Fr("Unknown change type "+JSON.stringify(e));Uf(e.filter,"filter"),Uf(e.filter.targetId,"filter.targetId");var m=e.filter,g=m.count||0,v=new xf(g),b=m.targetId;t=new Pl(b,v)}return t},Vf.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Al.NoChange:"ADD"===e?Al.Added:"REMOVE"===e?Al.Removed:"CURRENT"===e?Al.Current:"RESET"===e?Al.Reset:Fr("Got unexpected TargetChange.state: "+e)},Vf.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return ri.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?ri.MIN:t.readTime?this.fromVersion(t.readTime):ri.MIN},Vf.prototype.toMutation=function(e){var t,n=this;if(e instanceof Ta)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Ma)t={delete:this.toName(e.key)};else if(e instanceof Ia)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Na))return Fr("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},Vf.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):ga.NONE;if(e.update){Uf(e.update.name,"name");var r=this.fromName(e.update.name),o=this.fromFields(e.update.fields||{});if(e.updateMask){var i=this.fromDocumentMask(e.updateMask);return new Ia(r,o,i,n)}return new Ta(r,o,n)}if(e.delete)return r=this.fromName(e.delete),new Ma(r,n);if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return jr(!0===n.exists,'Transforms only support precondition "exists == true"'),new Na(r,a)}return Fr("unknown mutation proto: "+JSON.stringify(e))},Vf.prototype.toPrecondition=function(e){return jr(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fr("Unknown precondition")},Vf.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?ga.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?ga.exists(e.exists):ga.NONE},Vf.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),o=null;return e.transformResults&&0<e.transformResults.length&&(o=e.transformResults.map((function(e){return n.fromValue(e)}))),new ma(r,o)},Vf.prototype.fromWriteResults=function(e,t){var n=this;return e&&0<e.length?(jr(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},Vf.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof Sf)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof If)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof kf)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof Df)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw Fr("Unknown transform: "+e.transform)},Vf.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)jr("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=Sf.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new If(r.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e)r=e.removeAllFromArray.values||[],n=new kf(r.map((function(e){return t.fromValue(e)})));else if("increment"in e){var o=this.fromValue(e.increment);jr(o instanceof Ha,"NUMERIC_ADD transform requires a NumberValue"),n=new Df(o)}else Fr("Unknown transform proto: "+JSON.stringify(e));var i=qo.fromServerFormat(e.fieldPath);return new ha(i,n)},Vf.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},Vf.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;jr(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Kl.atPath(this.fromQueryPath(n))},Vf.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(jr(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(jr(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var o=this.toOrder(e.orderBy);o&&(t.structuredQuery.orderBy=o);var i=this.toInt32Value(e.limit);return void 0!==i&&(t.structuredQuery.limit=i),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},Vf.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(0<r){jr(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];i.allDescendants?o=i.collectionId:t=t.child(i.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Kl(t,o,s,a,u,c,l)},Vf.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},Vf.prototype.toLabel=function(e){switch(e){case Pu.Listen:return null;case Pu.ExistenceFilterMismatch:return"existence-filter-mismatch";case Pu.LimboResolution:return"limbo-document";default:return Fr("Unrecognized query purpose: "+e)}},Vf.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,0<e.resumeToken.length&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},Vf.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof Xl?t.toUnaryOrFieldFilter(e):Fr("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},Vf.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):Fr("Unknown filter: "+JSON.stringify(e)):[]},Vf.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},Vf.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},Vf.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},Vf.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new gf(r,n)},Vf.prototype.toDirection=function(e){return Lf[e.name]},Vf.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return yf.ASCENDING;case"DESCENDING":return yf.DESCENDING;default:return}},Vf.prototype.toOperatorName=function(e){return Ff[e.name]},Vf.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Hl.EQUAL;case"GREATER_THAN":return Hl.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Hl.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Hl.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Hl.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Hl.ARRAY_CONTAINS;case"IN":return Hl.IN;case"ARRAY_CONTAINS_ANY":return Hl.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return Fr("Unspecified operator");default:return Fr("Unknown operator")}},Vf.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},Vf.prototype.fromFieldPathReference=function(e){return qo.fromServerFormat(e.fieldPath)},Vf.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},Vf.prototype.fromPropertyOrder=function(e){return new bf(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},Vf.prototype.fromFieldFilter=function(e){return Xl.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},Vf.prototype.toUnaryOrFieldFilter=function(e){if(e.op===Hl.EQUAL){if(e.value.isEqual(ts.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(Va.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},Vf.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return Xl.create(t,Hl.EQUAL,ts.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return Xl.create(n,Hl.EQUAL,Va.INSTANCE);case"OPERATOR_UNSPECIFIED":return Fr("Unspecified filter");default:return Fr("Unknown filter")}},Vf.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},Vf.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return qo.fromServerFormat(e)}));return la.fromArray(t)},Vf);function Vf(e,t){this.databaseId=e,this.options=t}var zf=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Wf=(Qf.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new zf,this.queries.set(t,r)),r.listeners.push(e),jr(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),!r.viewSnap||e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(t).then((function(e){return r.targetId=e})):Promise.resolve(r.targetId)},Qf.prototype.unlisten=function(e){return l(this,void 0,void 0,(function(){var t,n,r,o;return f(this,(function(i){return t=e.query,n=!1,(r=this.queries.get(t))&&0<=(o=r.listeners.indexOf(e))&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},Qf.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var o=r[n],i=o.query,a=this.queries.get(i);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].onViewSnapshot(o)&&(t=!0);a.viewSnap=o}}t&&this.raiseSnapshotsInSyncEvent()},Qf.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,o=n.listeners;r<o.length;r++)o[r].onError(t);this.queries.delete(e)},Qf.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var o=0,i=r.listeners;o<i.length;o++)i[o].applyOnlineStateChange(e)&&(t=!0)})),t&&this.raiseSnapshotsInSyncEvent()},Qf.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},Qf.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},Qf.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},Qf);function Qf(e){this.syncEngine=e,this.queries=new js((function(e){return e.canonicalId()})),this.onlineState=ol.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}var Kf=(Gf.prototype.onViewSnapshot=function(e){if(jr(0<e.docChanges.length||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var o=r[n];o.type!==ml.Metadata&&t.push(o)}e=new Cl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var i=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),i=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),i=!0),this.snap=e,i},Gf.prototype.onError=function(e){this.queryObserver.error(e)},Gf.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},Gf.prototype.shouldRaiseInitialEvent=function(e,t){if(jr(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==ol.Offline;return this.options.waitForSyncWhenOnline&&n?(jr(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===ol.Offline},Gf.prototype.shouldRaiseEvent=function(e){if(0<e.docChanges.length)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},Gf.prototype.raiseInitialEvent=function(e){jr(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},Gf);function Gf(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=ol.Unknown,this.options=n||{}}var Hf=(Yf.fromSnapshot=function(e,t){for(var n=Ii(),r=Ii(),o=0,i=t.docChanges;o<i.length;o++){var a=i[o];switch(a.type){case ml.Added:n=n.add(a.doc.key);break;case ml.Removed:r=r.add(a.doc.key)}}return new Yf(e,n,r)},Yf);function Yf(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}var $f=function(e){this.key=e},Xf=function(e){this.key=e},Jf=(Object.defineProperty(Zf.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),Zf.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Tl,o=t?t.documentSet:this.documentSet,i=t?t.mutatedKeys:this.mutatedKeys,a=o,s=!1,u=this.query.hasLimit()&&o.size===this.query.limit?o.last():null;if(e.inorderTraversal((function(e,t){var c=o.get(e),l=t instanceof As?t:null;l&&(jr(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var f=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data().isEqual(l.data())?f!==h&&(r.track({type:ml.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:ml.Modified,doc:l}),p=!0,u&&0<n.query.docComparator(l,u)&&(s=!0)):!c&&l?(r.track({type:ml.Added,doc:l}),p=!0):c&&!l&&(r.track({type:ml.Removed,doc:c}),p=!0,u&&(s=!0)),p&&(i=l?(a=a.add(l),h?i.add(e):i.delete(e)):(a=a.delete(e),i.delete(e)))})),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),i=i.delete(c.key),r.track({type:ml.Removed,doc:c})}return jr(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:i}},Zf.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},Zf.prototype.applyChanges=function(e,t,n){var r=this;jr(!e.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var i=e.changeSet.getChanges();i.sort((function(e,t){return function(e,t){function n(e){switch(e){case ml.Added:return 1;case ml.Modified:case ml.Metadata:return 2;case ml.Removed:return 0;default:return Fr("Unknown ChangeType: "+e)}}return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?vl.Synced:vl.Local,u=s!==this.syncState;return this.syncState=s,0!==i.length||u?{snapshot:new Cl(this.query,e.documentSet,o,i,e.mutatedKeys,s===vl.Local,u,!1),limboChanges:a}:{limboChanges:a}},Zf.prototype.applyOnlineStateChange=function(e){return this.current&&e===ol.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Tl,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},Zf.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},Zf.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return jr(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},Zf.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Ii(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new Xf(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new $f(e))})),n},Zf.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=Ii();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},Zf.prototype.computeInitialSnapshot=function(){return Cl.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===vl.Local)},Zf);function Zf(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Ii(),this.mutatedKeys=Ii(),this.documentSet=new wl(e.docComparator.bind(e))}var eh=(th.prototype.run=function(){this.runWithBackOff()},th.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return l(e,void 0,void 0,(function(){var e,t,n=this;return f(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},th.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!Bc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},th.prototype.handleTransactionError=function(e){var t=this;0<this.retries&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},th.prototype.isRetryableTransactionError=function(e){if("FirebaseError"!==e.name)return!1;var t=e.code;return"aborted"===t||"failed-precondition"===t||!dl(t)},th);function th(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=5,this.backoff=new zc(this.asyncQueue,Wo.RetryTransaction)}var nh="SyncEngine",rh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},oh=function(e){this.key=e,this.receivedDocument=!1},ih=(Object.defineProperty(ah.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),ah.prototype.subscribe=function(e){jr(null!==e,"SyncEngine listener cannot be null"),jr(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},ah.prototype.listen=function(e){return l(this,void 0,void 0,(function(){var t,n,r,o,i;return f(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return o=a.sent(),i=this.sharedClientState.addLocalQueryTarget(o.targetId),t=o.targetId,[4,this.initializeViewAndComputeSnapshot(o,"current"===i)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(o),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},ah.prototype.initializeViewAndComputeSnapshot=function(e,t){return l(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return f(this,(function(l){switch(l.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n)];case 1:return r=l.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return o=l.sent(),i=new Jf(n,o),a=i.computeDocChanges(r),s=Nl.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==ol.Offline),jr(0===(u=i.applyChanges(a,!0===this.isPrimary,s)).limboChanges.length,"View returned limbo docs before target ack from the server."),jr(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new rh(n,e.targetId,i),this.queryViewsByQuery.set(n,c),this.queryViewsByTarget[e.targetId]=c,[2,u.snapshot]}}))}))},ah.prototype.synchronizeViewAndComputeSnapshot=function(e){return l(this,void 0,void 0,(function(){var t,n,r;return f(this,(function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(e.query)];case 1:return t=o.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return n=o.sent(),r=e.view.synchronizeWithPersistedState(t,n),this.isPrimary&&this.updateTrackedLimbos(e.targetId,r.limboChanges),[2,r]}}))}))},ah.prototype.unlisten=function(e){return l(this,void 0,void 0,(function(){var t,n=this;return f(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),jr(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then((function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)})).catch(sc)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},ah.prototype.write=function(e,t){return l(this,void 0,void 0,(function(){var n;return f(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},ah.prototype.runTransaction=function(e,t,n){new eh(e,this.remoteStore,t,n).run()},ah.prototype.applyRemoteEvent=function(e){return l(this,void 0,void 0,(function(){var t,n=this;return f(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),$r(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(jr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<t.addedDocuments.size?r.receivedDocument=!0:0<t.modifiedDocuments.size?jr(r.receivedDocument,"Received change for limbo target document without add."):0<t.removedDocuments.size&&(jr(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,sc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},ah.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===al.RemoteStore||!this.isPrimary&&t===al.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,r){var o=r.view.applyOnlineStateChange(e);jr(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&n.push(o.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},ah.prototype.rejectListen=function(e,t){return l(this,void 0,void 0,(function(){var n,r,o,i,a,s,u=this;return f(this,(function(c){switch(c.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],o=(o=new ii(Vo.comparator)).insert(r,new Ps(r,ri.forDeletedDoc())),i=Ii().add(r),a=new _l(ri.MIN,{},new pi(vo),o,i),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return jr(!!(s=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(s.query,!1).then((function(){return u.removeAndCleanupQuery(s)})).catch(sc)];case 2:c.sent(),this.syncEngineListener.onWatchError(s.query,t),c.label=3;case 3:return[2]}}))}))},ah.prototype.applyBatchState=function(e,t,n){return l(this,void 0,void 0,(function(){var r;return f(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=o.sent())?(Rr(nh,"Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return o.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):Fr("Unknown batchState: "+t),o.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return o.sent(),[2]}}))}))},ah.prototype.applySuccessfulWrite=function(e){return l(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,sc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},ah.prototype.rejectFailedWrite=function(e,t){return l(this,void 0,void 0,(function(){var n;return f(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,sc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},ah.prototype.registerPendingWritesCallback=function(e){return l(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||Rr(nh,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?e.resolve():((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n)),[2]}}))}))},ah.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},ah.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new Wr(zr.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},ah.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n=(n=n||new ii(vo)).insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},ah.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(jr(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},ah.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach((function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)}))}},ah.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},ah.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];o instanceof $f?(this.limboDocumentRefs.addReference(o.key,e),this.trackLimboChange(o)):o instanceof Xf?(Rr(nh,"Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,e),this.limboDocumentRefs.containsKey(o.key)||this.removeLimboTarget(o.key)):Fr("Unknown limbo change: "+JSON.stringify(o))}},ah.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){Rr(nh,"New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=Kl.atPath(t.path);this.limboResolutionsByTarget[n]=new oh(t),this.remoteStore.listen(new Uu(r,n,Pu.LimboResolution,Ao.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},ah.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},ah.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return l(this,void 0,void 0,(function(){var n,r,o,i=this;return f(this,(function(a){switch(a.label){case 0:return n=[],r=[],o=[],this.queryViewsByQuery.forEach((function(a,s){o.push(Promise.resolve().then((function(){var t=s.view.computeDocChanges(e);return t.needsRefill?i.localStore.executeQuery(s.query).then((function(e){return s.view.computeDocChanges(e,t)})):t})).then((function(e){var o=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===i.isPrimary,o);if(i.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){i.isPrimary&&i.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=Hf.fromSnapshot(s.targetId,a.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}}))}))},ah.prototype.assertSubscribed=function(e){jr(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},ah.prototype.handleCredentialChange=function(e){return l(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},ah.prototype.applyPrimaryState=function(e){return l(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u=this;return f(this,(function(c){switch(c.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return c.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=c.sent(),r=0,o=n;r<o.length;r++)i=o[r],this.remoteStore.listen(i);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),Yr(this.queryViewsByTarget,(function(e,t){u.sharedClientState.isLocalQueryTarget(e)?a.push(e):s=s.then((function(){return u.unlisten(t.query)})),u.remoteStore.unlisten(t.targetId)})),[4,s]);case 4:return c.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return c.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))},ah.prototype.resetLimboDocuments=function(){var e=this;Yr(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new ii(Vo.comparator)},ah.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return l(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c;return f(this,(function(l){switch(l.label){case 0:t=[],n=[],r=0,o=e,l.label=1;case 1:return r<o.length?(i=o[r],a=void 0,(s=this.queryViewsByTarget[i])?[4,this.localStore.releaseQuery(s.query,!0)]:[3,5]):[3,11];case 2:return l.sent(),[4,this.localStore.allocateQuery(s.query)];case 3:return a=l.sent(),[4,this.synchronizeViewAndComputeSnapshot(s)];case 4:return(u=l.sent()).snapshot&&n.push(u.snapshot),[3,9];case 5:return jr(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(i)];case 6:return jr(!!(c=l.sent()),"Query data for target "+i+" not found"),[4,this.localStore.allocateQuery(c)];case 7:return a=l.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:l.sent(),l.label=9;case 9:t.push(a),l.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},ah.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},ah.prototype.applyTargetState=function(e,t,n){return l(this,void 0,void 0,(function(){var r,o,i,a,s;return f(this,(function(u){switch(u.label){case 0:if(this.isPrimary)return Rr(nh,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,11];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return u.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=u.sent(),o=_l.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,o)];case 3:return u.sent(),[3,11];case 4:return function(e){return e.code===zr.DATA_LOSS&&e.message===zs}(i=u.sent())?(a=[],Yr(this.queryViewsByTarget,(function(e){return a.push(e)})),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)]):[3,6];case 5:return u.sent(),[3,7];case 6:throw i;case 7:return[3,8];case 8:return s=this.queryViewsByTarget[e],this.removeAndCleanupQuery(s),[4,this.localStore.releaseQuery(s.query,!0)];case 9:return u.sent(),this.syncEngineListener.onWatchError(s.query,n),[3,11];case 10:Fr("Unexpected target state: "+t),u.label=11;case 11:return[2]}}))}))},ah.prototype.applyActiveTargetsChange=function(e,t){return l(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,h=this;return f(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,p.label=1;case 1:return n<r.length?(l=r[n],jr(!this.queryViewsByTarget[l],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(l)]):[3,6];case 2:return jr(!!(o=p.sent()),"Query data for active target "+l+" not found"),[4,this.localStore.allocateQuery(o)];case 3:return i=p.sent(),[4,this.initializeViewAndComputeSnapshot(i,!1)];case 4:p.sent(),this.remoteStore.listen(i),p.label=5;case 5:return n++,[3,1];case 6:a=function(e){var t;return f(this,(function(n){switch(n.label){case 0:return(t=s.queryViewsByTarget[e])?[4,s.localStore.releaseQuery(t.query,!1).then((function(){h.remoteStore.unlisten(e),h.removeAndCleanupQuery(t)})).catch(sc)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},s=this,u=0,c=t,p.label=7;case 7:return u<c.length?(l=c[u],[5,a(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},ah.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},ah.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},ah.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Ii().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Ii()},ah);function ah(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new js((function(e){return e.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new ii(Vo.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new yc,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Wi.forSyncEngine(),this.isPrimary=void 0,this.onlineState=ol.Unknown}var sh=(uh.prototype.isAuthenticated=function(){return null!=this.uid},uh.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},uh.prototype.isEqual=function(e){return e.uid===this.uid},uh.UNAUTHENTICATED=new uh(null),uh.GOOGLE_CREDENTIALS=new uh("google-credentials-uid"),uh.FIRST_PARTY=new uh("first-party-uid"),uh);function uh(e){this.uid=e}var ch="SharedClientState",lh="firestore_clients",fh="firestore_mutations",hh="firestore_targets",ph=(dh.fromWebStorageEntry=function(e,t,n){var r=JSON.parse(n),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),i=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new Wr(r.error.code,r.error.message)),o?new dh(e,t,r.state,i):(Mr(ch,"Failed to parse mutation state for ID '"+t+"': "+n),null)},dh.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},dh);function dh(e,t,n,r){this.user=e,this.batchId=t,this.state=n,jr(void 0!==(this.error=r)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}var yh=(mh.fromWebStorageEntry=function(e,t){var n=JSON.parse(t),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),o=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(o=new Wr(n.error.code,n.error.message)),r?new mh(e,n.state,o):(Mr(ch,"Failed to parse target state for ID '"+e+"': "+t),null)},mh.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},mh);function mh(e,t,n){this.targetId=e,this.state=t,jr(void 0!==(this.error=n)==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}var gh=(vh.fromWebStorageEntry=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,o=ki(),i=0;r&&i<n.activeTargetIds.length;++i)r=Vc(n.activeTargetIds[i]),o=o.add(n.activeTargetIds[i]);return r?new vh(e,o):(Mr(ch,"Failed to parse client data for instance '"+e+"': "+t),null)},vh);function vh(e,t){this.clientId=e,this.activeTargetIds=t}var bh=(wh.fromWebStorageEntry=function(e){var t=JSON.parse(e);return"object"==typeof t&&t.onlineState in ol&&"string"==typeof t.clientId?new wh(t.clientId,ol[t.onlineState]):(Mr(ch,"Failed to parse online state: "+e),null)},wh);function wh(e,t){this.clientId=e,this.onlineState=t}var Eh=(Th.prototype.addQueryTarget=function(e){jr(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},Th.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},Th.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},Th);function Th(){this.activeTargetIds=ki()}var Sh=(Ch.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},Ch.prototype.start=function(){return l(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u,c,l,h=this;return f(this,(function(f){switch(f.label){case 0:return jr(!this.started,"WebStorageSharedClientState already started"),jr(null!==this.syncEngine,"syncEngine property must be set before calling start()"),jr(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(o=this.getItem(this.toWebStorageClientStateKey(r)))&&(i=gh.fromWebStorageEntry(r,o))&&(this.activeClients[i.clientId]=i);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,c=this.earlyEvents;u<c.length;u++)l=c[u],this.handleWebStorageEvent(l);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},Ch.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},Ch.prototype.getAllActiveQueryTargets=function(){var e=ki();return $r(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},Ch.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},Ch.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},Ch.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},Ch.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=yh.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},Ch.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},Ch.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},Ch.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},Ch.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},Ch.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},Ch.prototype.setOnlineState=function(e){this.persistOnlineState(e)},Ch.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},Ch.prototype.getItem=function(e){var t=this.storage.getItem(e);return Rr(ch,"READ",e,t),t},Ch.prototype.setItem=function(e,t){Rr(ch,"SET",e,t),this.storage.setItem(e,t)},Ch.prototype.removeItem=function(e){Rr(ch,"REMOVE",e),this.storage.removeItem(e)},Ch.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(Rr(ch,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return l(t,void 0,void 0,(function(){var t,n,r,o,i,a;return f(this,(function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(o=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(o)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(i=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(i)]}else e.key===this.sequenceNumberKey&&(jr(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=Ao.INVALID;if(null!=e)try{var n=JSON.parse(e);jr("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){Mr(ch,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==Ao.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(Ch.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),Ch.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},Ch.prototype.persistMutationState=function(e,t,n){var r=new ph(this.currentUser,e,t,n),o=this.toWebStorageMutationBatchKey(e);this.setItem(o,r.toWebStorageJSON())},Ch.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},Ch.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:ol[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},Ch.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),o=new yh(e,t,n);this.setItem(r,o.toWebStorageJSON())},Ch.prototype.toWebStorageClientStateKey=function(e){return jr(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),lh+"_"+this.persistenceKey+"_"+e},Ch.prototype.toWebStorageQueryTargetMetadataKey=function(e){return hh+"_"+this.persistenceKey+"_"+e},Ch.prototype.toWebStorageMutationBatchKey=function(e){var t=fh+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},Ch.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},Ch.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return jr(null!==n,"Cannot parse client state key '"+e+"'"),gh.fromWebStorageEntry(n,t)},Ch.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);jr(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return ph.fromWebStorageEntry(new sh(o),r,t)},Ch.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);jr(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return yh.fromWebStorageEntry(r,t)},Ch.prototype.fromWebStorageOnlineState=function(e){return bh.fromWebStorageEntry(e)},Ch.prototype.handleMutationBatchEvent=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){return e.user.uid!==this.currentUser.uid?(Rr(ch,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},Ch.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},Ch.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var o=this.getAllActiveQueryTargets(),i=[],a=[];return o.forEach((function(e){return l(n,void 0,void 0,(function(){return f(this,(function(t){return r.has(e)||i.push(e),[2]}))}))})),r.forEach((function(e){return l(n,void 0,void 0,(function(){return f(this,(function(t){return o.has(e)||a.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(i,a)},Ch.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},Ch);function Ch(e,t,n,r,o){if(this.queue=e,this.platform=t,this.persistenceKey=n,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!Ch.isAvailable(this.platform))throw new Wr(zr.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+n,this.activeClients[this.localClientId]=new Eh,this.clientStateKeyRe=new RegExp("^"+lh+"_"+i+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+fh+"_"+i+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+hh+"_"+i+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+n,this.platform.window.addEventListener("storage",this.storageListener)}var Ih=(_h.prototype.addPendingMutation=function(e){},_h.prototype.updateMutationState=function(e,t,n){},_h.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},_h.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},_h.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},_h.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},_h.prototype.clearQueryState=function(e){delete this.queryState[e]},_h.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},_h.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},_h.prototype.start=function(){return this.localState=new Eh,Promise.resolve()},_h.prototype.handleUserChange=function(e,t,n){},_h.prototype.setOnlineState=function(e){},_h.prototype.shutdown=function(){},_h.prototype.writeSequenceNumber=function(e){},_h);function _h(){this.localState=new Eh,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}var kh="FirestoreClient",Nh=(Dh.prototype.lruParams=function(){return Gu.withCacheSize(this.cacheSizeBytes)},Dh);function Dh(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}var Ah=function(){},Oh=(xh.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new Ko,r=new Ko,o=!1;return this.credentials.setChangeListener((function(i){o?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(i)})):(o=!0,t.initializePersistence(e,r,i).then((function(e){return t.initializeRest(i,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},xh.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},xh.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Nh?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},xh.prototype.canFallback=function(e){return e instanceof Wr?e.code===zr.FAILED_PRECONDITION||e.code===zr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},xh.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Wr(zr.FAILED_PRECONDITION,"The client has already been terminated.")},xh.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=ic.buildStoragePrefix(this.databaseInfo),o=new Bf(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return l(n,void 0,void 0,(function(){var n,i;return f(this,(function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Sh.isAvailable(this.platform))throw new Wr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Sh(this.asyncQueue,this.platform,r,this.clientId,e):new Ih,[4,ic.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:o,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return i=a.sent(),[2,(this.persistence=i).referenceDelegate.garbageCollector]}}))}))}))},xh.prototype.startMemoryPersistence=function(){return this.persistence=Ac.createEagerPersistence(this.clientId),this.sharedClientState=new Ih,Promise.resolve(null)},xh.prototype.initializeRest=function(e,t){var n=this;return Rr(kh,"Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return l(n,void 0,void 0,(function(){var n,o,i,a,s,u=this;return f(this,(function(c){switch(c.label){case 0:return this.localStore=new wc(this.persistence,e),t&&(this.lruScheduler=new Yu(t,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),o=this.platform.newSerializer(this.databaseInfo.databaseId),i=new nl(this.asyncQueue,r,this.credentials,o),a=function(e){return u.syncEngine.applyOnlineStateChange(e,al.RemoteStore)},s=function(e){return u.syncEngine.applyOnlineStateChange(e,al.SharedClientState)},this.remoteStore=new Vl(this.localStore,i,this.asyncQueue,a,n),this.syncEngine=new ih(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=s,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Wf(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return l(u,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 3:return c.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return l(u,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 4:return c.sent(),[2]}}))}))}))},xh.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),Rr(kh,"Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},xh.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},xh.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return l(e,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},xh.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new Ko;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},xh.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var o=new Kf(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(o)})),o},xh.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},xh.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof As)return e;if(e instanceof Ps)return null;throw new Wr(zr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},xh.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.executeQuery(e)})).then((function(t){var n=Ii(),r=new Jf(e,n),o=r.computeDocChanges(t);return r.applyChanges(o,!1).snapshot}))},xh.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new Ko;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},xh.prototype.databaseId=function(){return this.databaseInfo.databaseId},xh.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},xh.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(xh.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),xh.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new Ko;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},xh);function xh(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=mo.newId()}var Ph=(Rh.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},Rh.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},Rh.prototype.mute=function(){this.muted=!0},Rh.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},Rh);function Rh(e){this.observer=e,this.muted=!1}var Mh=(Lh.documentId=function(){return Lh._DOCUMENT_ID},Lh.prototype.isEqual=function(e){if(!(e instanceof Lh))throw ho("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},Lh._DOCUMENT_ID=new Lh(qo.keyField().canonicalString()),Lh);function Lh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new Wr(zr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+yo(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(no("FieldPath","string",n,e[n]),0===e[n].length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qo(e)}var Fh=new RegExp("[~\\*/\\[\\]]"),jh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},Uh=(qh.prototype.getToken=function(){return Promise.resolve(null)},qh.prototype.invalidateToken=function(){},qh.prototype.setChangeListener=function(e){jr(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(sh.UNAUTHENTICATED)},qh.prototype.removeChangeListener=function(){jr(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},qh);function qh(){this.changeListener=null}var Bh=(Vh.prototype.getToken=function(){var e=this;jr(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new Wr(zr.ABORTED,"getToken aborted due to token change.");return n?(jr("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new jh(n.accessToken,e.currentUser)):null}))},Vh.prototype.invalidateToken=function(){this.forceRefresh=!0},Vh.prototype.setChangeListener=function(e){jr(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(this.currentUser)},Vh.prototype.removeChangeListener=function(){jr(null!=this.tokenListener,"removeChangeListener() called twice"),jr(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},Vh.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return jr(null===e||"string"==typeof e,"Received invalid UID: "+e),new sh(e)},Vh);function Vh(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=sh.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}var zh=(Object.defineProperty(Wh.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),Wh);function Wh(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=sh.FIRST_PARTY}var Qh=(Kh.prototype.getToken=function(){return Promise.resolve(new zh(this.gapi,this.sessionIndex))},Kh.prototype.setChangeListener=function(e){e(sh.FIRST_PARTY)},Kh.prototype.removeChangeListener=function(){},Kh.prototype.invalidateToken=function(){},Kh);function Kh(e,t){this.gapi=e,this.sessionIndex=t}function Gh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(e)}var Hh=(Yh.delete=function(){return Jr("FieldValue.delete",arguments),Xh.instance},Yh.serverTimestamp=function(){return Jr("FieldValue.serverTimestamp",arguments),ep.instance},Yh.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return eo("FieldValue.arrayUnion",arguments,1),new rp(e)},Yh.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return eo("FieldValue.arrayRemove",arguments,1),new ap(e)},Yh.increment=function(e){return no("FieldValue.increment","number",1,e),Zr("FieldValue.increment",arguments,1),new cp(e)},Yh.prototype.isEqual=function(e){return this===e},Yh);function Yh(e){this._methodName=e}var $h,Xh=(c(Jh,$h=Hh),Jh.instance=new Jh,Jh);function Jh(){return $h.call(this,"FieldValue.delete")||this}var Zh,ep=(c(tp,Zh=Hh),tp.instance=new tp,tp);function tp(){return Zh.call(this,"FieldValue.serverTimestamp")||this}var np,rp=(c(op,np=Hh),op);function op(e){var t=np.call(this,"FieldValue.arrayUnion")||this;return t._elements=e,t}var ip,ap=(c(sp,ip=Hh),sp);function sp(e){var t=ip.call(this,"FieldValue.arrayRemove")||this;return t._elements=e,t}var up,cp=(c(lp,up=Hh),lp);function lp(e){var t=up.call(this,"FieldValue.increment")||this;return t._operand=e,t}var fp=Kr(Hh,"Use FieldValue.<field>() instead."),hp=/^__.*__$/,pp=(dp.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Ia(e,this.data,this.fieldMask,t)):n.push(new Ta(e,this.data,t)),0<this.fieldTransforms.length&&n.push(new Na(e,this.fieldTransforms)),n},dp);function dp(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}var yp,mp,gp=(vp.prototype.toMutations=function(e,t){var n=[new Ia(e,this.data,this.fieldMask,t)];return 0<this.fieldTransforms.length&&n.push(new Na(e,this.fieldTransforms)),n},vp);function vp(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function bp(e){switch(e){case yp.Set:case yp.MergeSet:case yp.Update:return!0;case yp.Argument:return!1;default:throw Fr("Unexpected case for UserDataSource: "+e)}}(mp=yp=yp||{})[mp.Set=0]="Set",mp[mp.Update=1]="Update",mp[mp.MergeSet=2]="MergeSet",mp[mp.Argument=3]="Argument";var wp=(Ep.prototype.childContextForField=function(e){var t=null==this.path?null:this.path.child(e),n=new Ep(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePathSegment(e),n},Ep.prototype.childContextForFieldPath=function(e){var t=null==this.path?null:this.path.child(e),n=new Ep(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePath(),n},Ep.prototype.childContextForArray=function(e){return new Ep(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},Ep.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Wr(zr.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},Ep.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},Ep.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},Ep.prototype.validatePathSegment=function(e){if(bp(this.dataSource)&&hp.test(e))throw this.createError("Document fields cannot begin and end with __")},Ep);function Ep(e,t,n,r,o,i){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===o&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=o||[],this.fieldMask=i||[]}var Tp=function(e,t){this.databaseId=e,this.key=t},Sp=(Cp.prototype.parseSetData=function(e,t){var n=new wp(yp.Set,e,qo.EMPTY_PATH);_p("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new pp(r,null,n.fieldTransforms)},Cp.prototype.parseMergeData=function(e,t,n){var r=new wp(yp.MergeSet,e,qo.EMPTY_PATH);_p("Data must be an object, but it was:",r,t);var o,i,a=this.parseData(t,r);if(n){for(var s=new pi(qo.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof Mh)f=l._internalPath;else{if("string"!=typeof l)throw Fr("Expected stringOrFieldPath to be a string or a FieldPath");f=Np(e,l)}if(!r.contains(f))throw new Wr(zr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}o=la.fromSet(s),i=r.fieldTransforms.filter((function(e){return o.covers(e.field)}))}else o=la.fromArray(r.fieldMask),i=r.fieldTransforms;return new pp(a,o,i)},Cp.prototype.parseUpdateData=function(e,t){var n=this,r=new wp(yp.Update,e,qo.EMPTY_PATH);_p("Data must be an object, but it was:",r,t);var o=new pi(qo.comparator),i=Ts.EMPTY;$r(t,(function(t,a){var s=Np(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Xh)o=o.add(s);else{var c=n.parseData(a,u);null!=c&&(o=o.add(s),i=i.set(s,c))}}));var a=la.fromSet(o);return new gp(i,a,r.fieldTransforms)},Cp.prototype.parseUpdateVarargs=function(e,t,n,r){var o=new wp(yp.Update,e,qo.EMPTY_PATH),i=[kp(e,t)],a=[n];if(r.length%2!=0)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)i.push(kp(e,r[s])),a.push(r[s+1]);var u=new pi(qo.comparator),c=Ts.EMPTY;for(s=0;s<i.length;++s){var l=i[s],f=o.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof Xh)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=la.fromSet(u);return new gp(c,d,o.fieldTransforms)},Cp.prototype.parseQueryValue=function(e,t){var n=new wp(yp.Argument,e,qo.EMPTY_PATH),r=this.parseData(t,n);return jr(null!=r,"Parsed data should not be null."),jr(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},Cp.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=Dp(e);throw t.createError(n)}},Cp.prototype.parseData=function(e,t){if(Ip(e=this.runPreConverter(e,t)))return _p("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof Hh)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},Cp.prototype.parseObject=function(e,t){var n=this,r=new ii(vo);return Xr(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):$r(e,(function(e,o){var i=n.parseData(o,t.childContextForField(e));null!=i&&(r=r.insert(e,i))})),new Ts(r)},Cp.prototype.parseArray=function(e,t){for(var n=[],r=0,o=0,i=e;o<i.length;o++){var a=i[o],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=Va.INSTANCE),n.push(s),r++}return new Is(n)},Cp.prototype.parseSentinelFieldValue=function(e,t){if(!bp(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof Xh){if(t.dataSource!==yp.MergeSet)throw t.dataSource===yp.Update?(jr(0<t.path.length,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof ep)t.fieldTransforms.push(new ha(t.path,Sf.instance));else if(e instanceof rp){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new If(n);t.fieldTransforms.push(new ha(t.path,r))}else if(e instanceof ap){n=this.parseArrayTransformElements(e._methodName,e._elements);var o=new kf(n);t.fieldTransforms.push(new ha(t.path,o))}else if(e instanceof cp){var i=this.parseQueryValue("FieldValue.increment",e._operand),a=new Df(i);t.fieldTransforms.push(new ha(t.path,a))}else Fr("Unknown FieldValue type: "+e)},Cp.prototype.parseScalarValue=function(e,t){if(null===e)return Va.INSTANCE;if("number"==typeof e)return Vc(e)?new Ja(e):new ts(e);if("boolean"==typeof e)return Qa.of(e);if("string"==typeof e)return new os(e);if(e instanceof Date)return new ss(ti.fromDate(e));if(e instanceof ti)return new ss(new ti(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof Wl)return new bs(e);if(e instanceof So)return new ps(e);if(e instanceof Tp)return new ms(e.databaseId,e.key);throw t.createError("Unsupported field value: "+co(e))},Cp.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var o=new wp(yp.Argument,e,qo.EMPTY_PATH);return n.parseData(t,o.childContextForArray(r))}))},Cp);function Cp(e){this.preConverter=e}function Ip(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ti||e instanceof Wl||e instanceof So||e instanceof Tp||e instanceof Hh)}function _p(e,t,n){if(!Ip(n)||!uo(n)){var r=co(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function kp(e,t){if(t instanceof Mh)return t._internalPath;if("string"==typeof t)return Np(e,t);throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Np(e,t){try{return function(e){if(0<=e.search(Fh))throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Mh.bind.apply(Mh,[void 0].concat(e.split("."))))}catch(t){throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=Dp(t);throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function Dp(e){return e instanceof Error?e.message:e.toString()}var Ap=Gu.COLLECTION_DISABLED,Op=(xp.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},xp);function xp(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Wr(zr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else oo("settings","non-empty string","host",e.host),this.host=e.host,io("settings","boolean","ssl",e.ssl),this.ssl=Hr(e.ssl,!0);if(fo("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),io("settings","object","credentials",e.credentials),this.credentials=e.credentials,io("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?Mr("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&Mr("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=Hr(e.timestampsInSnapshots,!0),io("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Gu.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Ap&&e.cacheSizeBytes<Gu.MINIMUM_CACHE_SIZE_BYTES)throw new Wr(zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Gu.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}io("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0!==e.experimentalForceLongPolling&&e.experimentalForceLongPolling}var Pp=(Rp.prototype.settings=function(e){if(Zr("Firestore.settings",arguments,1),no("Firestore.settings","object",1,e),Gr(e,"persistence"))throw new Wr(zr.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Op(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new Wr(zr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._settings=t).credentials&&(this._credentials=function(e){if(!e)return new Uh;switch(e.type){case"gapi":var t=e.client;return jr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Qh(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Wr(zr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},Rp.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},Rp.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},Rp.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new Wr(zr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&Mr("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=Hr(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Nh(this._settings.cacheSizeBytes,t))},Rp.prototype.clearPersistence=function(){var e=this,t=ic.buildStoragePrefix(this.makeDatabaseInfo()),n=new Ko;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return l(e,void 0,void 0,(function(){var e;return f(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new Wr(zr.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,ic.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},Rp.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Rp.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),Rp.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},Rp.prototype._onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),Gh(e))return this.onSnapshotsInSyncInternal(e);no("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},Rp.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new Ph({next:function(){e.next&&e.next()},error:function(e){throw Fr("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},Rp.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Ah),this._firestoreClient},Rp.prototype.makeDatabaseInfo=function(){return new _o(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},Rp.prototype.configureClient=function(e){jr(!!this._settings.host,"FirestoreSettings.host is not set"),jr(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new Oh(Ur.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},Rp.prototype.createDataConverter=function(e){return new Sp((function(t){if(t instanceof Up){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new Wr(zr.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Tp(e,t._key)}return t}))},Rp.databaseIdFromApp=function(e){var t=e.options;if(!Gr(t,"projectId"))throw new Wr(zr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new Wr(zr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new No(n)},Object.defineProperty(Rp.prototype,"app",{get:function(){if(!this._firebaseApp)throw new Wr(zr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),Rp.prototype.collection=function(e){return Zr("Firestore.collection",arguments,1),no("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Zp(Lo.fromString(e),this)},Rp.prototype.doc=function(e){return Zr("Firestore.doc",arguments,1),no("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Up.forPath(Lo.fromString(e),this)},Rp.prototype.collectionGroup=function(e){if(Zr("Firestore.collectionGroup",arguments,1),no("Firestore.collectionGroup","non-empty string",1,e),0<=e.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Hp(new Kl(Lo.EMPTY_PATH,e),this)},Rp.prototype.runTransaction=function(e){var t=this;return Zr("Firestore.runTransaction",arguments,1),no("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Mp(t,n))}))},Rp.prototype.batch=function(){return this.ensureClientConfigured(),new Fp(this)},Object.defineProperty(Rp,"logLevel",{get:function(){switch(xr()){case Tr.DEBUG:return"debug";case Tr.ERROR:return"error";case Tr.SILENT:return"silent";default:return Fr("Unknown log level: "+xr())}},enumerable:!0,configurable:!0}),Rp.setLogLevel=function(e){switch(Zr("Firestore.setLogLevel",arguments,1),no("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":Pr(Tr.DEBUG);break;case"error":Pr(Tr.ERROR);break;case"silent":Pr(Tr.SILENT);break;default:throw new Wr(zr.INVALID_ARGUMENT,"Invalid log level: "+e)}},Rp.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},Rp);function Rp(e){var t=this;if(this._firebaseApp=null,this._queue=new Yo,this.INTERNAL={delete:function(){return l(t,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof e.options){var n=e;this._firebaseApp=n,this._databaseId=Rp.databaseIdFromApp(n),this._persistenceKey=n.name,this._credentials=new Bh(n)}else{var r=e;if(!r.projectId)throw new Wr(zr.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new No(r.projectId,r.database),this._persistenceKey="[DEFAULT]",this._credentials=new Uh}this._settings=new Op({}),this._dataConverter=this.createDataConverter(this._databaseId)}var Mp=(Lp.prototype.get=function(e){var t=this;Zr("Transaction.get",arguments,1);var n=od("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Fr("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof Ps)return new zp(t._firestore,n._key,null,!1,!1);if(r instanceof As)return new zp(t._firestore,n._key,r,!1,!1);throw Fr("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},Lp.prototype.set=function(e,t,n){to("Transaction.set",arguments,2,3);var r=od("Transaction.set",e,this._firestore),o=(n=td("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,o),this},Lp.prototype.update=function(e,t,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return o="string"==typeof t||t instanceof Mh?(eo("Transaction.update",arguments,3),r=od("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,i)):(Zr("Transaction.update",arguments,2),r=od("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,o),this},Lp.prototype.delete=function(e){Zr("Transaction.delete",arguments,1);var t=od("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},Lp);function Lp(e,t){this._firestore=e,this._transaction=t}var Fp=(jp.prototype.set=function(e,t,n){to("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=od("WriteBatch.set",e,this._firestore),o=(n=td("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(o.toMutations(r._key,ga.NONE)),this},jp.prototype.update=function(e,t,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return this.verifyNotCommitted(),o="string"==typeof t||t instanceof Mh?(eo("WriteBatch.update",arguments,3),r=od("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,i)):(Zr("WriteBatch.update",arguments,2),r=od("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(o.toMutations(r._key,ga.exists(!0))),this},jp.prototype.delete=function(e){Zr("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=od("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Ma(t._key,ga.NONE)),this},jp.prototype.commit=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},jp.prototype.verifyNotCommitted=function(){if(this._committed)throw new Wr(zr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},jp);function jp(e){this._firestore=e,this._mutations=[],this._committed=!1}var Up=(qp.forPath=function(e,t){if(e.length%2!=0)throw new Wr(zr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new qp(new Vo(e),t)},Object.defineProperty(qp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(qp.prototype,"parent",{get:function(){return new Zp(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(qp.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),qp.prototype.collection=function(e){if(Zr("DocumentReference.collection",arguments,1),no("DocumentReference.collection","non-empty string",1,e),!e)throw new Wr(zr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Lo.fromString(e);return new Zp(this._key.path.child(t),this.firestore)},qp.prototype.isEqual=function(e){if(!(e instanceof qp))throw ho("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},qp.prototype.set=function(e,t){to("DocumentReference.set",arguments,1,2);var n=(t=td("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,ga.NONE))},qp.prototype.update=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n="string"==typeof e||e instanceof Mh?(eo("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(Zr("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,ga.exists(!0)))},qp.prototype.delete=function(){return Zr("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Ma(this._key,ga.NONE)])},qp.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];to("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Gh(e[o])||(fo("DocumentReference.onSnapshot",r=e[o],["includeMetadataChanges"]),io("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var i={includeMetadataChanges:r.includeMetadataChanges};return n=Gh(e[o])?e[o]:(no("DocumentReference.onSnapshot","function",o,e[o]),ro("DocumentReference.onSnapshot","function",o+1,e[o+1]),ro("DocumentReference.onSnapshot","function",o+2,e[o+2]),{next:e[o],error:e[o+1],complete:e[o+2]}),this.onSnapshotInternal(i,n)},qp.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var o=new Ph({next:function(e){if(t.next){jr(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new zp(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),i=this._firestoreClient.listen(Kl.atPath(this._key.path),o,e);return function(){o.mute(),n._firestoreClient.unlisten(i)}},qp.prototype.get=function(e){var t=this;return to("DocumentReference.get",arguments,0,1),rd("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new zp(t.firestore,t._key,e,!0,e instanceof As&&e.hasLocalMutations))}),r):t.getViaSnapshotListener(n,r,e)}))},qp.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),!o.exists&&o.metadata.fromCache?t(new Wr(zr.UNAVAILABLE,"Failed to get document because the client is offline.")):o.exists&&o.metadata.fromCache&&n&&"server"===n.source?t(new Wr(zr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(o)},error:t})},qp);function qp(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}var Bp=(Vp.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},Vp);function Vp(e,t){this.hasPendingWrites=e,this.fromCache=t}var zp=(Wp.prototype.data=function(e){return to("DocumentSnapshot.data",arguments,0,1),e=nd("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),Fa.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},Wp.prototype.get=function(e,t){if(to("DocumentSnapshot.get",arguments,1,2),t=nd("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(kp("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,Fa.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(Wp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Wp.prototype,"ref",{get:function(){return new Up(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Wp.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(Wp.prototype,"metadata",{get:function(){return new Bp(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),Wp.prototype.isEqual=function(e){if(!(e instanceof Wp))throw ho("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},Wp.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach((function(e,o){r[e]=n.convertValue(o,t)})),r},Wp.prototype.convertValue=function(e,t){if(e instanceof Ts)return this.convertObject(e,t);if(e instanceof Is)return this.convertArray(e,t);if(e instanceof ms){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||Mr("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Up(n,this._firestore)}return e.value(t)},Wp.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.convertValue(e,t)}))},Wp);function Wp(e,t,n,r,o){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=o}var Qp,Kp=(c(Gp,Qp=zp),Gp.prototype.data=function(e){var t=Qp.prototype.data.call(this,e);return jr("object"==typeof t,"Document in a QueryDocumentSnapshot should exist"),t},Gp);function Gp(){return null!==Qp&&Qp.apply(this,arguments)||this}var Hp=(Yp.prototype.where=function(e,t,n){Zr("Query.where",arguments,3),lo("Query.where",3,n),"in"!==t&&"array-contains-any"!==t&&function(e,t,n,r){if(!t.some((function(e){return e===r})))throw new Wr(zr.INVALID_ARGUMENT,"Invalid value "+co(r)+" provided to function Query.where() for its "+po(2)+" argument. Acceptable values: "+t.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,t);var r,o=kp("Query.where",e),i=Hl.fromString(t);if(o.isKeyField()){if(i===Hl.ARRAY_CONTAINS||i===Hl.ARRAY_CONTAINS_ANY)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i.toString()+"' queries on FieldPath.documentId().");if(i===Hl.IN){this.validateDisjunctiveFilterElements(n,i);for(var a=[],s=0,u=n;s<u.length;s++){var c=u[s];a.push(this.parseDocumentIdValue(c))}r=new Is(a)}else r=this.parseDocumentIdValue(n)}else i!==Hl.IN&&i!==Hl.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(n,i),r=this.firestore._dataConverter.parseQueryValue("Query.where",n);var l=Xl.create(o,i,r);return this.validateNewFilter(l),new Yp(this._query.addFilter(l),this.firestore)},Yp.prototype.orderBy=function(e,t){var n;if(to("Query.orderBy",arguments,1,2),ro("Query.orderBy","non-empty string",2,t),void 0===t||"asc"===t)n=yf.ASCENDING;else{if("desc"!==t)throw new Wr(zr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+t+"', expected 'asc' or 'desc'.");n=yf.DESCENDING}if(null!==this._query.startAt)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=kp("Query.orderBy",e),o=new bf(r,n);return this.validateNewOrderBy(o),new Yp(this._query.addOrderBy(o),this.firestore)},Yp.prototype.limit=function(e){if(Zr("Query.limit",arguments,1),no("Query.limit","number",1,e),e<=0)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new Yp(this._query.withLimit(e),this.firestore)},Yp.prototype.startAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];eo("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",e,t,!0);return new Yp(this._query.withStartAt(r),this.firestore)},Yp.prototype.startAfter=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];eo("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",e,t,!1);return new Yp(this._query.withStartAt(r),this.firestore)},Yp.prototype.endBefore=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];eo("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",e,t,!0);return new Yp(this._query.withEndAt(r),this.firestore)},Yp.prototype.endAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];eo("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",e,t,!1);return new Yp(this._query.withEndAt(r),this.firestore)},Yp.prototype.isEqual=function(e){if(!(e instanceof Yp))throw ho("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},Yp.prototype.boundFromDocOrFields=function(e,t,n,r){if(lo(e,1,t),t instanceof zp){if(0<n.length)throw new Wr(zr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var o=t;if(!o.exists)throw new Wr(zr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,o._document,r)}var i=[t].concat(n);return this.boundFromFields(e,i,r)},Yp.prototype.boundFromDocument=function(e,t,n){for(var r=[],o=0,i=this._query.orderBy;o<i.length;o++){var a=i[o];if(a.field.isKeyField())r.push(new ms(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof ls)throw new Wr(zr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new gf(r,n)},Yp.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new Wr(zr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<t.length;i++){var a=t[i];if(r[i].field.isKeyField()){if("string"!=typeof a)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(Lo.fromString(a));if(!Vo.isDocumentKey(s))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new Vo(s);o.push(new ms(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);o.push(c)}}return new gf(o,n)},Yp.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];to("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof e[o]||Gh(e[o])||(fo("Query.onSnapshot",r=e[o],["includeMetadataChanges"]),io("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++),n=Gh(e[o])?e[o]:(no("Query.onSnapshot","function",o,e[o]),ro("Query.onSnapshot","function",o+1,e[o+1]),ro("Query.onSnapshot","function",o+2,e[o+2]),{next:e[o],error:e[o+1],complete:e[o+2]}),this.onSnapshotInternal(r,n)},Yp.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var o=new Ph({next:function(e){t.next&&t.next(new $p(n.firestore,n._query,e))},error:r}),i=this.firestore.ensureClientConfigured(),a=i.listen(this._query,o,e);return function(){o.mute(),i.unlisten(a)}},Yp.prototype.get=function(e){var t=this;return to("Query.get",arguments,0,1),rd("Query.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new $p(t.firestore,t._query,e))}),r):t.getViaSnapshotListener(n,r,e)}))},Yp.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),o.metadata.fromCache&&n&&"server"===n.source?t(new Wr(zr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(o)},error:t})},Yp.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(Lo.fromString(e));if(!Vo.isDocumentKey(t))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new ms(this.firestore._databaseId,new Vo(t))}if(e instanceof Up){var n=e;return new ms(this.firestore._databaseId,n._key)}throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+co(e)+".")},Yp.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=e.indexOf(null))throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(0<e.filter((function(e){return Number.isNaN(e)})).length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},Yp.prototype.validateNewFilter=function(e){if(e instanceof Xl){var t=[Hl.ARRAY_CONTAINS,Hl.ARRAY_CONTAINS_ANY],n=[Hl.IN,Hl.ARRAY_CONTAINS_ANY],r=0<=t.indexOf(e.op),o=0<=n.indexOf(e.op);if(e.isInequality()){var i=this._query.getInequalityFilterField();if(null!==i&&!i.isEqual(e.field))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+i.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(o||r){var s=null;if(o&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new Wr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Wr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},Yp.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},Yp.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},Yp);function Yp(e,t){this._query=e,this.firestore=t}var $p=(Object.defineProperty(Xp.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(Xp.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(Xp.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),Xp.prototype.forEach=function(e,t){var n=this;to("QuerySnapshot.forEach",arguments,1,2),no("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(Xp.prototype,"query",{get:function(){return new Hp(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Xp.prototype.docChanges=function(e){e&&(fo("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),io("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new Wr(zr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,o=0;return n.docChanges.map((function(t){var i=new Kp(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return jr(t.type===ml.Added,"Invalid event type for first snapshot"),jr(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:i,oldIndex:-1,newIndex:o++}}))}var i=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==ml.Metadata})).map((function(t){var r=new Kp(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),o=-1,a=-1;return t.type!==ml.Added&&(jr(0<=(o=i.indexOf(t.doc.key)),"Index for document not found"),i=i.delete(t.doc.key)),t.type!==ml.Removed&&(a=(i=i.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case ml.Added:return"added";case ml.Modified:case ml.Metadata:return"modified";case ml.Removed:return"removed";default:return Fr("Unknown change type: "+e)}}(t.type),doc:r,oldIndex:o,newIndex:a}}))}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},Xp.prototype.isEqual=function(e){if(!(e instanceof Xp))throw ho("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},Xp.prototype.convertToDocumentImpl=function(e){return new Kp(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},Xp);function Xp(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Bp(n.hasPendingWrites,n.fromCache)}["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty($p.prototype.docChanges,e,{get:function(){return function(){throw new Wr(zr.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var Jp,Zp=(c(ed,Jp=Hp),Object.defineProperty(ed.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(ed.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Up(new Vo(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(ed.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),ed.prototype.doc=function(e){if(to("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=mo.newId()),no("CollectionReference.doc","non-empty string",1,e),""===e)throw new Wr(zr.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=Lo.fromString(e);return Up.forPath(this._query.path.child(t),this.firestore)},ed.prototype.add=function(e){Zr("CollectionReference.add",arguments,1),no("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},ed);function ed(e,t){var n=Jp.call(this,Kl.atPath(e),t)||this;if(e.length%2!=1)throw new Wr(zr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return n}function td(e,t){if(void 0===t)return{merge:!1};if(fo(e,t,["merge","mergeFields"]),io(e,"boolean","merge",t.merge),function(e,t,n,r,o){void 0!==r&&function(e,t,n,r,o){if(!(r instanceof Array))throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+co(r));for(var i=0;i<r.length;++i)if(!o(r[i]))throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+i+" was: "+co(r[i]))}(e,t,n,r,o)}(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(e){return"string"==typeof e||e instanceof Mh})),void 0!==t.mergeFields&&void 0!==t.merge)throw new Wr(zr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function nd(e,t){return void 0===t?{}:(fo(e,t,["serverTimestamps"]),ao(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function rd(e,t){ro(e,"object",1,t),t&&(fo(e,t,["source"]),ao(e,0,"source",t.source,["default","server","cache"]))}function od(e,t,n){if(t instanceof Up){if(t.firestore!==n)throw new Wr(zr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw ho(e,"DocumentReference",1,t)}var id=Kr(Pp,"Use firebase.firestore() instead."),ad=Kr(Mp,"Use firebase.firestore().runTransaction() instead."),sd=Kr(Fp,"Use firebase.firestore().batch() instead."),ud=Kr(Up,"Use firebase.firestore().doc() instead."),cd=Kr(zp),ld=Kr(Kp),fd=Kr(Hp),hd=Kr($p),pd=Kr(Zp,"Use firebase.firestore().collection() instead."),dd={Firestore:id,GeoPoint:Wl,Timestamp:ti,Blob:Io,Transaction:ad,WriteBatch:sd,DocumentReference:ud,DocumentSnapshot:cd,Query:fd,QueryDocumentSnapshot:ld,QuerySnapshot:hd,CollectionReference:pd,FieldPath:Mh,FieldValue:fp,setLogLevel:Pp.setLogLevel,CACHE_SIZE_UNLIMITED:Ap},yd=(md.prototype.addCallback=function(e){},md.prototype.shutdown=function(){},md);function md(){}var gd="ConnectivityMonitor",vd=(bd.prototype.addCallback=function(e){this.callbacks.push(e)},bd.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},bd.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},bd.prototype.onNetworkAvailable=function(){Rr(gd,"Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(0)},bd.prototype.onNetworkUnavailable=function(){Rr(gd,"Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(1)},bd.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},bd);function bd(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}var wd=(Ed.prototype.onOpen=function(e){jr(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},Ed.prototype.onClose=function(e){jr(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},Ed.prototype.onMessage=function(e){jr(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},Ed.prototype.close=function(){this.closeFn()},Ed.prototype.send=function(e){this.sendFn(e)},Ed.prototype.callOnOpen=function(){jr(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},Ed.prototype.callOnClose=function(e){jr(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},Ed.prototype.callOnMessage=function(e){jr(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},Ed);function Ed(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}var Td="Connection",Sd={BatchGetDocuments:"batchGet",Commit:"commit"},Cd="gl-js/ fire/"+Ar,Id=(_d.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=Cd},_d.prototype.invokeRPC=function(e,t,n){var r=this,o=this.makeUrl(e);return new Promise((function(i,a){var s=new Dr;s.listenOnce(kr.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case _r.NO_ERROR:var t=s.getResponseJson();Rr(Td,"XHR received:",JSON.stringify(t)),i(t);break;case _r.TIMEOUT:Rr(Td,'RPC "'+e+'" timed out'),a(new Wr(zr.DEADLINE_EXCEEDED,"Request time out"));break;case _r.HTTP_ERROR:var n=s.getStatus();if(Rr(Td,'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),0<n){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var o=function(e){var t=e.toLowerCase().replace("_","-");return 0<=Object.values(zr).indexOf(t)?t:zr.UNKNOWN}(r.status);a(new Wr(o,r.message))}else a(new Wr(zr.UNKNOWN,"Server responded with status "+s.getStatus()))}else Rr(Td,'RPC "'+e+'" failed'),a(new Wr(zr.UNAVAILABLE,"Connection failed."));break;default:Fr('RPC "'+e+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{Rr(Td,'RPC "'+e+'" completed.')}}));var u=JSON.stringify(t);Rr(Td,"XHR sending: ",o+" "+u);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),s.send(o,"POST",u,c,15)}))},_d.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},_d.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Ir(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(o.initMessageHeaders,t),"object"==typeof navigator&&"ReactNative"===navigator.product||(o.httpHeadersOverwriteParam="$httpHeaders");var i=n.join("");function a(e,t){s.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))}Rr(Td,"Creating WebChannel: "+i+" "+o);var s=r.createWebChannel(i,o),u=!1,c=!1,l=new wd({sendFn:function(e){c?Rr(Td,"Not sending because WebChannel is closed:",e):(u||(Rr(Td,"Opening WebChannel transport."),s.open(),u=!0),Rr(Td,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}});return a(Nr.EventType.OPEN,(function(){c||Rr(Td,"WebChannel transport opened.")})),a(Nr.EventType.CLOSE,(function(){c||(c=!0,Rr(Td,"WebChannel transport closed"),l.callOnClose())})),a(Nr.EventType.ERROR,(function(e){c||(c=!0,Rr(Td,"WebChannel transport errored:",e),l.callOnClose(new Wr(zr.UNAVAILABLE,"The operation could not be completed")))})),a(Nr.EventType.MESSAGE,(function(e){if(!c){var t=e.data[0];jr(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){Rr(Td,"WebChannel received error:",r);var o=r.status,i=function(e){var t=ll[e];if(void 0!==t)return yl(t)}(o),a=r.message;void 0===i&&(i=zr.INTERNAL,a="Unknown error status: "+o+" with message "+r.message),c=!0,l.callOnClose(new Wr(i,a)),s.close()}else Rr(Td,"WebChannel received:",t),l.callOnMessage(t)}})),setTimeout((function(){l.callOnOpen()}),0),l},_d.prototype.makeUrl=function(e){var t=Sd[e];jr(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},_d);function _d(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}var kd=(Object.defineProperty(Nd.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(Nd.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),Nd.prototype.loadConnection=function(e){return Promise.resolve(new Id(e))},Nd.prototype.newConnectivityMonitor=function(){return vd.isAvailable()?new vd:new yd},Nd.prototype.newSerializer=function(e){return new Bf(e,{useProto3Json:!0})},Nd.prototype.formatJSON=function(e){return JSON.stringify(e)},Nd.prototype.atob=function(e){return atob(e)},Nd.prototype.btoa=function(e){return btoa(e)},Nd);function Nd(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}Ur.setPlatform(new kd),function(e){e.INTERNAL.registerService("firestore",(function(e){return new Pp(e)}),function(e){jr(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(dd))}(t)}).apply(this,arguments)}catch(n){throw console.error(n),new Error("Cannot instantiate firebase-firestore - be sure to load firebase-app.js first.")}}(n(57))}).call(this,n(21))}]]);
//# sourceMappingURL=2.d5a6642d.chunk.js.map