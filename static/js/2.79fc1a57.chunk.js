/*! For license information please see 2.79fc1a57.chunk.js.LICENSE.txt */
(this.webpackJsonpresume=this.webpackJsonpresume||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(31)},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){(function(e,r){var i;(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Object]",g="[object RegExp]",b="[object Set]",w="[object String]",E="[object Symbol]",T="[object WeakMap]",S="[object ArrayBuffer]",_="[object DataView]",C="[object Float32Array]",I="[object Float64Array]",k="[object Int8Array]",N="[object Int16Array]",D="[object Int32Array]",A="[object Uint8Array]",x="[object Uint16Array]",O="[object Uint32Array]",R=/\b__p \+= '';/g,P=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,U=RegExp(L.source),q=RegExp(F.source),B=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,G=RegExp(K.source),H=/^\s+|\s+$/g,Y=/^\s+/,$=/\s+$/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="[\\ud800-\\udfff]",me="["+pe+"]",ye="["+he+"]",ve="\\d+",ge="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",we="[^\\ud800-\\udfff"+pe+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ee="\\ud83c[\\udffb-\\udfff]",Te="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",_e="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ie="(?:"+be+"|"+we+")",ke="(?:"+Ce+"|"+we+")",Ne="(?:"+ye+"|"+Ee+")"+"?",De="[\\ufe0e\\ufe0f]?"+Ne+("(?:\\u200d(?:"+[Te,Se,_e].join("|")+")[\\ufe0e\\ufe0f]?"+Ne+")*"),Ae="(?:"+[ge,Se,_e].join("|")+")"+De,xe="(?:"+[Te+ye+"?",ye,Se,_e,de].join("|")+")",Oe=RegExp("['\u2019]","g"),Re=RegExp(ye,"g"),Pe=RegExp(Ee+"(?="+Ee+")|"+xe+De,"g"),Me=RegExp([Ce+"?"+be+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[me,Ce,"$"].join("|")+")",ke+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[me,Ce+Ie,"$"].join("|")+")",Ce+"?"+Ie+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ce+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Ae].join("|"),"g"),Le=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Fe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ue=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qe=-1,Be={};Be[C]=Be[I]=Be[k]=Be[N]=Be[D]=Be[A]=Be["[object Uint8ClampedArray]"]=Be[x]=Be[O]=!0,Be[u]=Be[c]=Be[S]=Be[l]=Be[_]=Be[f]=Be[h]=Be[p]=Be[m]=Be[y]=Be[v]=Be[g]=Be[b]=Be[w]=Be[T]=!1;var Ve={};Ve[u]=Ve[c]=Ve[S]=Ve[_]=Ve[l]=Ve[f]=Ve[C]=Ve[I]=Ve[k]=Ve[N]=Ve[D]=Ve[m]=Ve[y]=Ve[v]=Ve[g]=Ve[b]=Ve[w]=Ve[E]=Ve[A]=Ve["[object Uint8ClampedArray]"]=Ve[x]=Ve[O]=!0,Ve[h]=Ve[p]=Ve[T]=!1;var je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ze=parseFloat,We=parseInt,Qe="object"==typeof e&&e&&e.Object===Object&&e,Ke="object"==typeof self&&self&&self.Object===Object&&self,Ge=Qe||Ke||Function("return this")(),He=t&&!t.nodeType&&t,Ye=He&&"object"==typeof r&&r&&!r.nodeType&&r,$e=Ye&&Ye.exports===He,Xe=$e&&Qe.process,Je=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(t){}}(),Ze=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,rt=Je&&Je.isSet,it=Je&&Je.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function at(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function ft(e,t){return!!(null==e?0:e.length)&&Et(e,t,0)>-1}function ht(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function mt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function yt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gt=Ct("length");function bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function wt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Et(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):wt(e,St,n)}function Tt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function St(e){return e!==e}function _t(e,t){var n=null==e?0:e.length;return n?Nt(e,t)/n:NaN}function Ct(e){return function(t){return null==t?void 0:t[e]}}function It(e){return function(t){return null==e?void 0:e[t]}}function kt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Nt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Dt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function At(e){return function(t){return e(t)}}function xt(e,t){return pt(t,(function(t){return e[t]}))}function Ot(e,t){return e.has(t)}function Rt(e,t){for(var n=-1,r=e.length;++n<r&&Et(t,e[n],0)>-1;);return n}function Pt(e,t){for(var n=e.length;n--&&Et(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Lt=It({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Ft=It({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ut(e){return"\\"+je[e]}function qt(e){return Le.test(e)}function Bt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Vt(e,t){return function(n){return e(t(n))}}function jt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Wt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Qt(e){return qt(e)?function(e){var t=Pe.lastIndex=0;for(;Pe.test(e);)++t;return t}(e):gt(e)}function Kt(e){return qt(e)?function(e){return e.match(Pe)||[]}(e):function(e){return e.split("")}(e)}var Gt=It({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ht=function e(t){var n=(t=null==t?Ge:Ht.defaults(Ge.Object(),t,Ht.pick(Ge,Ue))).Array,r=t.Date,i=t.Error,he=t.Function,pe=t.Math,de=t.Object,me=t.RegExp,ye=t.String,ve=t.TypeError,ge=n.prototype,be=he.prototype,we=de.prototype,Ee=t["__core-js_shared__"],Te=be.toString,Se=we.hasOwnProperty,_e=0,Ce=function(){var e=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ie=we.toString,ke=Te.call(de),Ne=Ge._,De=me("^"+Te.call(Se).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=$e?t.Buffer:void 0,xe=t.Symbol,Pe=t.Uint8Array,Le=Ae?Ae.allocUnsafe:void 0,je=Vt(de.getPrototypeOf,de),Qe=de.create,Ke=we.propertyIsEnumerable,He=ge.splice,Ye=xe?xe.isConcatSpreadable:void 0,Xe=xe?xe.iterator:void 0,Je=xe?xe.toStringTag:void 0,gt=function(){try{var e=Ji(de,"defineProperty");return e({},"",{}),e}catch(t){}}(),It=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Yt=r&&r.now!==Ge.Date.now&&r.now,$t=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Xt=pe.ceil,Jt=pe.floor,Zt=de.getOwnPropertySymbols,en=Ae?Ae.isBuffer:void 0,tn=t.isFinite,nn=ge.join,rn=Vt(de.keys,de),on=pe.max,an=pe.min,sn=r.now,un=t.parseInt,cn=pe.random,ln=ge.reverse,fn=Ji(t,"DataView"),hn=Ji(t,"Map"),pn=Ji(t,"Promise"),dn=Ji(t,"Set"),mn=Ji(t,"WeakMap"),yn=Ji(de,"create"),vn=mn&&new mn,gn={},bn=Io(fn),wn=Io(hn),En=Io(pn),Tn=Io(dn),Sn=Io(mn),_n=xe?xe.prototype:void 0,Cn=_n?_n.valueOf:void 0,In=_n?_n.toString:void 0;function kn(e){if(za(e)&&!Oa(e)&&!(e instanceof xn)){if(e instanceof An)return e;if(Se.call(e,"__wrapped__"))return ko(e)}return new An(e)}var Nn=function(){function e(){}return function(t){if(!ja(t))return{};if(Qe)return Qe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Dn(){}function An(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function xn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function On(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Pn;++t<n;)this.add(e[t])}function Ln(e){var t=this.__data__=new Rn(e);this.size=t.size}function Fn(e,t){var n=Oa(e),r=!n&&xa(e),i=!n&&!r&&La(e),o=!n&&!r&&!i&&Xa(e),a=n||r||i||o,s=a?Dt(e.length,ye):[],u=s.length;for(var c in e)!t&&!Se.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oo(c,u))||s.push(c);return s}function Un(e){var t=e.length;return t?e[Mr(0,t-1)]:void 0}function qn(e,t){return So(yi(e),Hn(t,0,e.length))}function Bn(e){return So(yi(e))}function Vn(e,t,n){(void 0!==n&&!Na(e[t],n)||void 0===n&&!(t in e))&&Kn(e,t,n)}function jn(e,t,n){var r=e[t];Se.call(e,t)&&Na(r,n)&&(void 0!==n||t in e)||Kn(e,t,n)}function zn(e,t){for(var n=e.length;n--;)if(Na(e[n][0],t))return n;return-1}function Wn(e,t,n,r){return Zn(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Qn(e,t){return e&&vi(t,bs(t),e)}function Kn(e,t,n){"__proto__"==t&&gt?gt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Gn(e,t){for(var r=-1,i=t.length,o=n(i),a=null==e;++r<i;)o[r]=a?void 0:ds(e,t[r]);return o}function Hn(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Yn(e,t,n,r,i,o){var a,s=1&t,c=2&t,h=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!ja(e))return e;var T=Oa(e);if(T){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return yi(e,a)}else{var R=to(e),P=R==p||R==d;if(La(e))return li(e,s);if(R==v||R==u||P&&!i){if(a=c||P?{}:ro(e),!s)return c?function(e,t){return vi(e,eo(e),t)}(e,function(e,t){return e&&vi(t,ws(t),e)}(a,e)):function(e,t){return vi(e,Zi(e),t)}(e,Qn(a,e))}else{if(!Ve[R])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case S:return fi(e);case l:case f:return new r(+e);case _:return function(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case C:case I:case k:case N:case D:case A:case"[object Uint8ClampedArray]":case x:case O:return hi(e,n);case m:return new r;case y:case w:return new r(e);case g:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new r;case E:return i=e,Cn?de(Cn.call(i)):{}}var i}(e,R,s)}}o||(o=new Ln);var M=o.get(e);if(M)return M;o.set(e,a),Ha(e)?e.forEach((function(r){a.add(Yn(r,t,n,r,e,o))})):Wa(e)&&e.forEach((function(r,i){a.set(i,Yn(r,t,n,i,e,o))}));var L=T?void 0:(h?c?Qi:Wi:c?ws:bs)(e);return st(L||e,(function(r,i){L&&(r=e[i=r]),jn(a,i,Yn(r,t,n,i,e,o))})),a}function $n(e,t,n){var r=n.length;if(null==e)return!r;for(e=de(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function Xn(e,t,n){if("function"!=typeof e)throw new ve(o);return bo((function(){e.apply(void 0,n)}),t)}function Jn(e,t,n,r){var i=-1,o=ft,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=pt(t,At(n))),r?(o=ht,a=!1):t.length>=200&&(o=Ot,a=!1,t=new Mn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}kn.templateSettings={escape:B,evaluate:V,interpolate:j,variable:"",imports:{_:kn}},kn.prototype=Dn.prototype,kn.prototype.constructor=kn,An.prototype=Nn(Dn.prototype),An.prototype.constructor=An,xn.prototype=Nn(Dn.prototype),xn.prototype.constructor=xn,On.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},On.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},On.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},On.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Se.call(t,e)},On.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Rn.prototype.clear=function(){this.__data__=[],this.size=0},Rn.prototype.delete=function(e){var t=this.__data__,n=zn(t,e);return!(n<0)&&(n==t.length-1?t.pop():He.call(t,n,1),--this.size,!0)},Rn.prototype.get=function(e){var t=this.__data__,n=zn(t,e);return n<0?void 0:t[n][1]},Rn.prototype.has=function(e){return zn(this.__data__,e)>-1},Rn.prototype.set=function(e,t){var n=this.__data__,r=zn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Pn.prototype.clear=function(){this.size=0,this.__data__={hash:new On,map:new(hn||Rn),string:new On}},Pn.prototype.delete=function(e){var t=$i(this,e).delete(e);return this.size-=t?1:0,t},Pn.prototype.get=function(e){return $i(this,e).get(e)},Pn.prototype.has=function(e){return $i(this,e).has(e)},Pn.prototype.set=function(e,t){var n=$i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Mn.prototype.add=Mn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Mn.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.clear=function(){this.__data__=new Rn,this.size=0},Ln.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ln.prototype.get=function(e){return this.__data__.get(e)},Ln.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Rn){var r=n.__data__;if(!hn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pn(r)}return n.set(e,t),this.size=n.size,this};var Zn=wi(sr),er=wi(ur,!0);function tr(e,t){var n=!0;return Zn(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function nr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a===a&&!$a(a):n(a,s)))var s=a,u=o}return u}function rr(e,t){var n=[];return Zn(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ir(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=io),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ir(s,t-1,n,r,i):dt(i,s):r||(i[i.length]=s)}return i}var or=Ei(),ar=Ei(!0);function sr(e,t){return e&&or(e,t,bs)}function ur(e,t){return e&&ar(e,t,bs)}function cr(e,t){return lt(t,(function(t){return qa(e[t])}))}function lr(e,t){for(var n=0,r=(t=ai(t,e)).length;null!=e&&n<r;)e=e[Co(t[n++])];return n&&n==r?e:void 0}function fr(e,t,n){var r=t(e);return Oa(e)?r:dt(r,n(e))}function hr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in de(e)?function(e){var t=Se.call(e,Je),n=e[Je];try{e[Je]=void 0;var r=!0}catch(o){}var i=Ie.call(e);r&&(t?e[Je]=n:delete e[Je]);return i}(e):function(e){return Ie.call(e)}(e)}function pr(e,t){return e>t}function dr(e,t){return null!=e&&Se.call(e,t)}function mr(e,t){return null!=e&&t in de(e)}function yr(e,t,r){for(var i=r?ht:ft,o=e[0].length,a=e.length,s=a,u=n(a),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=pt(f,At(t))),c=an(f.length,c),u[s]=!r&&(t||o>=120&&f.length>=120)?new Mn(s&&f):void 0}f=e[0];var h=-1,p=u[0];e:for(;++h<o&&l.length<c;){var d=f[h],m=t?t(d):d;if(d=r||0!==d?d:0,!(p?Ot(p,m):i(l,m,r))){for(s=a;--s;){var y=u[s];if(!(y?Ot(y,m):i(e[s],m,r)))continue e}p&&p.push(m),l.push(d)}}return l}function vr(e,t,n){var r=null==(e=mo(e,t=ai(t,e)))?e:e[Co(Uo(t))];return null==r?void 0:ot(r,e,n)}function gr(e){return za(e)&&hr(e)==u}function br(e,t,n,r,i){return e===t||(null==e||null==t||!za(e)&&!za(t)?e!==e&&t!==t:function(e,t,n,r,i,o){var a=Oa(e),s=Oa(t),p=a?c:to(e),d=s?c:to(t),T=(p=p==u?v:p)==v,C=(d=d==u?v:d)==v,I=p==d;if(I&&La(e)){if(!La(t))return!1;a=!0,T=!1}if(I&&!T)return o||(o=new Ln),a||Xa(e)?ji(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!o(new Pe(e),new Pe(t)));case l:case f:case y:return Na(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case w:return e==t+"";case m:var s=Bt;case b:var u=1&r;if(s||(s=zt),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var p=ji(s(e),s(t),r,i,o,a);return a.delete(e),p;case E:if(Cn)return Cn.call(e)==Cn.call(t)}return!1}(e,t,p,n,r,i,o);if(!(1&n)){var k=T&&Se.call(e,"__wrapped__"),N=C&&Se.call(t,"__wrapped__");if(k||N){var D=k?e.value():e,A=N?t.value():t;return o||(o=new Ln),i(D,A,n,r,o)}}if(!I)return!1;return o||(o=new Ln),function(e,t,n,r,i,o){var a=1&n,s=Wi(e),u=s.length,c=Wi(t).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var f=s[l];if(!(a?f in t:Se.call(t,f)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var p=!0;o.set(e,t),o.set(t,e);var d=a;for(;++l<u;){f=s[l];var m=e[f],y=t[f];if(r)var v=a?r(y,m,f,t,e,o):r(m,y,f,e,t,o);if(!(void 0===v?m===y||i(m,y,n,r,o):v)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o)}(e,t,n,r,br,i))}function wr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=de(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new Ln;if(r)var h=r(c,l,u,e,t,f);if(!(void 0===h?br(l,c,3,r,f):h))return!1}}return!0}function Er(e){return!(!ja(e)||(t=e,Ce&&Ce in t))&&(qa(e)?De:ae).test(Io(e));var t}function Tr(e){return"function"==typeof e?e:null==e?Qs:"object"==typeof e?Oa(e)?Nr(e[0],e[1]):kr(e):eu(e)}function Sr(e){if(!lo(e))return rn(e);var t=[];for(var n in de(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function _r(e){if(!ja(e))return function(e){var t=[];if(null!=e)for(var n in de(e))t.push(n);return t}(e);var t=lo(e),n=[];for(var r in e)("constructor"!=r||!t&&Se.call(e,r))&&n.push(r);return n}function Cr(e,t){return e<t}function Ir(e,t){var r=-1,i=Pa(e)?n(e.length):[];return Zn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function kr(e){var t=Xi(e);return 1==t.length&&t[0][2]?ho(t[0][0],t[0][1]):function(n){return n===e||wr(n,e,t)}}function Nr(e,t){return so(e)&&fo(t)?ho(Co(e),t):function(n){var r=ds(n,e);return void 0===r&&r===t?ms(n,e):br(t,r,3)}}function Dr(e,t,n,r,i){e!==t&&or(t,(function(o,a){if(i||(i=new Ln),ja(o))!function(e,t,n,r,i,o,a){var s=vo(e,n),u=vo(t,n),c=a.get(u);if(c)return void Vn(e,n,c);var l=o?o(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var h=Oa(u),p=!h&&La(u),d=!h&&!p&&Xa(u);l=u,h||p||d?Oa(s)?l=s:Ma(s)?l=yi(s):p?(f=!1,l=li(u,!0)):d?(f=!1,l=hi(u,!0)):l=[]:Ka(u)||xa(u)?(l=s,xa(s)?l=os(s):ja(s)&&!qa(s)||(l=ro(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u));Vn(e,n,l)}(e,t,a,n,Dr,r,i);else{var s=r?r(vo(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),Vn(e,a,s)}}),ws)}function Ar(e,t){var n=e.length;if(n)return oo(t+=t<0?n:0,n)?e[t]:void 0}function xr(e,t,n){var r=-1;return t=pt(t.length?t:[Qs],At(Yi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ir(e,(function(e,n,i){return{criteria:pt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=pi(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Or(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=lr(e,a);n(s,a)&&Br(o,ai(a,e),s)}return o}function Rr(e,t,n,r){var i=r?Tt:Et,o=-1,a=t.length,s=e;for(e===t&&(t=yi(t)),n&&(s=pt(e,At(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&He.call(s,u,1),He.call(e,u,1);return e}function Pr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;oo(i)?He.call(e,i,1):Jr(e,i)}}return e}function Mr(e,t){return e+Jt(cn()*(t-e+1))}function Lr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Jt(t/2))&&(e+=e)}while(t);return n}function Fr(e,t){return wo(po(e,t,Qs),e+"")}function Ur(e){return Un(Ns(e))}function qr(e,t){var n=Ns(e);return So(n,Hn(t,0,n.length))}function Br(e,t,n,r){if(!ja(e))return e;for(var i=-1,o=(t=ai(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=Co(t[i]),c=n;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=ja(l)?l:oo(t[i+1])?[]:{})}jn(s,u,c),s=s[u]}return e}var Vr=vn?function(e,t){return vn.set(e,t),e}:Qs,jr=gt?function(e,t){return gt(e,"toString",{configurable:!0,enumerable:!1,value:js(t),writable:!0})}:Qs;function zr(e){return So(Ns(e))}function Wr(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function Qr(e,t){var n;return Zn(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Kr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!$a(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Gr(e,t,Qs,n)}function Gr(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!==t,s=null===t,u=$a(t),c=void 0===t;i<o;){var l=Jt((i+o)/2),f=n(e[l]),h=void 0!==f,p=null===f,d=f===f,m=$a(f);if(a)var y=r||d;else y=c?d&&(r||h):s?d&&h&&(r||!p):u?d&&h&&!p&&(r||!m):!p&&!m&&(r?f<=t:f<t);y?i=l+1:o=l}return an(o,4294967294)}function Hr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Na(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Yr(e){return"number"==typeof e?e:$a(e)?NaN:+e}function $r(e){if("string"==typeof e)return e;if(Oa(e))return pt(e,$r)+"";if($a(e))return In?In.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Xr(e,t,n){var r=-1,i=ft,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=ht;else if(o>=200){var c=t?null:Li(e);if(c)return zt(c);a=!1,i=Ot,u=new Mn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function Jr(e,t){return null==(e=mo(e,t=ai(t,e)))||delete e[Co(Uo(t))]}function Zr(e,t,n,r){return Br(e,t,n(lr(e,t)),r)}function ei(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Wr(e,r?0:o,r?o+1:i):Wr(e,r?o+1:0,r?i:o)}function ti(e,t){var n=e;return n instanceof xn&&(n=n.value()),mt(t,(function(e,t){return t.func.apply(t.thisArg,dt([e],t.args))}),n)}function ni(e,t,r){var i=e.length;if(i<2)return i?Xr(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Jn(a[o]||s,e[u],t,r));return Xr(ir(a,1),t,r)}function ri(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}function ii(e){return Ma(e)?e:[]}function oi(e){return"function"==typeof e?e:Qs}function ai(e,t){return Oa(e)?e:so(e,t)?[e]:_o(as(e))}var si=Fr;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Wr(e,t,n)}var ci=It||function(e){return Ge.clearTimeout(e)};function li(e,t){if(t)return e.slice();var n=e.length,r=Le?Le(n):new e.constructor(n);return e.copy(r),r}function fi(e){var t=new e.constructor(e.byteLength);return new Pe(t).set(new Pe(e)),t}function hi(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function pi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,o=$a(e),a=void 0!==t,s=null===t,u=t===t,c=$a(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function di(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=on(a-s,0),f=n(c+l),h=!i;++u<c;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function mi(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=on(a-u,0),h=n(f+l),p=!i;++o<f;)h[o]=e[o];for(var d=o;++c<l;)h[d+c]=t[c];for(;++s<u;)(p||o<a)&&(h[d+r[s]]=e[o++]);return h}function yi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function vi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Kn(n,s,u):jn(n,s,u)}return n}function gi(e,t){return function(n,r){var i=Oa(n)?at:Wn,o=t?t():{};return i(n,e,Yi(r,2),o)}}function bi(e){return Fr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&ao(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=de(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}function wi(e,t){return function(n,r){if(null==n)return n;if(!Pa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=de(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ei(e){return function(t,n,r){for(var i=-1,o=de(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Ti(e){return function(t){var n=qt(t=as(t))?Kt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function Si(e){return function(t){return mt(qs(xs(t).replace(Oe,"")),e,"")}}function _i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Nn(e.prototype),r=e.apply(n,t);return ja(r)?r:n}}function Ci(e){return function(t,n,r){var i=de(t);if(!Pa(t)){var o=Yi(n,3);t=bs(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}function Ii(e){return zi((function(t){var n=t.length,r=n,i=An.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ve(o);if(i&&!s&&"wrapper"==Gi(a))var s=new An([],!0)}for(r=s?r:n;++r<n;){var u=Gi(a=t[r]),c="wrapper"==u?Ki(a):void 0;s=c&&uo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Gi(c[0])].apply(s,c[3]):1==a.length&&uo(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Oa(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ki(e,t,r,i,o,a,s,u,c,l){var f=128&t,h=1&t,p=2&t,d=24&t,m=512&t,y=p?void 0:_i(e);return function v(){for(var g=arguments.length,b=n(g),w=g;w--;)b[w]=arguments[w];if(d)var E=Hi(v),T=Mt(b,E);if(i&&(b=di(b,i,o,d)),a&&(b=mi(b,a,s,d)),g-=T,d&&g<l){var S=jt(b,E);return Pi(e,t,ki,v.placeholder,r,b,S,u,c,l-g)}var _=h?r:this,C=p?_[e]:e;return g=b.length,u?b=yo(b,u):m&&g>1&&b.reverse(),f&&c<g&&(b.length=c),this&&this!==Ge&&this instanceof v&&(C=y||_i(C)),C.apply(_,b)}}function Ni(e,t){return function(n,r){return function(e,t,n,r){return sr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Di(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=$r(n),r=$r(r)):(n=Yr(n),r=Yr(r)),i=e(n,r)}return i}}function Ai(e){return zi((function(t){return t=pt(t,At(Yi())),Fr((function(n){var r=this;return e(t,(function(e){return ot(e,r,n)}))}))}))}function xi(e,t){var n=(t=void 0===t?" ":$r(t)).length;if(n<2)return n?Lr(t,e):t;var r=Lr(t,Xt(e/Qt(t)));return qt(t)?ui(Kt(r),0,e).join(""):r.slice(0,e)}function Oi(e){return function(t,r,i){return i&&"number"!=typeof i&&ao(t,r,i)&&(r=i=void 0),t=ts(t),void 0===r?(r=t,t=0):r=ts(r),function(e,t,r,i){for(var o=-1,a=on(Xt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,i=void 0===i?t<r?1:-1:ts(i),e)}}function Ri(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=is(t),n=is(n)),e(t,n)}}function Pi(e,t,n,r,i,o,a,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return uo(e)&&go(h,f),h.placeholder=r,Eo(h,e,t)}function Mi(e){var t=pe[e];return function(e,n){if(e=is(e),(n=null==n?0:an(ns(n),292))&&tn(e)){var r=(as(e)+"e").split("e");return+((r=(as(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Li=dn&&1/zt(new dn([,-0]))[1]==1/0?function(e){return new dn(e)}:$s;function Fi(e){return function(t){var n=to(t);return n==m?Bt(t):n==b?Wt(t):function(e,t){return pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ui(e,t,r,i,s,u,c,l){var f=2&t;if(!f&&"function"!=typeof e)throw new ve(o);var h=i?i.length:0;if(h||(t&=-97,i=s=void 0),c=void 0===c?c:on(ns(c),0),l=void 0===l?l:ns(l),h-=s?s.length:0,64&t){var p=i,d=s;i=s=void 0}var m=f?void 0:Ki(e),y=[e,t,r,i,s,p,d,u,c,l];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?di(c,u,t[4]):u,e[4]=c?jt(e[3],a):t[4]}(u=t[5])&&(c=e[5],e[5]=c?mi(c,u,t[6]):u,e[6]=c?jt(e[5],a):t[6]);(u=t[7])&&(e[7]=u);128&r&&(e[8]=null==e[8]?t[8]:an(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(y,m),e=y[0],t=y[1],r=y[2],i=y[3],s=y[4],!(l=y[9]=void 0===y[9]?f?0:e.length:on(y[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,r){var i=_i(e);return function o(){for(var a=arguments.length,s=n(a),u=a,c=Hi(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:jt(s,c);if((a-=l.length)<r)return Pi(e,t,ki,o.placeholder,void 0,s,l,void 0,void 0,r-a);var f=this&&this!==Ge&&this instanceof o?i:e;return ot(f,this,s)}}(e,t,l):32!=t&&33!=t||s.length?ki.apply(void 0,y):function(e,t,r,i){var o=1&t,a=_i(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),h=this&&this!==Ge&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return ot(h,o?r:this,f)}}(e,t,r,i);else var v=function(e,t,n){var r=1&t,i=_i(e);return function t(){var o=this&&this!==Ge&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,r);return Eo((m?Vr:go)(v,y),e,t)}function qi(e,t,n,r){return void 0===e||Na(e,we[n])&&!Se.call(r,n)?t:e}function Bi(e,t,n,r,i,o){return ja(e)&&ja(t)&&(o.set(t,e),Dr(e,t,void 0,Bi,o),o.delete(t)),e}function Vi(e){return Ka(e)?void 0:e}function ji(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,f=!0,h=2&n?new Mn:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var p=e[l],d=t[l];if(r)var m=a?r(d,p,l,t,e,o):r(p,d,l,e,t,o);if(void 0!==m){if(m)continue;f=!1;break}if(h){if(!vt(t,(function(e,t){if(!Ot(h,t)&&(p===e||i(p,e,n,r,o)))return h.push(t)}))){f=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function zi(e){return wo(po(e,void 0,Ro),e+"")}function Wi(e){return fr(e,bs,Zi)}function Qi(e){return fr(e,ws,eo)}var Ki=vn?function(e){return vn.get(e)}:$s;function Gi(e){for(var t=e.name+"",n=gn[t],r=Se.call(gn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Hi(e){return(Se.call(kn,"placeholder")?kn:e).placeholder}function Yi(){var e=kn.iteratee||Ks;return e=e===Ks?Tr:e,arguments.length?e(arguments[0],arguments[1]):e}function $i(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Xi(e){for(var t=bs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fo(i)]}return t}function Ji(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Er(n)?n:void 0}var Zi=Zt?function(e){return null==e?[]:(e=de(e),lt(Zt(e),(function(t){return Ke.call(e,t)})))}:ru,eo=Zt?function(e){for(var t=[];e;)dt(t,Zi(e)),e=je(e);return t}:ru,to=hr;function no(e,t,n){for(var r=-1,i=(t=ai(t,e)).length,o=!1;++r<i;){var a=Co(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Va(i)&&oo(a,i)&&(Oa(e)||xa(e))}function ro(e){return"function"!=typeof e.constructor||lo(e)?{}:Nn(je(e))}function io(e){return Oa(e)||xa(e)||!!(Ye&&e&&e[Ye])}function oo(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ue.test(e))&&e>-1&&e%1==0&&e<t}function ao(e,t,n){if(!ja(n))return!1;var r=typeof t;return!!("number"==r?Pa(n)&&oo(t,n.length):"string"==r&&t in n)&&Na(n[t],e)}function so(e,t){if(Oa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!$a(e))||(W.test(e)||!z.test(e)||null!=t&&e in de(t))}function uo(e){var t=Gi(e),n=kn[t];if("function"!=typeof n||!(t in xn.prototype))return!1;if(e===n)return!0;var r=Ki(n);return!!r&&e===r[0]}(fn&&to(new fn(new ArrayBuffer(1)))!=_||hn&&to(new hn)!=m||pn&&"[object Promise]"!=to(pn.resolve())||dn&&to(new dn)!=b||mn&&to(new mn)!=T)&&(to=function(e){var t=hr(e),n=t==v?e.constructor:void 0,r=n?Io(n):"";if(r)switch(r){case bn:return _;case wn:return m;case En:return"[object Promise]";case Tn:return b;case Sn:return T}return t});var co=Ee?qa:iu;function lo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function fo(e){return e===e&&!ja(e)}function ho(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in de(n)))}}function po(e,t,r){return t=on(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=on(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),ot(e,this,u)}}function mo(e,t){return t.length<2?e:lr(e,Wr(t,0,-1))}function yo(e,t){for(var n=e.length,r=an(t.length,n),i=yi(e);r--;){var o=t[r];e[r]=oo(o,n)?i[o]:void 0}return e}function vo(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var go=To(Vr),bo=$t||function(e,t){return Ge.setTimeout(e,t)},wo=To(jr);function Eo(e,t,n){var r=t+"";return wo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(X,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!ft(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(J);return t?t[1].split(Z):[]}(r),n)))}function To(e){var t=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function So(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Mr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var _o=function(e){var t=Ta(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Q,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}));function Co(e){if("string"==typeof e||$a(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Io(e){if(null!=e){try{return Te.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ko(e){if(e instanceof xn)return e.clone();var t=new An(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var No=Fr((function(e,t){return Ma(e)?Jn(e,ir(t,1,Ma,!0)):[]})),Do=Fr((function(e,t){var n=Uo(t);return Ma(n)&&(n=void 0),Ma(e)?Jn(e,ir(t,1,Ma,!0),Yi(n,2)):[]})),Ao=Fr((function(e,t){var n=Uo(t);return Ma(n)&&(n=void 0),Ma(e)?Jn(e,ir(t,1,Ma,!0),void 0,n):[]}));function xo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ns(n);return i<0&&(i=on(r+i,0)),wt(e,Yi(t,3),i)}function Oo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ns(n),i=n<0?on(r+i,0):an(i,r-1)),wt(e,Yi(t,3),i,!0)}function Ro(e){return(null==e?0:e.length)?ir(e,1):[]}function Po(e){return e&&e.length?e[0]:void 0}var Mo=Fr((function(e){var t=pt(e,ii);return t.length&&t[0]===e[0]?yr(t):[]})),Lo=Fr((function(e){var t=Uo(e),n=pt(e,ii);return t===Uo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Yi(t,2)):[]})),Fo=Fr((function(e){var t=Uo(e),n=pt(e,ii);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function Uo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var qo=Fr(Bo);function Bo(e,t){return e&&e.length&&t&&t.length?Rr(e,t):e}var Vo=zi((function(e,t){var n=null==e?0:e.length,r=Gn(e,t);return Pr(e,pt(t,(function(e){return oo(e,n)?+e:e})).sort(pi)),r}));function jo(e){return null==e?e:ln.call(e)}var zo=Fr((function(e){return Xr(ir(e,1,Ma,!0))})),Wo=Fr((function(e){var t=Uo(e);return Ma(t)&&(t=void 0),Xr(ir(e,1,Ma,!0),Yi(t,2))})),Qo=Fr((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,Xr(ir(e,1,Ma,!0),void 0,t)}));function Ko(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(Ma(e))return t=on(e.length,t),!0})),Dt(t,(function(t){return pt(e,Ct(t))}))}function Go(e,t){if(!e||!e.length)return[];var n=Ko(e);return null==t?n:pt(n,(function(e){return ot(t,void 0,e)}))}var Ho=Fr((function(e,t){return Ma(e)?Jn(e,t):[]})),Yo=Fr((function(e){return ni(lt(e,Ma))})),$o=Fr((function(e){var t=Uo(e);return Ma(t)&&(t=void 0),ni(lt(e,Ma),Yi(t,2))})),Xo=Fr((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,ni(lt(e,Ma),void 0,t)})),Jo=Fr(Ko);var Zo=Fr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Go(e,n)}));function ea(e){var t=kn(e);return t.__chain__=!0,t}function ta(e,t){return t(e)}var na=zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Gn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof xn&&oo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ta,args:[i],thisArg:void 0}),new An(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var ra=gi((function(e,t,n){Se.call(e,n)?++e[n]:Kn(e,n,1)}));var ia=Ci(xo),oa=Ci(Oo);function aa(e,t){return(Oa(e)?st:Zn)(e,Yi(t,3))}function sa(e,t){return(Oa(e)?ut:er)(e,Yi(t,3))}var ua=gi((function(e,t,n){Se.call(e,n)?e[n].push(t):Kn(e,n,[t])}));var ca=Fr((function(e,t,r){var i=-1,o="function"==typeof t,a=Pa(e)?n(e.length):[];return Zn(e,(function(e){a[++i]=o?ot(t,e,r):vr(e,t,r)})),a})),la=gi((function(e,t,n){Kn(e,n,t)}));function fa(e,t){return(Oa(e)?pt:Ir)(e,Yi(t,3))}var ha=gi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var pa=Fr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ao(e,t[0],t[1])?t=[]:n>2&&ao(t[0],t[1],t[2])&&(t=[t[0]]),xr(e,ir(t,1),[])})),da=Yt||function(){return Ge.Date.now()};function ma(e,t,n){return t=n?void 0:t,Ui(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ya(e,t){var n;if("function"!=typeof t)throw new ve(o);return e=ns(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var va=Fr((function(e,t,n){var r=1;if(n.length){var i=jt(n,Hi(va));r|=32}return Ui(e,r,t,n,i)})),ga=Fr((function(e,t,n){var r=3;if(n.length){var i=jt(n,Hi(ga));r|=32}return Ui(t,r,e,n,i)}));function ba(e,t,n){var r,i,a,s,u,c,l=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new ve(o);function d(t){var n=r,o=i;return r=i=void 0,l=t,s=e.apply(o,n)}function m(e){return l=e,u=bo(v,t),f?d(e):s}function y(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=a}function v(){var e=da();if(y(e))return g(e);u=bo(v,function(e){var n=t-(e-c);return h?an(n,a-(e-l)):n}(e))}function g(e){return u=void 0,p&&r?d(e):(r=i=void 0,s)}function b(){var e=da(),n=y(e);if(r=arguments,i=this,c=e,n){if(void 0===u)return m(c);if(h)return ci(u),u=bo(v,t),d(c)}return void 0===u&&(u=bo(v,t)),s}return t=is(t)||0,ja(n)&&(f=!!n.leading,a=(h="maxWait"in n)?on(is(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==u&&ci(u),l=0,r=c=i=u=void 0},b.flush=function(){return void 0===u?s:g(da())},b}var wa=Fr((function(e,t){return Xn(e,1,t)})),Ea=Fr((function(e,t,n){return Xn(e,is(t)||0,n)}));function Ta(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ta.Cache||Pn),n}function Sa(e){if("function"!=typeof e)throw new ve(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ta.Cache=Pn;var _a=si((function(e,t){var n=(t=1==t.length&&Oa(t[0])?pt(t[0],At(Yi())):pt(ir(t,1),At(Yi()))).length;return Fr((function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return ot(e,this,r)}))})),Ca=Fr((function(e,t){return Ui(e,32,void 0,t,jt(t,Hi(Ca)))})),Ia=Fr((function(e,t){return Ui(e,64,void 0,t,jt(t,Hi(Ia)))})),ka=zi((function(e,t){return Ui(e,256,void 0,void 0,void 0,t)}));function Na(e,t){return e===t||e!==e&&t!==t}var Da=Ri(pr),Aa=Ri((function(e,t){return e>=t})),xa=gr(function(){return arguments}())?gr:function(e){return za(e)&&Se.call(e,"callee")&&!Ke.call(e,"callee")},Oa=n.isArray,Ra=Ze?At(Ze):function(e){return za(e)&&hr(e)==S};function Pa(e){return null!=e&&Va(e.length)&&!qa(e)}function Ma(e){return za(e)&&Pa(e)}var La=en||iu,Fa=et?At(et):function(e){return za(e)&&hr(e)==f};function Ua(e){if(!za(e))return!1;var t=hr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ka(e)}function qa(e){if(!ja(e))return!1;var t=hr(e);return t==p||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ba(e){return"number"==typeof e&&e==ns(e)}function Va(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ja(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function za(e){return null!=e&&"object"==typeof e}var Wa=tt?At(tt):function(e){return za(e)&&to(e)==m};function Qa(e){return"number"==typeof e||za(e)&&hr(e)==y}function Ka(e){if(!za(e)||hr(e)!=v)return!1;var t=je(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Te.call(n)==ke}var Ga=nt?At(nt):function(e){return za(e)&&hr(e)==g};var Ha=rt?At(rt):function(e){return za(e)&&to(e)==b};function Ya(e){return"string"==typeof e||!Oa(e)&&za(e)&&hr(e)==w}function $a(e){return"symbol"==typeof e||za(e)&&hr(e)==E}var Xa=it?At(it):function(e){return za(e)&&Va(e.length)&&!!Be[hr(e)]};var Ja=Ri(Cr),Za=Ri((function(e,t){return e<=t}));function es(e){if(!e)return[];if(Pa(e))return Ya(e)?Kt(e):yi(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=to(e);return(t==m?Bt:t==b?zt:Ns)(e)}function ts(e){return e?(e=is(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ns(e){var t=ts(e),n=t%1;return t===t?n?t-n:t:0}function rs(e){return e?Hn(ns(e),0,4294967295):0}function is(e){if("number"==typeof e)return e;if($a(e))return NaN;if(ja(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ja(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(H,"");var n=oe.test(e);return n||se.test(e)?We(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function os(e){return vi(e,ws(e))}function as(e){return null==e?"":$r(e)}var ss=bi((function(e,t){if(lo(t)||Pa(t))vi(t,bs(t),e);else for(var n in t)Se.call(t,n)&&jn(e,n,t[n])})),us=bi((function(e,t){vi(t,ws(t),e)})),cs=bi((function(e,t,n,r){vi(t,ws(t),e,r)})),ls=bi((function(e,t,n,r){vi(t,bs(t),e,r)})),fs=zi(Gn);var hs=Fr((function(e,t){e=de(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&ao(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=ws(o),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||Na(l,we[c])&&!Se.call(e,c))&&(e[c]=o[c])}return e})),ps=Fr((function(e){return e.push(void 0,Bi),ot(Ts,void 0,e)}));function ds(e,t,n){var r=null==e?void 0:lr(e,t);return void 0===r?n:r}function ms(e,t){return null!=e&&no(e,t,mr)}var ys=Ni((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ie.call(t)),e[t]=n}),js(Qs)),vs=Ni((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ie.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Yi),gs=Fr(vr);function bs(e){return Pa(e)?Fn(e):Sr(e)}function ws(e){return Pa(e)?Fn(e,!0):_r(e)}var Es=bi((function(e,t,n){Dr(e,t,n)})),Ts=bi((function(e,t,n,r){Dr(e,t,n,r)})),Ss=zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=pt(t,(function(t){return t=ai(t,e),r||(r=t.length>1),t})),vi(e,Qi(e),n),r&&(n=Yn(n,7,Vi));for(var i=t.length;i--;)Jr(n,t[i]);return n}));var _s=zi((function(e,t){return null==e?{}:function(e,t){return Or(e,t,(function(t,n){return ms(e,n)}))}(e,t)}));function Cs(e,t){if(null==e)return{};var n=pt(Qi(e),(function(e){return[e]}));return t=Yi(t),Or(e,n,(function(e,n){return t(e,n[0])}))}var Is=Fi(bs),ks=Fi(ws);function Ns(e){return null==e?[]:xt(e,bs(e))}var Ds=Si((function(e,t,n){return t=t.toLowerCase(),e+(n?As(t):t)}));function As(e){return Us(as(e).toLowerCase())}function xs(e){return(e=as(e))&&e.replace(ce,Lt).replace(Re,"")}var Os=Si((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Rs=Si((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ps=Ti("toLowerCase");var Ms=Si((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ls=Si((function(e,t,n){return e+(n?" ":"")+Us(t)}));var Fs=Si((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Us=Ti("toUpperCase");function qs(e,t,n){return e=as(e),void 0===(t=n?void 0:t)?function(e){return Fe.test(e)}(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var Bs=Fr((function(e,t){try{return ot(e,void 0,t)}catch(n){return Ua(n)?n:new i(n)}})),Vs=zi((function(e,t){return st(t,(function(t){t=Co(t),Kn(e,t,va(e[t],e))})),e}));function js(e){return function(){return e}}var zs=Ii(),Ws=Ii(!0);function Qs(e){return e}function Ks(e){return Tr("function"==typeof e?e:Yn(e,1))}var Gs=Fr((function(e,t){return function(n){return vr(n,e,t)}})),Hs=Fr((function(e,t){return function(n){return vr(e,n,t)}}));function Ys(e,t,n){var r=bs(t),i=cr(t,r);null!=n||ja(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,bs(t)));var o=!(ja(n)&&"chain"in n)||!!n.chain,a=qa(e);return st(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,dt([this.value()],arguments))})})),e}function $s(){}var Xs=Ai(pt),Js=Ai(ct),Zs=Ai(vt);function eu(e){return so(e)?Ct(Co(e)):function(e){return function(t){return lr(t,e)}}(e)}var tu=Oi(),nu=Oi(!0);function ru(){return[]}function iu(){return!1}var ou=Di((function(e,t){return e+t}),0),au=Mi("ceil"),su=Di((function(e,t){return e/t}),1),uu=Mi("floor");var cu=Di((function(e,t){return e*t}),1),lu=Mi("round"),fu=Di((function(e,t){return e-t}),0);return kn.after=function(e,t){if("function"!=typeof t)throw new ve(o);return e=ns(e),function(){if(--e<1)return t.apply(this,arguments)}},kn.ary=ma,kn.assign=ss,kn.assignIn=us,kn.assignInWith=cs,kn.assignWith=ls,kn.at=fs,kn.before=ya,kn.bind=va,kn.bindAll=Vs,kn.bindKey=ga,kn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Oa(e)?e:[e]},kn.chain=ea,kn.chunk=function(e,t,r){t=(r?ao(e,t,r):void 0===t)?1:on(ns(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=n(Xt(i/t));o<i;)s[a++]=Wr(e,o,o+=t);return s},kn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},kn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return dt(Oa(r)?yi(r):[r],ir(t,1))},kn.cond=function(e){var t=null==e?0:e.length,n=Yi();return e=t?pt(e,(function(e){if("function"!=typeof e[1])throw new ve(o);return[n(e[0]),e[1]]})):[],Fr((function(n){for(var r=-1;++r<t;){var i=e[r];if(ot(i[0],this,n))return ot(i[1],this,n)}}))},kn.conforms=function(e){return function(e){var t=bs(e);return function(n){return $n(n,e,t)}}(Yn(e,1))},kn.constant=js,kn.countBy=ra,kn.create=function(e,t){var n=Nn(e);return null==t?n:Qn(n,t)},kn.curry=function e(t,n,r){var i=Ui(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},kn.curryRight=function e(t,n,r){var i=Ui(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},kn.debounce=ba,kn.defaults=hs,kn.defaultsDeep=ps,kn.defer=wa,kn.delay=Ea,kn.difference=No,kn.differenceBy=Do,kn.differenceWith=Ao,kn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=n||void 0===t?1:ns(t))<0?0:t,r):[]},kn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,0,(t=r-(t=n||void 0===t?1:ns(t)))<0?0:t):[]},kn.dropRightWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3),!0,!0):[]},kn.dropWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3),!0):[]},kn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ao(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ns(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ns(r))<0&&(r+=i),r=n>r?0:rs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},kn.filter=function(e,t){return(Oa(e)?lt:rr)(e,Yi(t,3))},kn.flatMap=function(e,t){return ir(fa(e,t),1)},kn.flatMapDeep=function(e,t){return ir(fa(e,t),1/0)},kn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ns(n),ir(fa(e,t),n)},kn.flatten=Ro,kn.flattenDeep=function(e){return(null==e?0:e.length)?ir(e,1/0):[]},kn.flattenDepth=function(e,t){return(null==e?0:e.length)?ir(e,t=void 0===t?1:ns(t)):[]},kn.flip=function(e){return Ui(e,512)},kn.flow=zs,kn.flowRight=Ws,kn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},kn.functions=function(e){return null==e?[]:cr(e,bs(e))},kn.functionsIn=function(e){return null==e?[]:cr(e,ws(e))},kn.groupBy=ua,kn.initial=function(e){return(null==e?0:e.length)?Wr(e,0,-1):[]},kn.intersection=Mo,kn.intersectionBy=Lo,kn.intersectionWith=Fo,kn.invert=ys,kn.invertBy=vs,kn.invokeMap=ca,kn.iteratee=Ks,kn.keyBy=la,kn.keys=bs,kn.keysIn=ws,kn.map=fa,kn.mapKeys=function(e,t){var n={};return t=Yi(t,3),sr(e,(function(e,r,i){Kn(n,t(e,r,i),e)})),n},kn.mapValues=function(e,t){var n={};return t=Yi(t,3),sr(e,(function(e,r,i){Kn(n,r,t(e,r,i))})),n},kn.matches=function(e){return kr(Yn(e,1))},kn.matchesProperty=function(e,t){return Nr(e,Yn(t,1))},kn.memoize=Ta,kn.merge=Es,kn.mergeWith=Ts,kn.method=Gs,kn.methodOf=Hs,kn.mixin=Ys,kn.negate=Sa,kn.nthArg=function(e){return e=ns(e),Fr((function(t){return Ar(t,e)}))},kn.omit=Ss,kn.omitBy=function(e,t){return Cs(e,Sa(Yi(t)))},kn.once=function(e){return ya(2,e)},kn.orderBy=function(e,t,n,r){return null==e?[]:(Oa(t)||(t=null==t?[]:[t]),Oa(n=r?void 0:n)||(n=null==n?[]:[n]),xr(e,t,n))},kn.over=Xs,kn.overArgs=_a,kn.overEvery=Js,kn.overSome=Zs,kn.partial=Ca,kn.partialRight=Ia,kn.partition=ha,kn.pick=_s,kn.pickBy=Cs,kn.property=eu,kn.propertyOf=function(e){return function(t){return null==e?void 0:lr(e,t)}},kn.pull=qo,kn.pullAll=Bo,kn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,Yi(n,2)):e},kn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,void 0,n):e},kn.pullAt=Vo,kn.range=tu,kn.rangeRight=nu,kn.rearg=ka,kn.reject=function(e,t){return(Oa(e)?lt:rr)(e,Sa(Yi(t,3)))},kn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Yi(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Pr(e,i),n},kn.rest=function(e,t){if("function"!=typeof e)throw new ve(o);return Fr(e,t=void 0===t?t:ns(t))},kn.reverse=jo,kn.sampleSize=function(e,t,n){return t=(n?ao(e,t,n):void 0===t)?1:ns(t),(Oa(e)?qn:qr)(e,t)},kn.set=function(e,t,n){return null==e?e:Br(e,t,n)},kn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Br(e,t,n,r)},kn.shuffle=function(e){return(Oa(e)?Bn:zr)(e)},kn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ao(e,t,n)?(t=0,n=r):(t=null==t?0:ns(t),n=void 0===n?r:ns(n)),Wr(e,t,n)):[]},kn.sortBy=pa,kn.sortedUniq=function(e){return e&&e.length?Hr(e):[]},kn.sortedUniqBy=function(e,t){return e&&e.length?Hr(e,Yi(t,2)):[]},kn.split=function(e,t,n){return n&&"number"!=typeof n&&ao(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=as(e))&&("string"==typeof t||null!=t&&!Ga(t))&&!(t=$r(t))&&qt(e)?ui(Kt(e),0,n):e.split(t,n):[]},kn.spread=function(e,t){if("function"!=typeof e)throw new ve(o);return t=null==t?0:on(ns(t),0),Fr((function(n){var r=n[t],i=ui(n,0,t);return r&&dt(i,r),ot(e,this,i)}))},kn.tail=function(e){var t=null==e?0:e.length;return t?Wr(e,1,t):[]},kn.take=function(e,t,n){return e&&e.length?Wr(e,0,(t=n||void 0===t?1:ns(t))<0?0:t):[]},kn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=r-(t=n||void 0===t?1:ns(t)))<0?0:t,r):[]},kn.takeRightWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3),!1,!0):[]},kn.takeWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3)):[]},kn.tap=function(e,t){return t(e),e},kn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ve(o);return ja(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ba(e,t,{leading:r,maxWait:t,trailing:i})},kn.thru=ta,kn.toArray=es,kn.toPairs=Is,kn.toPairsIn=ks,kn.toPath=function(e){return Oa(e)?pt(e,Co):$a(e)?[e]:yi(_o(as(e)))},kn.toPlainObject=os,kn.transform=function(e,t,n){var r=Oa(e),i=r||La(e)||Xa(e);if(t=Yi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ja(e)&&qa(o)?Nn(je(e)):{}}return(i?st:sr)(e,(function(e,r,i){return t(n,e,r,i)})),n},kn.unary=function(e){return ma(e,1)},kn.union=zo,kn.unionBy=Wo,kn.unionWith=Qo,kn.uniq=function(e){return e&&e.length?Xr(e):[]},kn.uniqBy=function(e,t){return e&&e.length?Xr(e,Yi(t,2)):[]},kn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xr(e,void 0,t):[]},kn.unset=function(e,t){return null==e||Jr(e,t)},kn.unzip=Ko,kn.unzipWith=Go,kn.update=function(e,t,n){return null==e?e:Zr(e,t,oi(n))},kn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Zr(e,t,oi(n),r)},kn.values=Ns,kn.valuesIn=function(e){return null==e?[]:xt(e,ws(e))},kn.without=Ho,kn.words=qs,kn.wrap=function(e,t){return Ca(oi(t),e)},kn.xor=Yo,kn.xorBy=$o,kn.xorWith=Xo,kn.zip=Jo,kn.zipObject=function(e,t){return ri(e||[],t||[],jn)},kn.zipObjectDeep=function(e,t){return ri(e||[],t||[],Br)},kn.zipWith=Zo,kn.entries=Is,kn.entriesIn=ks,kn.extend=us,kn.extendWith=cs,Ys(kn,kn),kn.add=ou,kn.attempt=Bs,kn.camelCase=Ds,kn.capitalize=As,kn.ceil=au,kn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=is(n))===n?n:0),void 0!==t&&(t=(t=is(t))===t?t:0),Hn(is(e),t,n)},kn.clone=function(e){return Yn(e,4)},kn.cloneDeep=function(e){return Yn(e,5)},kn.cloneDeepWith=function(e,t){return Yn(e,5,t="function"==typeof t?t:void 0)},kn.cloneWith=function(e,t){return Yn(e,4,t="function"==typeof t?t:void 0)},kn.conformsTo=function(e,t){return null==t||$n(e,t,bs(t))},kn.deburr=xs,kn.defaultTo=function(e,t){return null==e||e!==e?t:e},kn.divide=su,kn.endsWith=function(e,t,n){e=as(e),t=$r(t);var r=e.length,i=n=void 0===n?r:Hn(ns(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},kn.eq=Na,kn.escape=function(e){return(e=as(e))&&q.test(e)?e.replace(F,Ft):e},kn.escapeRegExp=function(e){return(e=as(e))&&G.test(e)?e.replace(K,"\\$&"):e},kn.every=function(e,t,n){var r=Oa(e)?ct:tr;return n&&ao(e,t,n)&&(t=void 0),r(e,Yi(t,3))},kn.find=ia,kn.findIndex=xo,kn.findKey=function(e,t){return bt(e,Yi(t,3),sr)},kn.findLast=oa,kn.findLastIndex=Oo,kn.findLastKey=function(e,t){return bt(e,Yi(t,3),ur)},kn.floor=uu,kn.forEach=aa,kn.forEachRight=sa,kn.forIn=function(e,t){return null==e?e:or(e,Yi(t,3),ws)},kn.forInRight=function(e,t){return null==e?e:ar(e,Yi(t,3),ws)},kn.forOwn=function(e,t){return e&&sr(e,Yi(t,3))},kn.forOwnRight=function(e,t){return e&&ur(e,Yi(t,3))},kn.get=ds,kn.gt=Da,kn.gte=Aa,kn.has=function(e,t){return null!=e&&no(e,t,dr)},kn.hasIn=ms,kn.head=Po,kn.identity=Qs,kn.includes=function(e,t,n,r){e=Pa(e)?e:Ns(e),n=n&&!r?ns(n):0;var i=e.length;return n<0&&(n=on(i+n,0)),Ya(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Et(e,t,n)>-1},kn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ns(n);return i<0&&(i=on(r+i,0)),Et(e,t,i)},kn.inRange=function(e,t,n){return t=ts(t),void 0===n?(n=t,t=0):n=ts(n),function(e,t,n){return e>=an(t,n)&&e<on(t,n)}(e=is(e),t,n)},kn.invoke=gs,kn.isArguments=xa,kn.isArray=Oa,kn.isArrayBuffer=Ra,kn.isArrayLike=Pa,kn.isArrayLikeObject=Ma,kn.isBoolean=function(e){return!0===e||!1===e||za(e)&&hr(e)==l},kn.isBuffer=La,kn.isDate=Fa,kn.isElement=function(e){return za(e)&&1===e.nodeType&&!Ka(e)},kn.isEmpty=function(e){if(null==e)return!0;if(Pa(e)&&(Oa(e)||"string"==typeof e||"function"==typeof e.splice||La(e)||Xa(e)||xa(e)))return!e.length;var t=to(e);if(t==m||t==b)return!e.size;if(lo(e))return!Sr(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},kn.isEqual=function(e,t){return br(e,t)},kn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},kn.isError=Ua,kn.isFinite=function(e){return"number"==typeof e&&tn(e)},kn.isFunction=qa,kn.isInteger=Ba,kn.isLength=Va,kn.isMap=Wa,kn.isMatch=function(e,t){return e===t||wr(e,t,Xi(t))},kn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,wr(e,t,Xi(t),n)},kn.isNaN=function(e){return Qa(e)&&e!=+e},kn.isNative=function(e){if(co(e))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(e)},kn.isNil=function(e){return null==e},kn.isNull=function(e){return null===e},kn.isNumber=Qa,kn.isObject=ja,kn.isObjectLike=za,kn.isPlainObject=Ka,kn.isRegExp=Ga,kn.isSafeInteger=function(e){return Ba(e)&&e>=-9007199254740991&&e<=9007199254740991},kn.isSet=Ha,kn.isString=Ya,kn.isSymbol=$a,kn.isTypedArray=Xa,kn.isUndefined=function(e){return void 0===e},kn.isWeakMap=function(e){return za(e)&&to(e)==T},kn.isWeakSet=function(e){return za(e)&&"[object WeakSet]"==hr(e)},kn.join=function(e,t){return null==e?"":nn.call(e,t)},kn.kebabCase=Os,kn.last=Uo,kn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ns(n))<0?on(r+i,0):an(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):wt(e,St,i,!0)},kn.lowerCase=Rs,kn.lowerFirst=Ps,kn.lt=Ja,kn.lte=Za,kn.max=function(e){return e&&e.length?nr(e,Qs,pr):void 0},kn.maxBy=function(e,t){return e&&e.length?nr(e,Yi(t,2),pr):void 0},kn.mean=function(e){return _t(e,Qs)},kn.meanBy=function(e,t){return _t(e,Yi(t,2))},kn.min=function(e){return e&&e.length?nr(e,Qs,Cr):void 0},kn.minBy=function(e,t){return e&&e.length?nr(e,Yi(t,2),Cr):void 0},kn.stubArray=ru,kn.stubFalse=iu,kn.stubObject=function(){return{}},kn.stubString=function(){return""},kn.stubTrue=function(){return!0},kn.multiply=cu,kn.nth=function(e,t){return e&&e.length?Ar(e,ns(t)):void 0},kn.noConflict=function(){return Ge._===this&&(Ge._=Ne),this},kn.noop=$s,kn.now=da,kn.pad=function(e,t,n){e=as(e);var r=(t=ns(t))?Qt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return xi(Jt(i),n)+e+xi(Xt(i),n)},kn.padEnd=function(e,t,n){e=as(e);var r=(t=ns(t))?Qt(e):0;return t&&r<t?e+xi(t-r,n):e},kn.padStart=function(e,t,n){e=as(e);var r=(t=ns(t))?Qt(e):0;return t&&r<t?xi(t-r,n)+e:e},kn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(as(e).replace(Y,""),t||0)},kn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ao(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ts(e),void 0===t?(t=e,e=0):t=ts(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=cn();return an(e+i*(t-e+ze("1e-"+((i+"").length-1))),t)}return Mr(e,t)},kn.reduce=function(e,t,n){var r=Oa(e)?mt:kt,i=arguments.length<3;return r(e,Yi(t,4),n,i,Zn)},kn.reduceRight=function(e,t,n){var r=Oa(e)?yt:kt,i=arguments.length<3;return r(e,Yi(t,4),n,i,er)},kn.repeat=function(e,t,n){return t=(n?ao(e,t,n):void 0===t)?1:ns(t),Lr(as(e),t)},kn.replace=function(){var e=arguments,t=as(e[0]);return e.length<3?t:t.replace(e[1],e[2])},kn.result=function(e,t,n){var r=-1,i=(t=ai(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Co(t[r])];void 0===o&&(r=i,o=n),e=qa(o)?o.call(e):o}return e},kn.round=lu,kn.runInContext=e,kn.sample=function(e){return(Oa(e)?Un:Ur)(e)},kn.size=function(e){if(null==e)return 0;if(Pa(e))return Ya(e)?Qt(e):e.length;var t=to(e);return t==m||t==b?e.size:Sr(e).length},kn.snakeCase=Ms,kn.some=function(e,t,n){var r=Oa(e)?vt:Qr;return n&&ao(e,t,n)&&(t=void 0),r(e,Yi(t,3))},kn.sortedIndex=function(e,t){return Kr(e,t)},kn.sortedIndexBy=function(e,t,n){return Gr(e,t,Yi(n,2))},kn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Kr(e,t);if(r<n&&Na(e[r],t))return r}return-1},kn.sortedLastIndex=function(e,t){return Kr(e,t,!0)},kn.sortedLastIndexBy=function(e,t,n){return Gr(e,t,Yi(n,2),!0)},kn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Kr(e,t,!0)-1;if(Na(e[n],t))return n}return-1},kn.startCase=Ls,kn.startsWith=function(e,t,n){return e=as(e),n=null==n?0:Hn(ns(n),0,e.length),t=$r(t),e.slice(n,n+t.length)==t},kn.subtract=fu,kn.sum=function(e){return e&&e.length?Nt(e,Qs):0},kn.sumBy=function(e,t){return e&&e.length?Nt(e,Yi(t,2)):0},kn.template=function(e,t,n){var r=kn.templateSettings;n&&ao(e,t,n)&&(t=void 0),e=as(e),t=cs({},t,r,qi);var i,o,a=cs({},t.imports,r.imports,qi),s=bs(a),u=xt(a,s),c=0,l=t.interpolate||le,f="__p += '",h=me((t.escape||le).source+"|"+l.source+"|"+(l===j?ne:le).source+"|"+(t.evaluate||le).source+"|$","g"),p="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++qe+"]")+"\n";e.replace(h,(function(t,n,r,a,s,u){return r||(r=a),f+=e.slice(c,u).replace(fe,Ut),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var d=Se.call(t,"variable")&&t.variable;d||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(R,""):f).replace(P,"$1").replace(M,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Bs((function(){return he(s,p+"return "+f).apply(void 0,u)}));if(m.source=f,Ua(m))throw m;return m},kn.times=function(e,t){if((e=ns(e))<1||e>9007199254740991)return[];var n=4294967295,r=an(e,4294967295);e-=4294967295;for(var i=Dt(r,t=Yi(t));++n<e;)t(n);return i},kn.toFinite=ts,kn.toInteger=ns,kn.toLength=rs,kn.toLower=function(e){return as(e).toLowerCase()},kn.toNumber=is,kn.toSafeInteger=function(e){return e?Hn(ns(e),-9007199254740991,9007199254740991):0===e?e:0},kn.toString=as,kn.toUpper=function(e){return as(e).toUpperCase()},kn.trim=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(H,"");if(!e||!(t=$r(t)))return e;var r=Kt(e),i=Kt(t);return ui(r,Rt(r,i),Pt(r,i)+1).join("")},kn.trimEnd=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace($,"");if(!e||!(t=$r(t)))return e;var r=Kt(e);return ui(r,0,Pt(r,Kt(t))+1).join("")},kn.trimStart=function(e,t,n){if((e=as(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=$r(t)))return e;var r=Kt(e);return ui(r,Rt(r,Kt(t))).join("")},kn.truncate=function(e,t){var n=30,r="...";if(ja(t)){var i="separator"in t?t.separator:i;n="length"in t?ns(t.length):n,r="omission"in t?$r(t.omission):r}var o=(e=as(e)).length;if(qt(e)){var a=Kt(e);o=a.length}if(n>=o)return e;var s=n-Qt(r);if(s<1)return r;var u=a?ui(a,0,s).join(""):e.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Ga(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=me(i.source,as(re.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,void 0===f?s:f)}}else if(e.indexOf($r(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},kn.unescape=function(e){return(e=as(e))&&U.test(e)?e.replace(L,Gt):e},kn.uniqueId=function(e){var t=++_e;return as(e)+t},kn.upperCase=Fs,kn.upperFirst=Us,kn.each=aa,kn.eachRight=sa,kn.first=Po,Ys(kn,function(){var e={};return sr(kn,(function(t,n){Se.call(kn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),kn.VERSION="4.17.15",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){kn[e].placeholder=kn})),st(["drop","take"],(function(e,t){xn.prototype[e]=function(n){n=void 0===n?1:on(ns(n),0);var r=this.__filtered__&&!t?new xn(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},xn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;xn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");xn.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");xn.prototype[e]=function(){return this.__filtered__?new xn(this):this[n](1)}})),xn.prototype.compact=function(){return this.filter(Qs)},xn.prototype.find=function(e){return this.filter(e).head()},xn.prototype.findLast=function(e){return this.reverse().find(e)},xn.prototype.invokeMap=Fr((function(e,t){return"function"==typeof e?new xn(this):this.map((function(n){return vr(n,e,t)}))})),xn.prototype.reject=function(e){return this.filter(Sa(Yi(e)))},xn.prototype.slice=function(e,t){e=ns(e);var n=this;return n.__filtered__&&(e>0||t<0)?new xn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ns(t))<0?n.dropRight(-t):n.take(t-e)),n)},xn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},xn.prototype.toArray=function(){return this.take(4294967295)},sr(xn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=kn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(kn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof xn,u=a[0],c=s||Oa(t),l=function(e){var t=i.apply(kn,dt([e],a));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,d=s&&!h;if(!o&&c){t=d?t:new xn(this);var m=e.apply(t,a);return m.__actions__.push({func:ta,args:[l],thisArg:void 0}),new An(m,f)}return p&&d?e.apply(this,a):(m=this.thru(l),p?r?m.value()[0]:m.value():m)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ge[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);kn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Oa(i)?i:[],e)}return this[n]((function(n){return t.apply(Oa(n)?n:[],e)}))}})),sr(xn.prototype,(function(e,t){var n=kn[t];if(n){var r=n.name+"";Se.call(gn,r)||(gn[r]=[]),gn[r].push({name:t,func:n})}})),gn[ki(void 0,2).name]=[{name:"wrapper",func:void 0}],xn.prototype.clone=function(){var e=new xn(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},xn.prototype.reverse=function(){if(this.__filtered__){var e=new xn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},xn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Oa(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=an(t,e+a);break;case"takeRight":e=on(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=an(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return ti(e,this.__actions__);var d=[];e:for(;u--&&h<p;){for(var m=-1,y=e[c+=t];++m<f;){var v=l[m],g=v.iteratee,b=v.type,w=g(y);if(2==b)y=w;else if(!w){if(1==b)continue e;break e}}d[h++]=y}return d},kn.prototype.at=na,kn.prototype.chain=function(){return ea(this)},kn.prototype.commit=function(){return new An(this.value(),this.__chain__)},kn.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},kn.prototype.plant=function(e){for(var t,n=this;n instanceof Dn;){var r=ko(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},kn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof xn){var t=e;return this.__actions__.length&&(t=new xn(this)),(t=t.reverse()).__actions__.push({func:ta,args:[jo],thisArg:void 0}),new An(t,this.__chain__)}return this.thru(jo)},kn.prototype.toJSON=kn.prototype.valueOf=kn.prototype.value=function(){return ti(this.__wrapped__,this.__actions__)},kn.prototype.first=kn.prototype.head,Xe&&(kn.prototype[Xe]=function(){return this}),kn}();Ge._=Ht,void 0===(i=function(){return Ht}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(10),n(54)(e))},function(e,t,n){e.exports=n(32)()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return K})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return _}));var r=n(0),i=n.n(r),o=(n(3),n(7)),a=n.n(o),s=n(24),u=n.n(s),c=n(11),l=function(e,t){return e.substr(0,t.length)===t},f=function(e,t){for(var n=void 0,r=void 0,i=t.split("?")[0],o=b(i),s=""===o[0],u=g(e),c=0,l=u.length;c<l;c++){var f=!1,h=u[c].route;if(h.default)r={route:h,params:{},uri:t};else{for(var p=b(h.path),m={},v=Math.max(o.length,p.length),w=0;w<v;w++){var T=p[w],S=o[w];if(y(T)){m[T.slice(1)||"*"]=o.slice(w).map(decodeURIComponent).join("/");break}if(void 0===S){f=!0;break}var _=d.exec(T);if(_&&!s){-1===E.indexOf(_[1])||a()(!1);var C=decodeURIComponent(S);m[_[1]]=C}else if(T!==S){f=!0;break}}if(!f){n={route:h,params:m,uri:"/"+o.slice(0,w).join("/")};break}}}return n||r||null},h=function(e,t){if(l(e,"/"))return e;var n=e.split("?"),r=n[0],i=n[1],o=t.split("?")[0],a=b(r),s=b(o);if(""===a[0])return w(o,i);if(!l(a[0],".")){var u=s.concat(a).join("/");return w(("/"===o?"":"/")+u,i)}for(var c=s.concat(a),f=[],h=0,p=c.length;h<p;h++){var d=c[h];".."===d?f.pop():"."!==d&&f.push(d)}return w("/"+f.join("/"),i)},p=function(e,t){return"/"+b(e).map((function(e){var n=d.exec(e);return n?t[n[1]]:e})).join("/")},d=/^:(.+)/,m=function(e){return d.test(e)},y=function(e){return e&&"*"===e[0]},v=function(e,t){return{route:e,score:e.default?0:b(e.path).reduce((function(e,t){return e+=4,!function(e){return""===e}(t)?m(t)?e+=2:y(t)?e-=5:e+=3:e+=1,e}),0),index:t}},g=function(e){return e.map(v).sort((function(e,t){return e.score<t.score?1:e.score>t.score?-1:e.index-t.index}))},b=function(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")},w=function(e,t){return e+(t?"?"+t:"")},E=["uri","path"],T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(e){var t=e.location,n=t.search,r=t.hash,i=t.href,o=t.origin,a=t.protocol,s=t.host,u=t.hostname,c=t.port,l=e.location.pathname;!l&&i&&C&&(l=new URL(i).pathname);return{pathname:encodeURI(decodeURI(l)),search:n,hash:r,href:i,origin:o,protocol:a,host:s,hostname:u,port:c,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}},_=function(e,t){var n=[],r=S(e),i=!1,o=function(){};return{get location(){return r},get transitioning(){return i},_onTransitionComplete:function(){i=!1,o()},listen:function(t){n.push(t);var i=function(){r=S(e),t({location:r,action:"POP"})};return e.addEventListener("popstate",i),function(){e.removeEventListener("popstate",i),n=n.filter((function(e){return e!==t}))}},navigate:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.state,u=a.replace,c=void 0!==u&&u;if("number"===typeof t)e.history.go(t);else{s=T({},s,{key:Date.now()+""});try{i||c?e.history.replaceState(s,null,t):e.history.pushState(s,null,t)}catch(f){e.location[c?"replace":"assign"](t)}}r=S(e),i=!0;var l=new Promise((function(e){return o=e}));return n.forEach((function(e){return e({location:r,action:"PUSH"})})),l}}},C=!("undefined"===typeof window||!window.document||!window.document.createElement),I=_(C?window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.indexOf("?"),n={pathname:t>-1?e.substr(0,t):e,search:t>-1?e.substr(t):""},r=0,i=[n],o=[null];return{get location(){return i[r]},addEventListener:function(e,t){},removeEventListener:function(e,t){},history:{get entries(){return i},get index(){return r},get state(){return o[r]},pushState:function(e,t,n){var a=n.split("?"),s=a[0],u=a[1],c=void 0===u?"":u;r++,i.push({pathname:s,search:c.length?"?"+c:c}),o.push(e)},replaceState:function(e,t,n){var a=n.split("?"),s=a[0],u=a[1],c=void 0===u?"":u;i[r]={pathname:s,search:c},o[r]=e},go:function(e){var t=r+e;t<0||t>o.length-1||(r=t)}}}}()),k=(I.navigate,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});function N(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=function(e,t){var n=u()(t);return n.displayName=e,n},R=O("Location"),P=function(e){var t=e.children;return i.a.createElement(R.Consumer,null,(function(e){return e?t(e):i.a.createElement(M,null,t)}))},M=function(e){function t(){var n,r;D(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=A(this,e.call.apply(e,[this].concat(o))),r.state={context:r.getContext(),refs:{unlisten:null}},A(r,n)}return x(t,e),t.prototype.getContext=function(){var e=this.props.history;return{navigate:e.navigate,location:e.location}},t.prototype.componentDidCatch=function(e,t){if(!H(e))throw e;(0,this.props.history.navigate)(e.uri,{replace:!0})},t.prototype.componentDidUpdate=function(e,t){t.context.location!==this.state.context.location&&this.props.history._onTransitionComplete()},t.prototype.componentDidMount=function(){var e=this,t=this.state.refs,n=this.props.history;n._onTransitionComplete(),t.unlisten=n.listen((function(){Promise.resolve().then((function(){requestAnimationFrame((function(){e.unmounted||e.setState((function(){return{context:e.getContext()}}))}))}))}))},t.prototype.componentWillUnmount=function(){var e=this.state.refs;this.unmounted=!0,e.unlisten()},t.prototype.render=function(){var e=this.state.context,t=this.props.children;return i.a.createElement(R.Provider,{value:e},"function"===typeof t?t(e):t||null)},t}(i.a.Component);M.defaultProps={history:I};var L=O("Base",{baseuri:"/",basepath:"/"}),F=function(e){return i.a.createElement(L.Consumer,null,(function(t){return i.a.createElement(P,null,(function(n){return i.a.createElement(U,k({},t,n,e))}))}))},U=function(e){function t(){return D(this,t),A(this,e.apply(this,arguments))}return x(t,e),t.prototype.render=function(){var e=this.props,t=e.location,n=e.navigate,r=e.basepath,o=e.primary,a=e.children,s=(e.baseuri,e.component),u=void 0===s?"div":s,c=N(e,["location","navigate","basepath","primary","children","baseuri","component"]),l=i.a.Children.toArray(a).reduce((function(e,t){var n=J(r)(t);return e.concat(n)}),[]),p=t.pathname,d=f(l,p);if(d){var m=d.params,y=d.uri,v=d.route,g=d.route.value;r=v.default?r:v.path.replace(/\*$/,"");var b=k({},m,{uri:y,location:t,navigate:function(e,t){return n(h(e,y),t)}}),w=i.a.cloneElement(g,b,g.props.children?i.a.createElement(F,{location:t,primary:o},g.props.children):void 0),E=o?B:u,T=o?k({uri:y,location:t,component:u},c):c;return i.a.createElement(L.Provider,{value:{baseuri:y,basepath:r}},i.a.createElement(E,T,w))}return null},t}(i.a.PureComponent);U.defaultProps={primary:!0};var q=O("Focus"),B=function(e){var t=e.uri,n=e.location,r=e.component,o=N(e,["uri","location","component"]);return i.a.createElement(q.Consumer,null,(function(e){return i.a.createElement(z,k({},o,{component:r,requestFocus:e,uri:t,location:n}))}))},V=!0,j=0,z=function(e){function t(){var n,r;D(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=A(this,e.call.apply(e,[this].concat(o))),r.state={},r.requestFocus=function(e){!r.state.shouldFocus&&e&&e.focus()},A(r,n)}return x(t,e),t.getDerivedStateFromProps=function(e,t){if(null==t.uri)return k({shouldFocus:!0},e);var n=e.uri!==t.uri,r=t.location.pathname!==e.location.pathname&&e.location.pathname===e.uri;return k({shouldFocus:n||r},e)},t.prototype.componentDidMount=function(){j++,this.focus()},t.prototype.componentWillUnmount=function(){0===--j&&(V=!0)},t.prototype.componentDidUpdate=function(e,t){e.location!==this.props.location&&this.state.shouldFocus&&this.focus()},t.prototype.focus=function(){var e=this.props.requestFocus;e?e(this.node):V?V=!1:this.node&&(this.node.contains(document.activeElement)||this.node.focus())},t.prototype.render=function(){var e=this,t=this.props,n=(t.children,t.style),r=(t.requestFocus,t.component),o=void 0===r?"div":r,a=(t.uri,t.location,N(t,["children","style","requestFocus","component","uri","location"]));return i.a.createElement(o,k({style:k({outline:"none"},n),tabIndex:"-1",ref:function(t){return e.node=t}},a),i.a.createElement(q.Provider,{value:this.requestFocus},this.props.children))},t}(i.a.Component);Object(c.polyfill)(z);var W=function(){},Q=i.a.forwardRef;"undefined"===typeof Q&&(Q=function(e){return e});var K=Q((function(e,t){var n=e.innerRef,r=N(e,["innerRef"]);return i.a.createElement(L.Consumer,null,(function(e){e.basepath;var o=e.baseuri;return i.a.createElement(P,null,(function(e){var a=e.location,s=e.navigate,u=r.to,c=r.state,f=r.replace,p=r.getProps,d=void 0===p?W:p,m=N(r,["to","state","replace","getProps"]),y=h(u,o),v=encodeURI(y),g=a.pathname===v,b=l(a.pathname,v);return i.a.createElement("a",k({ref:t||n,"aria-current":g?"page":void 0},m,d({isCurrent:g,isPartiallyCurrent:b,href:y,location:a}),{href:y,onClick:function(e){if(m.onClick&&m.onClick(e),Z(e)){e.preventDefault();var t=f;if("boolean"!==typeof f&&g){var n=k({},a.state),r=(n.key,N(n,["key"]));t=function(e,t){var n=Object.keys(e);return n.length===Object.keys(t).length&&n.every((function(n){return t.hasOwnProperty(n)&&e[n]===t[n]}))}(k({},c),r)}s(y,{state:c,replace:t})}}}))}))}))}));function G(e){this.uri=e}K.displayName="Link";var H=function(e){return e instanceof G},Y=function(e){function t(){return D(this,t),A(this,e.apply(this,arguments))}return x(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.navigate,n=e.to,r=(e.from,e.replace),i=void 0===r||r,o=e.state,a=(e.noThrow,e.baseuri),s=N(e,["navigate","to","from","replace","state","noThrow","baseuri"]);Promise.resolve().then((function(){var e=h(n,a);t(p(e,s),{replace:i,state:o})}))},t.prototype.render=function(){var e=this.props,t=(e.navigate,e.to),n=(e.from,e.replace,e.state,e.noThrow),r=e.baseuri,i=N(e,["navigate","to","from","replace","state","noThrow","baseuri"]),o=h(t,r);return n||function(e){throw new G(e)}(p(o,i)),null},t}(i.a.Component),$=function(e){return i.a.createElement(L.Consumer,null,(function(t){var n=t.baseuri;return i.a.createElement(P,null,(function(t){return i.a.createElement(Y,k({},t,{baseuri:n},e))}))}))},X=function(e){return e.replace(/(^\/+|\/+$)/g,"")},J=function e(t){return function(n){if(!n)return null;if(n.type===i.a.Fragment&&n.props.children)return i.a.Children.map(n.props.children,e(t));if(n.props.path||n.props.default||n.type===$||a()(!1),n.type!==$||n.props.from&&n.props.to||a()(!1),n.type!==$||function(e,t){var n=function(e){return m(e)};return b(e).filter(n).sort().join("/")===b(t).filter(n).sort().join("/")}(n.props.from,n.props.to)||a()(!1),n.props.default)return{value:n,default:!0};var r=n.type===$?n.props.from:n.props.path,o="/"===r?t:X(t)+"/"+X(r);return{value:n,default:n.props.default,path:n.props.children?X(o)+"/*":o}}},Z=function(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},,function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";t.__esModule=!0,t.ACTION=t.TYPE=t.POSITION=void 0;t.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"};t.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};t.ACTION={SHOW:0,CLEAR:1,DID_MOUNT:2,WILL_UNMOUNT:3,ON_CHANGE:4}},function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(41));t.ToastContainer=r.default;var i=n(19);t.Bounce=i.Bounce,t.Slide=i.Slide,t.Zoom=i.Zoom,t.Flip=i.Flip;var o=n(8);t.ToastPosition=o.POSITION,t.ToastType=o.TYPE;var a=u(n(49));t.toast=a.default;var s=u(n(20));function u(e){return e&&e.__esModule?e:{default:e}}t.cssTransition=s.default},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";t.__esModule=!0,t.isValidDelay=i,t.objectValues=function(e){return Object.keys(e).map((function(t){return e[t]}))},t.falseOrElement=t.falseOrDelay=void 0;var r=n(0);function i(e){return"number"===typeof e&&!isNaN(e)&&e>0}function o(e){return e.isRequired=function(t,n,r){if("undefined"===typeof t[n])return new Error("The prop "+n+" is marked as required in \n      "+r+", but its value is undefined.");e(t,n,r)},e}var a=o((function(e,t,n){var r=e[t];return!1===r||i(r)?null:new Error(n+" expect "+t+" \n      to be a valid Number > 0 or equal to false. "+r+" given.")}));t.falseOrDelay=a;var s=o((function(e,t,n){var i=e[t];return!1===i||(0,r.isValidElement)(i)?null:new Error(n+" expect "+t+" \n      to be a valid react element or equal to false. "+i+" given.")}));t.falseOrElement=s},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(37)},,,function(e,t,n){e.exports=n(50)},function(e,t,n){"use strict";var r,i=(r=n(22))&&"object"===typeof r&&"default"in r?r.default:r;e.exports=i},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";t.__esModule=!0,t.Flip=t.Zoom=t.Slide=t.Bounce=void 0;var r,i=(r=n(20))&&r.__esModule?r:{default:r};var o=(0,i.default)({enter:"Toastify__bounce-enter",exit:"Toastify__bounce-exit",appendPosition:!0});t.Bounce=o;var a=(0,i.default)({enter:"Toastify__slide-enter",exit:"Toastify__slide-exit",duration:[450,750],appendPosition:!0});t.Slide=a;var s=(0,i.default)({enter:"Toastify__zoom-enter",exit:"Toastify__zoom-exit"});t.Zoom=s;var u=(0,i.default)({enter:"Toastify__flip-enter",exit:"Toastify__flip-exit"});t.Flip=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.enter,n=e.exit,o=e.duration,u=void 0===o?750:o,c=e.appendPosition,l=void 0!==c&&c;return function(e){var o,c,f=e.children,h=e.position,p=e.preventExitTransition,d=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","position","preventExitTransition"]),m=l?t+"--"+h:t,y=l?n+"--"+h:n;Array.isArray(u)&&2===u.length?(o=u[0],c=u[1]):o=c=u;return r.default.createElement(i.default,a({},d,{timeout:p?0:{enter:o,exit:c},onEnter:function(e){e.classList.add(m),e.style.animationFillMode="forwards",e.style.animationDuration=.001*o+"s"},onEntered:function(e){e.classList.remove(m),e.style.cssText=""},onExit:p?s:function(e){e.classList.add(y),e.style.animationFillMode="forwards",e.style.animationDuration=.001*c+"s"}}),f)}};var r=o(n(0)),i=o(n(47));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(){}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={list:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e){return this.list.delete(e),this},emit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!this.list.has(e)&&(this.list.get(e).forEach((function(e){return setTimeout((function(){return e.call.apply(e,[null].concat(n))}),0)})),!0)}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(23),o=n(51),a=n(52),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),c=[],l=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){c.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){c=c.filter((function(t){return t!==e}))}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n="[DEFAULT]"!==t?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;o.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(c.forEach((function(e){t.INTERNAL.addAuthTokenListener(e)})),c=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc");var f=new a.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var h=self.firebase.SDK_VERSION;h&&h.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function e(){var t=function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!==typeof r||null===r){r={name:r}}var a=r;void 0===a.name&&(a.name="[DEFAULT]");var s=a.name;if("string"!==typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(o.contains(t,s))throw u.create("duplicate-app",{appName:s});var l=new e(n,a,i);return t[s]=l,c(l,"create"),l},app:a,apps:null,SDK_VERSION:"6.6.2",INTERNAL:{registerService:function(t,c,l,h,p){void 0===p&&(p=!1);if(n[t])return f.debug("There were multiple attempts to register service "+t+"."),i[t];n[t]=c,h&&(r[t]=h,s().forEach((function(e){h("create",e)})));function d(e){if(void 0===e&&(e=a()),"function"!==typeof e[t])throw u.create("invalid-app-argument",{appName:t});return e[t]()}void 0!==l&&o.deepExtend(d,l);return i[t]=d,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,p?e:[])},d},removeApp:function(e){c(t[e],"delete"),delete t[e]},factories:n,useAsService:l}};function a(e){if(e=e||"[DEFAULT]",!o.contains(t,e))throw u.create("no-app",{appName:e});return t[e]}function s(){return Object.keys(t).map((function(e){return t[e]}))}function c(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=l(e,o[i]);if(null===a)return;r[a]&&r[a](t,e)}}function l(e,t){return"serverAuth"===t?null:t}return i.default=i,Object.defineProperty(i,"apps",{get:s}),a.App=e,i}(l);return t.INTERNAL=i.__assign({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),d=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),d.apply(void 0,e)};var m=p;t.default=m,t.firebase=m},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return d})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return g})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return T})),n.d(t,"__importDefault",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(0)),i=o(n(34));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||i.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},i=function(e){return{pathname:e||function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}(),search:""}};t.default=function(){var e=i();return function(e){""===e.pathname&&r("/")}(e),{get location(){return i()},addEventListener:function(e,t){window.addEventListener(e,t)},removeEventListener:function(e,t){window.removeEventListener(e,t)},history:{state:e,pushState:function(t,n,r){var o;e=i(r),o=r,window.location.hash=o},replaceState:function(t,n,o){e=i(o),r(o)}}}}},,,function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return i}))},,function(e,t,n){"use strict";var r=n(18),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function E(){}function T(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var S=T.prototype=new E;S.constructor=T,r(S,w.prototype),S.isPureReactComponent=!0;var _={current:null},C=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!I.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:_.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var D=/\/+/g,A=[];function x(e,t,n,r){if(A.length){var i=A.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function R(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+P(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+P(s=t[c],c);u+=e(s,l,r,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=y&&t[y]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+P(s,c++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(D,"$&/")+"/"),R(e,L,t=x(t,o,r,i)),O(t)}var U={current:null};function q(){var e=U.current;if(null===e)throw Error(v(321));return e}var B={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,M,t=x(null,null,t,n)),O(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!N(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=T,t.StrictMode=u,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)C.call(t,l)&&!I.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return q().useCallback(e,t)},t.useContext=function(e,t){return q().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return q().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return q().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return q().useLayoutEffect(e,t)},t.useMemo=function(e,t){return q().useMemo(e,t)},t.useReducer=function(e,t,n){return q().useReducer(e,t,n)},t.useRef=function(e){return q().useRef(e)},t.useState=function(e){return q().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(33);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=(a(r),a(n(3))),o=a(n(35));a(n(36));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,a,f="__create-react-context-"+(0,o.default)()+"__",h=function(e){function n(){var t,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(o))),r.emitter=l(r.props.value),u(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;((o=n)===(a=r)?0!==o||1/o===1/a:o!==o&&a!==a)?i=0:(i="function"===typeof t?t(n,r):1073741823,0!==(i|=0)&&this.emitter.set(e.value,i))}var o,a},n.prototype.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[f]=i.default.object.isRequired,n);var p=function(t){function n(){var e,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},u(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((a={})[f]=i.default.object,a),{Provider:h,Consumer:p}},e.exports=t.default},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(10))},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(38);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,h={onError:function(e){u=!0,c=e}};function p(e,t,n,r,i,o,a,l,f){u=!1,c=null,s.apply(h,arguments)}var d=null,m=null,y=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=y(n),function(e,t,n,r,i,o,s,h,d){if(p.apply(this,arguments),u){if(!u)throw Error(a(198));var m=c;u=!1,c=null,l||(l=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var g=null,b={};function w(){if(g)for(var e in b){var t=b[e],n=g.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!T[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in T[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;if(S.hasOwnProperty(u))throw Error(a(99,u));S[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&E(c[i],s,u);i=!0}else o.registrationName?(E(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function E(e,t,n){if(_[e])throw Error(a(100,e));_[e]=t,C[e]=t.eventTypes[n].dependencies}var T=[],S={},_={},C={};function I(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&w()}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),N=null,D=null,A=null;function x(e){if(e=m(e)){if("function"!==typeof N)throw Error(a(280));var t=e.stateNode;t&&(t=d(t),N(e.stateNode,e.type,t))}}function O(e){D?A?A.push(e):A=[e]:D=e}function R(){if(D){var e=D,t=A;if(A=D=null,x(e),t)for(e=0;e<t.length;e++)x(t[e])}}function P(e,t){return e(t)}function M(e,t,n,r,i){return e(t,n,r,i)}function L(){}var F=P,U=!1,q=!1;function B(){null===D&&null===A||(L(),R())}function V(e,t,n){if(q)return e(t,n);q=!0;try{return F(e,t,n)}finally{q=!1,B()}}var j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,W={},Q={};function K(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var H=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(H,Y);G[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(H,Y);G[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(H,Y);G[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var i=G.hasOwnProperty(t)?G[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!z.call(Q,e)||!z.call(W,e)&&(j.test(e)?Q[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}$.hasOwnProperty("ReactCurrentDispatcher")||($.ReactCurrentDispatcher={current:null}),$.hasOwnProperty("ReactCurrentBatchConfig")||($.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,pe=Z?Symbol.for("react.block"):60121,de="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=de&&e[de]||e["@@iterator"])?e:null}function ye(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ye(e.type);case pe:return ye(e.render);case he:if(e=1===e._status?e._result:null)return ye(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ye(e.type);n=null,r&&(n=ye(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Se(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function _e(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Ce(e,t){_e(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ke(e,t.type,n):t.hasOwnProperty("defaultValue")&&ke(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ke(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ne(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function De(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function Oe(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Pe="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,qe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var je={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},ze={},We={};function Qe(e){if(ze[e])return ze[e];if(!je[e])return e;var t,n=je[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return ze[e]=n[t];return e}k&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete je.animationend.animation,delete je.animationiteration.animation,delete je.animationstart.animation),"TransitionEvent"in window||delete je.transitionend.transition);var Ke=Qe("animationend"),Ge=Qe("animationiteration"),He=Qe("animationstart"),Ye=Qe("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"===typeof WeakMap?WeakMap:Map);function Je(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(l)throw e=f,l=!1,f=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!k)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var lt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function ht(e,t,n,r){if(lt.length){var i=lt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=kn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<T.length;u++){var c=T[u];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=rt(s,c))}st(s)}}function dt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Ht(t,"scroll",!0);break;case"focus":case"blur":Ht(t,"focus",!0),Ht(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Ht(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Gt(e,t)}n.set(e,null)}}var mt,yt,vt,gt=!1,bt=[],wt=null,Et=null,Tt=null,St=new Map,_t=new Map,Ct=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),kt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Nt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Dt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function At(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Nt(t,n,r,i,o),null!==t&&(null!==(t=Nn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function xt(e){var t=kn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){Ot(e)&&n.delete(t)}function Pt(){for(gt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Ot(wt)&&(wt=null),null!==Et&&Ot(Et)&&(Et=null),null!==Tt&&Ot(Tt)&&(Tt=null),St.forEach(Rt),_t.forEach(Rt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Pt)))}function Lt(e){function t(t){return Mt(t,e)}if(0<bt.length){Mt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Mt(wt,e),null!==Et&&Mt(Et,e),null!==Tt&&Mt(Tt,e),St.forEach(t),_t.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)xt(n),null===n.blockedOn&&Ct.shift()}var Ft={},Ut=new Map,qt=new Map,Bt=["abort","abort",Ke,"animationEnd",Ge,"animationIteration",He,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},qt.set(r,t),Ut.set(r,o),Ft[i]=o}}Vt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Bt,2);for(var jt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<jt.length;zt++)qt.set(jt[zt],0);var Wt=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,Kt=!0;function Gt(e,t){Ht(t,e,!1)}function Ht(e,t,n){var r=qt.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Xt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){U||L();var i=Xt,o=U;U=!0;try{M(i,e,t,n,r)}finally{(U=o)||B()}}function $t(e,t,n,r){Qt(Wt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){if(Kt)if(0<bt.length&&-1<It.indexOf(e))e=Nt(null,e,t,n,r),bt.push(e);else{var i=Jt(e,t,n,r);if(null===i)Dt(e,r);else if(-1<It.indexOf(e))e=Nt(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=At(wt,e,t,n,r,i),!0;case"dragenter":return Et=At(Et,e,t,n,r,i),!0;case"mouseover":return Tt=At(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return St.set(o,At(St.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_t.set(o,At(_t.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Dt(e,r),e=ht(e,r,null,t);try{V(pt,e)}finally{ft(e)}}}}function Jt(e,t,n,r){if(null!==(n=kn(n=ut(r)))){var i=Ze(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ht(e,r,n,t);try{V(pt,e)}finally{ft(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Pe;function un(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=C[t];for(var r=0;r<t.length;r++)dt(t[r],e,n)}function cn(){}function ln(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function pn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,yn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,wn="function"===typeof clearTimeout?clearTimeout:void 0;function En(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Tn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),_n="__reactInternalInstance$"+Sn,Cn="__reactEventHandlers$"+Sn,In="__reactContainere$"+Sn;function kn(e){var t=e[_n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[In]||n[_n]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Tn(e);null!==e;){if(n=e[_n])return n;e=Tn(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[_n]||e[In])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Dn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function An(e){return e[Cn]||null}function xn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function On(e,t){var n=e.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Rn(e,t,n){(t=On(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Pn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=xn(t);for(t=n.length;0<t--;)Rn(n[t],"captured",e);for(t=0;t<n.length;t++)Rn(n[t],"bubbled",e)}}function Mn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=On(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Ln(e){e&&e.dispatchConfig.registrationName&&Mn(e._targetInst,null,e)}function Fn(e){it(e,Pn)}var Un=null,qn=null,Bn=null;function Vn(){if(Bn)return Bn;var e,t,n=qn,r=n.length,i="value"in Un?Un.value:Un.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function jn(){return!0}function zn(){return!1}function Wn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?jn:zn,this.isPropagationStopped=zn,this}function Qn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Kn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gn(e){e.eventPool=[],e.getPooled=Qn,e.release=Kn}i(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){this.isPersistent=jn},isPersistent:zn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Gn(n),n},Gn(Wn);var Hn=Wn.extend({data:null}),Yn=Wn.extend({data:null}),$n=[9,13,27,32],Xn=k&&"CompositionEvent"in window,Jn=null;k&&"documentMode"in document&&(Jn=document.documentMode);var Zn=k&&"TextEvent"in window&&!Jn,er=k&&(!Xn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==$n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Xn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Vn()):(qn="value"in(Un=r)?Un.value:Un.textContent,ar=!0)),o=Hn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Fn(o),i=o):i=null,(e=Zn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Xn&&ir(e,t)?(e=Vn(),Bn=qn=Un=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Yn.getPooled(nr.beforeInput,t,n,r)).data=e,Fn(t)):t=null,null===i?t:null===t?i:[i,t]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ur[e.type]:"textarea"===t}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Wn.getPooled(lr.change,e,t,n)).type="change",O(n),Fn(e),e}var hr=null,pr=null;function dr(e){st(e)}function mr(e){if(Ee(Dn(e)))return e}function yr(e,t){if("change"===e)return t}var vr=!1;function gr(){hr&&(hr.detachEvent("onpropertychange",br),pr=hr=null)}function br(e){if("value"===e.propertyName&&mr(pr))if(e=fr(pr,e,ut(e)),U)st(e);else{U=!0;try{P(dr,e)}finally{U=!1,B()}}}function wr(e,t,n){"focus"===e?(gr(),pr=n,(hr=t).attachEvent("onpropertychange",br)):"blur"===e&&gr()}function Er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(pr)}function Tr(e,t){if("click"===e)return mr(t)}function Sr(e,t){if("input"===e||"change"===e)return mr(t)}k&&(vr=ct("input")&&(!document.documentMode||9<document.documentMode));var _r={eventTypes:lr,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var i=t?Dn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=yr;else if(cr(i))if(vr)a=Sr;else{a=Er;var s=wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Tr);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&ke(i,"number",i.value)}},Cr=Wn.extend({view:null,detail:null}),Ir={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ir[e])&&!!t[e]}function Nr(){return kr}var Dr=0,Ar=0,xr=!1,Or=!1,Rr=Cr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Dr;return Dr=e.screenX,xr?"mousemove"===e.type?e.screenX-t:0:(xr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ar;return Ar=e.screenY,Or?"mousemove"===e.type?e.screenY-t:0:(Or=!0,0)}}),Pr=Rr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Mr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Mr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?kn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Rr,u=Mr.mouseLeave,c=Mr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Pr,u=Mr.pointerLeave,c=Mr.pointerEnter,l="pointer");if(e=null==a?o:Dn(a),o=null==t?o:Dn(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,a=0,e=s=r;e;e=xn(e))a++;for(e=0,t=c;t;t=xn(t))e++;for(;0<a-e;)s=xn(s),a--;for(;0<e-a;)c=xn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=xn(s),c=xn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=xn(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=xn(l);for(l=0;l<s.length;l++)Mn(s[l],"bubbled",u);for(l=r.length;0<l--;)Mn(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Fr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ur=Object.prototype.hasOwnProperty;function qr(e,t){if(Fr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ur.call(t,n[r])||!Fr(e[n[r]],t[n[r]]))return!1;return!0}var Br=k&&"documentMode"in document&&11>=document.documentMode,Vr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},jr=null,zr=null,Wr=null,Qr=!1;function Kr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Qr||null==jr||jr!==ln(n)?null:("selectionStart"in(n=jr)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&qr(Wr,n)?null:(Wr=n,(e=Wn.getPooled(Vr.select,zr,e,t)).type="select",e.target=jr,Fn(e),e))}var Gr={eventTypes:Vr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Je(i),o=C.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Dn(t):window,e){case"focus":(cr(i)||"true"===i.contentEditable)&&(jr=i,zr=t,Wr=null);break;case"blur":Wr=zr=jr=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qr=!1,Kr(n,r);case"selectionchange":if(Br)break;case"keydown":case"keyup":return Kr(n,r)}return null}},Hr=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yr=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$r=Cr.extend({relatedTarget:null});function Xr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Cr.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?Xr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Rr.extend({dataTransfer:null}),ni=Cr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),ri=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Rr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=Ut.get(e);if(!i)return null;switch(e){case"keypress":if(0===Xr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=$r;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ke:case Ge:case He:e=Hr;break;case Ye:e=ri;break;case"scroll":e=Cr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Pr;break;default:e=Wn}return Fn(t=e.getPooled(i,t,n,r)),t}};if(g)throw Error(a(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),d=An,m=Nn,y=Dn,I({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:_r,SelectEventPlugin:Gr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function ui(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ci(e,t){si++,ai[si]=e.current,e.current=t}var li={},fi={current:li},hi={current:!1},pi=li;function di(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ui(hi),ui(fi)}function vi(e,t,n){if(fi.current!==li)throw Error(a(168));ci(fi,t),ci(hi,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ye(t)||"Unknown",o));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,pi=fi.current,ci(fi,e),ci(hi,hi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ui(hi),ui(fi),ci(fi,e)):ui(hi),ci(hi,n)}var Ei=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,_i=o.unstable_requestPaint,Ci=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,ki=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,xi=o.unstable_IdlePriority,Oi={},Ri=o.unstable_shouldYield,Pi=void 0!==_i?_i:function(){},Mi=null,Li=null,Fi=!1,Ui=Ci(),qi=1e4>Ui?Ci:function(){return Ci()-Ui};function Bi(){switch(Ii()){case ki:return 99;case Ni:return 98;case Di:return 97;case Ai:return 96;case xi:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return ki;case 98:return Ni;case 97:return Di;case 96:return Ai;case 95:return xi;default:throw Error(a(332))}}function ji(e,t){return e=Vi(e),Ei(e,t)}function zi(e,t,n){return e=Vi(e),Ti(e,t,n)}function Wi(e){return null===Mi?(Mi=[e],Li=Ti(ki,Ki)):Mi.push(e),Oi}function Qi(){if(null!==Li){var e=Li;Li=null,Si(e)}Ki()}function Ki(){if(!Fi&&null!==Mi){Fi=!0;var e=0;try{var t=Mi;ji(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Mi=null}catch(n){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ti(ki,Qi),n}finally{Fi=!1}}}function Gi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Hi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Yi={current:null},$i=null,Xi=null,Ji=null;function Zi(){Ji=Xi=$i=null}function eo(e){var t=Yi.current;ui(Yi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){$i=e,Ji=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Aa=!0),e.firstContext=null)}function ro(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===$i)throw Error(a(308));Xi=t,$i.dependencies={expirationTime:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function lo(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,f=null,h=null,p=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var m={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(h=p=m,f=c):p=p.next=m,s>l&&(l=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ou(s,d.suspenseConfig);e:{var y=e,v=d;switch(s=t,m=n,v.tag){case 1:if("function"===typeof(y=v.payload)){c=y.call(m,c,s);break e}c=y;break e;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(s="function"===typeof(y=v.payload)?y.call(m,c,s):y)||void 0===s)break e;c=i({},c,s);break e;case 2:io=!0}}null!==d.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===p?f=c:p.next=h,o.baseState=f,o.baseQueue=p,au(l),e.expirationTime=l,e.memoizedState=c}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var ho=$.ReactCurrentBatchConfig,po=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ks(),i=ho.suspense;(i=so(r=Gs(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),uo(e,i),Hs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ks(),i=ho.suspense;(i=so(r=Gs(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),uo(e,i),Hs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ks(),r=ho.suspense;(r=so(n=Gs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),uo(e,r),Hs(e,n)}};function vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!qr(n,r)||!qr(i,o))}function go(e,t,n){var r=!1,i=li,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=mi(t)?pi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=mi(t)?pi:fi.current,i.context=di(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Eo=Array.isArray;function To(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function _o(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Du(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=ku(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Au(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Nu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Du(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=ku(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case te:return(t=Au(t,e.mode,n)).return=e,t}if(Eo(t)||me(t))return(t=Nu(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Eo(n)||me(n))return null!==i?null:f(e,t,n,r,null);So(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||me(r))return f(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,f=a,m=a=0,y=null;null!==f&&m<s.length;m++){f.index>m?(y=f,f=null):y=f.sibling;var v=p(i,f,s[m],u);if(null===v){null===f&&(f=y);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,f=y}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(a=o(f,a,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)null!==(y=d(f,i,m,s[m],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=me(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,m=s,y=s=0,v=null,g=u.next();null!==m&&!g.done;y++,g=u.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=p(i,m,g.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,y),null===f?l=b:f.sibling=b,f=b,m=v}if(g.done)return n(i,m),l;if(null===m){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return l}for(m=r(i,m);!g.done;y++,g=u.next())null!==(g=d(m,i,y,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case ee:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=To(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=Nu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=ku(o.type,o.key,o.props,null,e.mode,u)).ref=To(e,r,o),u.return=e,e=u)}return s(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Au(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Du(o,e.mode,u)).return=e,e=r),s(e);if(Eo(o))return m(e,r,o,u);if(me(o))return y(e,r,o,u);if(l&&So(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Co=_o(!0),Io=_o(!1),ko={},No={current:ko},Do={current:ko},Ao={current:ko};function xo(e){if(e===ko)throw Error(a(174));return e}function Oo(e,t){switch(ci(Ao,t),ci(Do,e),ci(No,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(No),ci(No,t)}function Ro(){ui(No),ui(Do),ui(Ao)}function Po(e){xo(Ao.current);var t=xo(No.current),n=Fe(t,e.type);t!==n&&(ci(Do,e),ci(No,n))}function Mo(e){Do.current===e&&(ui(No),ui(Do))}var Lo={current:0};function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Uo(e,t){return{responder:e,props:t}}var qo=$.ReactCurrentDispatcher,Bo=$.ReactCurrentBatchConfig,Vo=0,jo=null,zo=null,Wo=null,Qo=!1;function Ko(){throw Error(a(321))}function Go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fr(e[n],t[n]))return!1;return!0}function Ho(e,t,n,r,i,o){if(Vo=o,jo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,qo.current=null===e||null===e.memoizedState?va:ga,e=n(r,i),t.expirationTime===Vo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Wo=zo=null,t.updateQueue=null,qo.current=ba,e=n(r,i)}while(t.expirationTime===Vo)}if(qo.current=ya,t=null!==zo&&null!==zo.next,Vo=0,Wo=zo=jo=null,Qo=!1,t)throw Error(a(300));return e}function Yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?jo.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function $o(){if(null===zo){var e=jo.alternate;e=null!==e?e.memoizedState:null}else e=zo.next;var t=null===Wo?jo.memoizedState:Wo.next;if(null!==t)Wo=t,zo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(zo=e).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Wo?jo.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function Xo(e,t){return"function"===typeof t?t(e):t}function Jo(e){var t=$o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.expirationTime;if(l<Vo){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,l>jo.expirationTime&&(jo.expirationTime=l,au(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ou(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,Fr(r,t.memoizedState)||(Aa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zo(e){var t=$o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Fr(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e}).dispatch=ma.bind(null,jo,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=jo.updateQueue)?(t={lastEffect:null},jo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return $o().memoizedState}function ra(e,t,n,r){var i=Yo();jo.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=$o();r=void 0===r?null:r;var o=void 0;if(null!==zo){var a=zo.memoizedState;if(o=a.destroy,null!==r&&Go(r,a.deps))return void ta(t,n,o,r)}jo.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,ua.bind(null,t,e),n)}function la(){}function fa(e,t){return Yo().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=$o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=$o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function da(e,t,n){var r=Bi();ji(98>r?98:r,(function(){e(!0)})),ji(97<r?97:r,(function(){var r=Bo.suspense;Bo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Bo.suspense=r}}))}function ma(e,t,n){var r=Ks(),i=ho.suspense;i={expirationTime:r=Gs(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===jo||null!==o&&o===jo)Qo=!0,i.expirationTime=Vo,jo.expirationTime=Vo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Fr(s,a))return}catch(u){}Hs(e,r)}}var ya={readContext:ro,useCallback:Ko,useContext:Ko,useEffect:Ko,useImperativeHandle:Ko,useLayoutEffect:Ko,useMemo:Ko,useReducer:Ko,useRef:Ko,useState:Ko,useDebugValue:Ko,useResponder:Ko,useDeferredValue:Ko,useTransition:Ko},va={readContext:ro,useCallback:fa,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,jo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Yo().memoizedState=e},useState:ea,useDebugValue:la,useResponder:Uo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(da.bind(null,t,e),[t,e]),n]}},ga={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Jo,useRef:na,useState:function(){return Jo(Xo)},useDebugValue:la,useResponder:Uo,useDeferredValue:function(e,t){var n=Jo(Xo),r=n[0],i=n[1];return aa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Xo),n=t[0];return t=t[1],[ha(da.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Zo,useRef:na,useState:function(){return Zo(Xo)},useDebugValue:la,useResponder:Uo,useDeferredValue:function(e,t){var n=Zo(Xo),r=n[0],i=n[1];return aa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo(Xo),n=t[0];return t=t[1],[ha(da.bind(null,t,e),[t,e]),n]}},wa=null,Ea=null,Ta=!1;function Sa(e,t){var n=_u(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function _a(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ca(e){if(Ta){var t=Ea;if(t){var n=t;if(!_a(e,t)){if(!(t=En(n.nextSibling))||!_a(e,t))return e.effectTag=-1025&e.effectTag|2,Ta=!1,void(wa=e);Sa(wa,n)}wa=e,Ea=En(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ta=!1,wa=e}}function Ia(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function ka(e){if(e!==wa)return!1;if(!Ta)return Ia(e),Ta=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!gn(t,e.memoizedProps))for(t=Ea;t;)Sa(e,t),t=En(t.nextSibling);if(Ia(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ea=En(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ea=null}}else Ea=wa?En(e.stateNode.nextSibling):null;return!0}function Na(){Ea=wa=null,Ta=!1}var Da=$.ReactCurrentOwner,Aa=!1;function xa(e,t,n,r){t.child=null===e?Io(t,null,n,r):Co(t,e.child,n,r)}function Oa(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Ho(e,t,n,r,o,i),null===e||Aa?(t.effectTag|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ha(e,t,i))}function Ra(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Cu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ku(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pa(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:qr)(i,r)&&e.ref===t.ref)?Ha(e,t,o):(t.effectTag|=1,(e=Iu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Pa(e,t,n,r,i,o){return null!==e&&qr(e.memoizedProps,r)&&e.ref===t.ref&&(Aa=!1,i<o)?(t.expirationTime=e.expirationTime,Ha(e,t,o)):La(e,t,n,r,o)}function Ma(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,r,i){var o=mi(n)?pi:fi.current;return o=di(t,o),no(t,i),n=Ho(e,t,n,r,o,i),null===e||Aa?(t.effectTag|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ha(e,t,i))}function Fa(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),go(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=di(t,c=mi(n)?pi:fi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bo(t,a,r,c),io=!1;var h=t.memoizedState;a.state=h,lo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||hi.current||io?("function"===typeof l&&(mo(t,n,l,r),u=t.memoizedState),(s=io||vo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Hi(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ro(c):c=di(t,c=mi(n)?pi:fi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bo(t,a,r,c),io=!1,u=t.memoizedState,a.state=u,lo(t,r,a,i),h=t.memoizedState,s!==r||u!==h||hi.current||io?("function"===typeof l&&(mo(t,n,l,r),h=t.memoizedState),(l=io||vo(t,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Ua(e,t,n,r,o,i)}function Ua(e,t,n,r,i,o){Ma(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&wi(t,n,!1),Ha(e,t,o);r=t.stateNode,Da.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):xa(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function qa(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Oo(e,t.containerInfo)}var Ba,Va,ja,za={dehydrated:null,retryTime:0};function Wa(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Lo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Lo,1&a),null===e){if(void 0!==o.fallback&&Ca(t),s){if(s=o.fallback,(o=Nu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Nu(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=za,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Io(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Iu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Iu(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=za,t.child=n,i}return n=Co(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Nu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Nu(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=za,t.child=o,n}return t.memoizedState=null,t.child=Co(t,e,o.children,n)}function Qa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Ka(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ga(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,n);else if(19===e.tag)Qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Lo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ka(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ka(t,!0,n,null,o,t.lastEffect);break;case"together":Ka(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ha(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&au(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $a(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&yi(),null;case 3:return Ro(),ui(hi),ui(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!ka(t)||(t.effectTag|=4),null;case 5:Mo(t),n=xo(Ao.current);var o=t.type;if(null!==e&&null!=t.stateNode)Va(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=xo(No.current),ka(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[_n]=t,r[Cn]=s,o){case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Gt($e[e],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"form":Gt("reset",r),Gt("submit",r);break;case"details":Gt("toggle",r);break;case"input":Se(r,s),Gt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Gt("invalid",r),un(n,"onChange");break;case"textarea":xe(r,s),Gt("invalid",r),un(n,"onChange")}for(var u in on(o,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):_.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(o){case"input":we(r),Ie(r,s,!0);break;case"textarea":we(r),Re(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(o)),e===sn?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[_n]=t,e[Cn]=r,Ba(e,t),t.stateNode=e,u=an(o,r),o){case"iframe":case"object":case"embed":Gt("load",e),c=r;break;case"video":case"audio":for(c=0;c<$e.length;c++)Gt($e[c],e);c=r;break;case"source":Gt("error",e),c=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),c=r;break;case"form":Gt("reset",e),Gt("submit",e),c=r;break;case"details":Gt("toggle",e),c=r;break;case"input":Se(e,r),c=Te(e,r),Gt("invalid",e),un(n,"onChange");break;case"option":c=Ne(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Gt("invalid",e),un(n,"onChange");break;case"textarea":xe(e,r),c=Ae(e,r),Gt("invalid",e),un(n,"onChange");break;default:c=r}on(o,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&qe(e,f):"children"===s?"string"===typeof f?("textarea"!==o||""!==f)&&Be(e,f):"number"===typeof f&&Be(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(_.hasOwnProperty(s)?null!=f&&un(n,s):null!=f&&X(e,s,f,u))}switch(o){case"input":we(e),Ie(e,r,!1);break;case"textarea":we(e),Re(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?De(e,!!r.multiple,n,!1):null!=r.defaultValue&&De(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cn)}vn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)ja(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=xo(Ao.current),xo(No.current),ka(t)?(n=t.stateNode,r=t.memoizedProps,n[_n]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[_n]=t,t.stateNode=n)}return null;case 13:return ui(Lo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&ka(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?ks===ws&&(ks=Es):(ks!==ws&&ks!==Es||(ks=Ts),0!==Os&&null!==_s&&(Ru(_s,Is),Pu(_s,Os)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ro(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&yi(),null;case 19:if(ui(Lo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)Ya(r,!1);else if(ks!==ws||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Fo(s))){for(t.effectTag|=64,Ya(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ci(Lo,1&Lo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Fo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ya(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Ya(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=qi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Lo.current,ci(Lo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Xa(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ro(),ui(hi),ui(fi),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ui(Lo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Lo),null;case 4:return Ro(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ve(t)}}Ba=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,c=t.stateNode;switch(xo(No.current),e=null,n){case"input":a=Te(c,a),r=Te(c,r),e=[];break;case"option":a=Ne(c,a),r=Ne(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Ae(c,a),r=Ae(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=cn)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(_.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(_.hasOwnProperty(s)?(null!=l&&un(o,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},ja=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&ye(n.type),t=t.value,null!==e&&1===e.tag&&ye(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){gu(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Hi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Hi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof Tu&&Tu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;ji(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){gu(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){gu(e,n)}}(t,n);break;case 5:ts(t);break;case 4:ls(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(us(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ls(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,f=c;;)if(as(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Cn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&_e(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?qe(n,u):"children"===s?Be(n,u):X(n,s,u,t)}switch(e){case"input":Ce(n,r);break;case"textarea":Oe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?De(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?De(n,!!r.multiple,r.defaultValue,!0):De(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ps=qi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(a(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=wu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,Fs=r),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Us?Us=new Set([this]):Us.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ys,vs=Math.ceil,gs=$.ReactCurrentDispatcher,bs=$.ReactCurrentOwner,ws=0,Es=3,Ts=4,Ss=0,_s=null,Cs=null,Is=0,ks=ws,Ns=null,Ds=1073741823,As=1073741823,xs=null,Os=0,Rs=!1,Ps=0,Ms=null,Ls=!1,Fs=null,Us=null,qs=!1,Bs=null,Vs=90,js=null,zs=0,Ws=null,Qs=0;function Ks(){return 0!==(48&Ss)?1073741821-(qi()/10|0):0!==Qs?Qs:Qs=1073741821-(qi()/10|0)}function Gs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Bi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Ss))return Is;if(null!==n)e=Gi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Gi(e,150,100);break;case 97:case 96:e=Gi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==_s&&e===Is&&--e,e}function Hs(e,t){if(50<zs)throw zs=0,Ws=null,Error(a(185));if(null!==(e=Ys(e,t))){var n=Bi();1073741823===t?0!==(8&Ss)&&0===(48&Ss)?Zs(e):(Xs(e),0===Ss&&Qi()):Xs(e),0===(4&Ss)||98!==n&&99!==n||(null===js?js=new Map([[e,t]]):(void 0===(n=js.get(e))||n>t)&&js.set(e,t))}}function Ys(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(_s===i&&(au(t),ks===Ts&&Ru(i,Is)),Pu(i,t)),i}function $s(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ou(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Xs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wi(Zs.bind(null,e));else{var t=$s(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Ks();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Oi&&Si(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wi(Zs.bind(null,e)):zi(r,Js.bind(null,e),{timeout:10*(1073741821-t)-qi()}),e.callbackNode=t}}}function Js(e,t){if(Qs=0,t)return Mu(e,t=Ks()),Xs(e),null;var n=$s(e);if(0!==n){if(t=e.callbackNode,0!==(48&Ss))throw Error(a(327));if(mu(),e===_s&&n===Is||nu(e,n),null!==Cs){var r=Ss;Ss|=16;for(var i=iu();;)try{uu();break}catch(u){ru(e,u)}if(Zi(),Ss=r,gs.current=i,1===ks)throw t=Ns,nu(e,n),Ru(e,n),Xs(e),t;if(null===Cs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=ks,_s=null,r){case ws:case 1:throw Error(a(345));case 2:Mu(e,2<n?2:n);break;case Es:if(Ru(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),1073741823===Ds&&10<(i=Ps+500-qi())){if(Rs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(o=$s(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(hu.bind(null,e),i);break}hu(e);break;case Ts:if(Ru(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),Rs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(i=$s(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==As?r=10*(1073741821-As)-qi():1073741823===Ds?r=0:(r=10*(1073741821-Ds)-5e3,0>(r=(i=qi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(hu.bind(null,e),r);break}hu(e);break;case 5:if(1073741823!==Ds&&null!==xs){o=Ds;var s=xs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=qi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Ru(e,n),e.timeoutHandle=bn(hu.bind(null,e),r);break}}hu(e);break;default:throw Error(a(329))}if(Xs(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Zs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ss))throw Error(a(327));if(mu(),e===_s&&t===Is||nu(e,t),null!==Cs){var n=Ss;Ss|=16;for(var r=iu();;)try{su();break}catch(i){ru(e,i)}if(Zi(),Ss=n,gs.current=r,1===ks)throw n=Ns,nu(e,t),Ru(e,t),Xs(e),n;if(null!==Cs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,_s=null,hu(e),Xs(e)}return null}function eu(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&Qi()}}function tu(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&Qi()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Ro(),ui(hi),ui(fi);break;case 5:Mo(r);break;case 4:Ro();break;case 13:case 19:ui(Lo);break;case 10:eo(r)}n=n.return}_s=e,Cs=Iu(e.current,null),Is=t,ks=ws,Ns=null,As=Ds=1073741823,xs=null,Os=0,Rs=!1}function ru(e,t){for(;;){try{if(Zi(),qo.current=ya,Qo)for(var n=jo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Vo=0,Wo=zo=jo=null,Qo=!1,null===Cs||null===Cs.return)return ks=1,Ns=t,Cs=null;e:{var i=e,o=Cs.return,a=Cs,s=t;if(t=Is,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&Lo.current),f=o;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var d=f.memoizedProps;h=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(h){var m=f.updateQueue;if(null===m){var y=new Set;y.add(u),f.updateQueue=y}else m.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(1073741823,null);v.tag=2,uo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new ps,s=new Set,g.set(u,s)):void 0===(s=g.get(u))&&(s=new Set,g.set(u,s)),!s.has(a)){s.add(a);var b=bu.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ye(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==ks&&(ks=2),s=Ja(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,co(f,ds(f,u,t));break e;case 1:u=s;var w=f.type,E=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Us||!Us.has(E)))){f.effectTag|=4096,f.expirationTime=t,co(f,ms(f,u,t));break e}}f=f.return}while(null!==f)}Cs=lu(Cs)}catch(T){t=T;continue}break}}function iu(){var e=gs.current;return gs.current=ya,null===e?ya:e}function ou(e,t){e<Ds&&2<e&&(Ds=e),null!==t&&e<As&&2<e&&(As=e,xs=t)}function au(e){e>Os&&(Os=e)}function su(){for(;null!==Cs;)Cs=cu(Cs)}function uu(){for(;null!==Cs&&!Ri();)Cs=cu(Cs)}function cu(e){var t=ys(e.alternate,e,Is);return e.memoizedProps=e.pendingProps,null===t&&(t=lu(e)),bs.current=null,t}function lu(e){Cs=e;do{var t=Cs.alternate;if(e=Cs.return,0===(2048&Cs.effectTag)){if(t=$a(t,Cs,Is),1===Is||1!==Cs.childExpirationTime){for(var n=0,r=Cs.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Cs.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Cs.firstEffect),null!==Cs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Cs.firstEffect),e.lastEffect=Cs.lastEffect),1<Cs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Cs:e.firstEffect=Cs,e.lastEffect=Cs))}else{if(null!==(t=Xa(Cs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Cs.sibling))return t;Cs=e}while(null!==Cs);return ks===ws&&(ks=5),null}function fu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hu(e){var t=Bi();return ji(99,pu.bind(null,e,t)),null}function pu(e,t){do{mu()}while(null!==Bs);if(0!==(48&Ss))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===_s&&(Cs=_s=null,Is=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ss;Ss|=32,bs.current=null,mn=Kt;var s=pn();if(dn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(I){u=null;break e}var h=0,p=-1,d=-1,m=0,y=0,v=s,g=null;t:for(;;){for(var b;v!==u||0!==l&&3!==v.nodeType||(p=h+l),v!==f||0!==c&&3!==v.nodeType||(d=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)g=v,v=b;for(;;){if(v===s)break t;if(g===u&&++m===l&&(p=h),g===f&&++y===c&&(d=h),null!==(b=v.nextSibling))break;g=(v=g).parentNode}v=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;yn={activeElementDetached:null,focusedElem:s,selectionRange:u},Kt=!1,Ms=i;do{try{du()}catch(I){if(null===Ms)throw Error(a(330));gu(Ms,I),Ms=Ms.nextEffect}}while(null!==Ms);Ms=i;do{try{for(s=e,u=t;null!==Ms;){var w=Ms.effectTag;if(16&w&&Be(Ms.stateNode,""),128&w){var E=Ms.alternate;if(null!==E){var T=E.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(1038&w){case 2:cs(Ms),Ms.effectTag&=-3;break;case 6:cs(Ms),Ms.effectTag&=-3,fs(Ms.alternate,Ms);break;case 1024:Ms.effectTag&=-1025;break;case 1028:Ms.effectTag&=-1025,fs(Ms.alternate,Ms);break;case 4:fs(Ms.alternate,Ms);break;case 8:ls(s,l=Ms,u),ss(l)}Ms=Ms.nextEffect}}catch(I){if(null===Ms)throw Error(a(330));gu(Ms,I),Ms=Ms.nextEffect}}while(null!==Ms);if(T=yn,E=pn(),w=T.focusedElem,u=T.selectionRange,E!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&dn(w)&&(E=u.start,void 0===(T=u.end)&&(T=E),"selectionStart"in w?(w.selectionStart=E,w.selectionEnd=Math.min(T,w.value.length)):(T=(E=w.ownerDocument||document)&&E.defaultView||window).getSelection&&(T=T.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!T.extend&&s>u&&(l=u,u=s,s=l),l=hn(w,s),f=hn(w,u),l&&f&&(1!==T.rangeCount||T.anchorNode!==l.node||T.anchorOffset!==l.offset||T.focusNode!==f.node||T.focusOffset!==f.offset)&&((E=E.createRange()).setStart(l.node,l.offset),T.removeAllRanges(),s>u?(T.addRange(E),T.extend(f.node,f.offset)):(E.setEnd(f.node,f.offset),T.addRange(E))))),E=[];for(T=w;T=T.parentNode;)1===T.nodeType&&E.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<E.length;w++)(T=E[w]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Kt=!!mn,yn=mn=null,e.current=n,Ms=i;do{try{for(w=e;null!==Ms;){var S=Ms.effectTag;if(36&S&&os(w,Ms.alternate,Ms),128&S){E=void 0;var _=Ms.ref;if(null!==_){var C=Ms.stateNode;switch(Ms.tag){case 5:E=C;break;default:E=C}"function"===typeof _?_(E):_.current=E}}Ms=Ms.nextEffect}}catch(I){if(null===Ms)throw Error(a(330));gu(Ms,I),Ms=Ms.nextEffect}}while(null!==Ms);Ms=null,Pi(),Ss=o}else e.current=n;if(qs)qs=!1,Bs=e,Vs=t;else for(Ms=i;null!==Ms;)t=Ms.nextEffect,Ms.nextEffect=null,Ms=t;if(0===(t=e.firstPendingTime)&&(Us=null),1073741823===t?e===Ws?zs++:(zs=0,Ws=e):zs=0,"function"===typeof Eu&&Eu(n.stateNode,r),Xs(e),Ls)throw Ls=!1,e=Fs,Fs=null,e;return 0!==(8&Ss)||Qi(),null}function du(){for(;null!==Ms;){var e=Ms.effectTag;0!==(256&e)&&ns(Ms.alternate,Ms),0===(512&e)||qs||(qs=!0,zi(97,(function(){return mu(),null}))),Ms=Ms.nextEffect}}function mu(){if(90!==Vs){var e=97<Vs?97:Vs;return Vs=90,ji(e,yu)}}function yu(){if(null===Bs)return!1;var e=Bs;if(Bs=null,0!==(48&Ss))throw Error(a(331));var t=Ss;for(Ss|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===e)throw Error(a(330));gu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ss=t,Qi(),!0}function vu(e,t,n){uo(e,t=ds(e,t=Ja(n,t),1073741823)),null!==(e=Ys(e,1073741823))&&Xs(e)}function gu(e,t){if(3===e.tag)vu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Us||!Us.has(r))){uo(n,e=ms(n,e=Ja(t,e),1073741823)),null!==(n=Ys(n,1073741823))&&Xs(n);break}}n=n.return}}function bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),_s===e&&Is===n?ks===Ts||ks===Es&&1073741823===Ds&&qi()-Ps<500?nu(e,Is):Rs=!0:Ou(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Xs(e)))}function wu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Gs(t=Ks(),e,null)),null!==(e=Ys(e,t))&&Xs(e)}ys=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||hi.current)Aa=!0;else{if(r<n){switch(Aa=!1,t.tag){case 3:qa(t),Na();break;case 5:if(Po(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&bi(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ci(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Wa(e,t,n):(ci(Lo,1&Lo.current),null!==(t=Ha(e,t,n))?t.sibling:null);ci(Lo,1&Lo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Ga(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Lo,Lo.current),!r)return null}return Ha(e,t,n)}Aa=!1}}else Aa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=di(t,fi.current),no(t,n),i=Ho(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternalFiber=t,wo(t,r,e,n),t=Ua(null,t,r,!0,o,n)}else t.tag=0,xa(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Cu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Hi(i,e),o){case 0:t=La(null,t,i,e,n);break e;case 1:t=Fa(null,t,i,e,n);break e;case 11:t=Oa(null,t,i,e,n);break e;case 14:t=Ra(null,t,i,Hi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:if(qa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Na(),t=Ha(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ea=En(t.stateNode.containerInfo.firstChild),wa=t,i=Ta=!0),i)for(n=Io(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else xa(e,t,r,n),Na();t=t.child}return t;case 5:return Po(t),null===e&&Ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,gn(r,i)?s=null:null!==o&&gn(r,o)&&(t.effectTag|=16),Ma(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xa(e,t,s,n),t=t.child),t;case 6:return null===e&&Ca(t),null;case 13:return Wa(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Oa(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(ci(Yi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Fr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){t=Ha(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=so(n,null)).tag=2,uo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),to(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,xa(e,t,r,n),t.child;case 14:return o=Hi(i=t.type,t.pendingProps),Ra(e,t,i,o=Hi(i.type,o),r,n);case 15:return Pa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,no(t,n),go(t,r,i),wo(t,r,i,n),Ua(null,t,r,!0,e,n);case 19:return Ga(e,t,n)}throw Error(a(156,t.tag))};var Eu=null,Tu=null;function Su(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function _u(e,t,n,r){return new Su(e,t,n,r)}function Cu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var n=e.alternate;return null===n?((n=_u(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ku(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Cu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Nu(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=_u(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=_u(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case le:return(e=_u(19,n,t,i)).elementType=le,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case he:s=16,r=null;break e;case pe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=_u(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Nu(e,t,n,r){return(e=_u(7,e,r,t)).expirationTime=n,e}function Du(e,t,n){return(e=_u(6,e,null,t)).expirationTime=n,e}function Au(e,t,n){return(t=_u(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ou(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ru(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Pu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Mu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Lu(e,t,n,r){var i=t.current,o=Ks(),s=ho.suspense;o=Gs(o,i,s);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=gi(n,c,u);break e}}n=u}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),Hs(i,o),o}function Fu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Uu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function qu(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}function Bu(e,t,n){var r=new xu(e,t,n=null!=n&&!0===n.hydrate),i=_u(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[In]=r.current,n&&0!==t&&function(e,t){var n=Je(t);It.forEach((function(e){dt(e,t,n)})),kt.forEach((function(e){dt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Vu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ju(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Fu(a);s.call(e)}}Lu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Bu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Fu(a);u.call(e)}}tu((function(){Lu(t,a,e,i)}))}return Fu(a)}function zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Wu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vu(t))throw Error(a(200));return zu(e,t,null,n)}Bu.prototype.render=function(e){Lu(e,this._internalRoot,null,null)},Bu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Lu(null,e,null,(function(){t[In]=null}))},mt=function(e){if(13===e.tag){var t=Gi(Ks(),150,100);Hs(e,t),qu(e,t)}},yt=function(e){13===e.tag&&(Hs(e,3),qu(e,3))},vt=function(e){if(13===e.tag){var t=Ks();Hs(e,t=Gs(t,e,null)),qu(e,t)}},N=function(e,t,n){switch(t){case"input":if(Ce(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=An(r);if(!i)throw Error(a(90));Ee(r),Ce(r,i)}}}break;case"textarea":Oe(e,n);break;case"select":null!=(t=n.value)&&De(e,!!n.multiple,t,!1)}},P=eu,M=function(e,t,n,r,i){var o=Ss;Ss|=4;try{return ji(98,e.bind(null,t,n,r,i))}finally{0===(Ss=o)&&Qi()}},L=function(){0===(49&Ss)&&(function(){if(null!==js){var e=js;js=null,e.forEach((function(e,t){Mu(t,e),Xs(t)})),Qi()}}(),mu())},F=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&Qi()}};var Qu={Events:[Nn,Dn,An,I,S,Fn,function(e){it(e,Ln)},O,R,Xt,st,mu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Eu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Tu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:kn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qu,t.createPortal=Wu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ss))throw Error(a(187));var n=Ss;Ss|=1;try{return ji(99,e.bind(null,t))}finally{Ss=n,Qi()}},t.hydrate=function(e,t,n){if(!Vu(t))throw Error(a(200));return ju(null,e,t,!0,n)},t.render=function(e,t,n){if(!Vu(t))throw Error(a(200));return ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Vu(e))throw Error(a(40));return!!e._reactRootContainer&&(tu((function(){ju(null,null,e,!1,(function(){e._reactRootContainer=null,e[In]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return Wu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vu(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return ju(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(39)},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,d=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var v=p.now();t.unstable_now=function(){return p.now()-v}}var g=!1,b=null,w=-1,E=5,T=0;a=function(){return t.unstable_now()>=T},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,_=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();T=e+E;try{b(!0,e)?_.postMessage(null):(g=!1,b=null)}catch(n){throw _.postMessage(null),n}}else g=!1},r=function(e){b=e,g||(g=!0,_.postMessage(null))},i=function(e,n){w=d((function(){e(t.unstable_now())}),n)},o=function(){m(w),w=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<N(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>N(a,n))void 0!==u&&0>N(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>N(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function N(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var D=[],A=[],x=1,O=null,R=3,P=!1,M=!1,L=!1;function F(e){for(var t=I(A);null!==t;){if(null===t.callback)k(A);else{if(!(t.startTime<=e))break;k(A),t.sortIndex=t.expirationTime,C(D,t)}t=I(A)}}function U(e){if(L=!1,F(e),!M)if(null!==I(D))M=!0,r(q);else{var t=I(A);null!==t&&i(U,t.startTime-e)}}function q(e,n){M=!1,L&&(L=!1,o()),P=!0;var r=R;try{for(F(n),O=I(D);null!==O&&(!(O.expirationTime>n)||e&&!a());){var s=O.callback;if(null!==s){O.callback=null,R=O.priorityLevel;var u=s(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?O.callback=u:O===I(D)&&k(D),F(n)}else k(D);O=I(D)}if(null!==O)var c=!0;else{var l=I(A);null!==l&&i(U,l.startTime-n),c=!1}return c}finally{O=null,R=r,P=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||P||(M=!0,r(q))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return I(D)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:B(e)}else a=B(e),u=s;return e={id:x++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,C(A,e),null===I(D)&&e===I(A)&&(L?o():L=!0,i(U,u-s))):(e.sortIndex=a,C(D,e),M||P||(M=!0,r(q))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=I(D);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},function(e,t,n){},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=p(n(3)),o=p(n(1)),a=p(n(42)),s=p(n(44)),u=p(n(46)),c=n(19),l=n(8),f=p(n(21)),h=n(12);function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={toast:[]},t.toastKey=1,t.collection={},t.isToastActive=function(e){return-1!==t.state.toast.indexOf(e)},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=i.prototype;return u.componentDidMount=function(){var e=this;f.default.on(l.ACTION.SHOW,(function(t,n){return e.show(t,n)})).on(l.ACTION.CLEAR,(function(t){return t?e.removeToast(t):e.clear()})).emit(l.ACTION.DID_MOUNT,this)},u.componentWillUnmount=function(){f.default.off(l.ACTION.SHOW).off(l.ACTION.CLEAR).emit(l.ACTION.WILL_UNMOUNT)},u.removeToast=function(e){this.setState({toast:this.state.toast.filter((function(t){return t!==e}))},this.dispatchChange)},u.dispatchChange=function(){f.default.emit(l.ACTION.ON_CHANGE,this.state.toast.length)},u.makeCloseButton=function(e,t,n){var i=this,o=this.props.closeButton;return((0,r.isValidElement)(e)||!1===e)&&(o=e),!1!==o&&(0,r.cloneElement)(o,{closeToast:function(){return i.removeToast(t)},type:n})},u.getAutoCloseDelay=function(e){return!1===e||(0,h.isValidDelay)(e)?e:this.props.autoClose},u.canBeRendered=function(e){return(0,r.isValidElement)(e)||"string"===typeof e||"number"===typeof e||"function"===typeof e},u.parseClassName=function(e){return"string"===typeof e?e:null!==e&&"object"===typeof e&&"toString"in e?e.toString():null},u.show=function(e,t){var n,i=this;if(!this.canBeRendered(e))throw new Error("The element you provided cannot be rendered. You provided an element of type "+typeof e);var o=t.toastId,a=function(){return i.removeToast(o)},s={id:o,key:t.key||this.toastKey++,type:t.type,closeToast:a,updateId:t.updateId,rtl:this.props.rtl,position:t.position||this.props.position,transition:t.transition||this.props.transition,className:this.parseClassName(t.className||this.props.toastClassName),bodyClassName:this.parseClassName(t.bodyClassName||this.props.bodyClassName),closeButton:this.makeCloseButton(t.closeButton,o,t.type),pauseOnHover:"boolean"===typeof t.pauseOnHover?t.pauseOnHover:this.props.pauseOnHover,pauseOnFocusLoss:"boolean"===typeof t.pauseOnFocusLoss?t.pauseOnFocusLoss:this.props.pauseOnFocusLoss,draggable:"boolean"===typeof t.draggable?t.draggable:this.props.draggable,draggablePercent:"number"!==typeof t.draggablePercent||isNaN(t.draggablePercent)?this.props.draggablePercent:t.draggablePercent,closeOnClick:"boolean"===typeof t.closeOnClick?t.closeOnClick:this.props.closeOnClick,progressClassName:this.parseClassName(t.progressClassName||this.props.progressClassName),progressStyle:this.props.progressStyle,autoClose:this.getAutoCloseDelay(t.autoClose),hideProgressBar:"boolean"===typeof t.hideProgressBar?t.hideProgressBar:this.props.hideProgressBar,progress:parseFloat(t.progress),isProgressDone:t.isProgressDone};"function"===typeof t.onOpen&&(s.onOpen=t.onOpen),"function"===typeof t.onClose&&(s.onClose=t.onClose),(0,r.isValidElement)(e)&&"string"!==typeof e.type&&"number"!==typeof e.type?e=(0,r.cloneElement)(e,{closeToast:a}):"function"===typeof e&&(e=e({closeToast:a})),this.collection=m({},this.collection,((n={})[o]={position:s.position,options:s,content:e},n)),this.setState({toast:(s.updateId?d(this.state.toast):d(this.state.toast).concat([o])).filter((function(e){return e!==t.staleToastId}))},this.dispatchChange)},u.makeToast=function(e,t){return r.default.createElement(s.default,m({},t,{isDocumentHidden:this.state.isDocumentHidden,key:"toast-"+t.key}),e)},u.clear=function(){this.setState({toast:[]})},u.renderToast=function(){var e=this,t={},n=this.props,i=n.className,s=n.style;return(n.newestOnTop?Object.keys(this.collection).reverse():Object.keys(this.collection)).forEach((function(n){var r=e.collection[n],i=r.position,o=r.options,a=r.content;t[i]||(t[i]=[]),-1!==e.state.toast.indexOf(o.id)?t[i].push(e.makeToast(a,o)):(t[i].push(null),delete e.collection[n])})),Object.keys(t).map((function(n){var u=1===t[n].length&&null===t[n][0],c={className:(0,o.default)("Toastify__toast-container","Toastify__toast-container--"+n,{"Toastify__toast-container--rtl":e.props.rtl},e.parseClassName(i)),style:u?m({},s,{pointerEvents:"none"}):m({},s)};return r.default.createElement(a.default,m({},c,{key:"container-"+n}),t[n])}))},u.render=function(){return r.default.createElement("div",{className:"Toastify"},this.renderToast())},i}(r.Component);y.propTypes={position:i.default.oneOf((0,h.objectValues)(l.POSITION)),autoClose:h.falseOrDelay,closeButton:h.falseOrElement,hideProgressBar:i.default.bool,pauseOnHover:i.default.bool,closeOnClick:i.default.bool,newestOnTop:i.default.bool,className:i.default.oneOfType([i.default.string,i.default.object]),style:i.default.object,toastClassName:i.default.oneOfType([i.default.string,i.default.object]),bodyClassName:i.default.oneOfType([i.default.string,i.default.object]),progressClassName:i.default.oneOfType([i.default.string,i.default.object]),progressStyle:i.default.object,transition:i.default.func,rtl:i.default.bool,draggable:i.default.bool,draggablePercent:i.default.number,pauseOnFocusLoss:i.default.bool},y.defaultProps={position:l.POSITION.TOP_RIGHT,transition:c.Bounce,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:r.default.createElement(u.default,null),pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,className:null,style:null,toastClassName:null,bodyClassName:null,progressClassName:null,progressStyle:null};var v=y;t.default=v},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),i=s(n(0)),o=n(11),a=n(43);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=u({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);f.childContextTypes={transitionGroup:r.default.object.isRequired},f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var h=(0,o.polyfill)(f);t.default=h,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),u=o(t,s);return Object.keys(u).forEach((function(i){var o=u[i];if((0,r.isValidElement)(o)){var c=i in t,l=i in s,f=t[i],h=(0,r.isValidElement)(f)&&!f.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,r.isValidElement)(f)&&(u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:f.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):u[i]=(0,r.cloneElement)(o,{in:!1}):u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),u};var r=n(0);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=c(n(3)),o=c(n(1)),a=c(n(45)),s=n(8),u=n(12);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function h(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}var p=function(){},d=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isRunning:!0,preventExitTransition:!1},t.flag={canCloseOnClick:!0,canDrag:!1},t.drag={start:0,x:0,y:0,deltaX:0,removalDistance:0},t.ref=null,t.pauseToast=function(){t.props.autoClose&&t.setState({isRunning:!1})},t.playToast=function(){t.props.autoClose&&t.setState({isRunning:!0})},t.onDragStart=function(e){t.flag.canCloseOnClick=!0,t.flag.canDrag=!0,t.ref.style.transition="",t.drag.start=t.drag.x=f(e.nativeEvent),t.drag.removalDistance=t.ref.offsetWidth*(t.props.draggablePercent/100)},t.onDragMove=function(e){t.flag.canDrag&&(t.state.isRunning&&t.pauseToast(),t.drag.x=f(e),t.drag.deltaX=t.drag.x-t.drag.start,t.drag.start!==t.drag.x&&(t.flag.canCloseOnClick=!1),t.ref.style.transform="translateX("+t.drag.deltaX+"px)",t.ref.style.opacity=1-Math.abs(t.drag.deltaX/t.drag.removalDistance))},t.onDragEnd=function(e){if(t.flag.canDrag){if(t.flag.canDrag=!1,Math.abs(t.drag.deltaX)>t.drag.removalDistance)return void t.setState({preventExitTransition:!0},t.props.closeToast);t.drag.y=h(e),t.ref.style.transition="transform 0.2s, opacity 0.2s",t.ref.style.transform="translateX(0)",t.ref.style.opacity=1}},t.onDragTransitionEnd=function(){var e=t.ref.getBoundingClientRect(),n=e.top,r=e.bottom,i=e.left,o=e.right;t.props.pauseOnHover&&t.drag.x>=i&&t.drag.x<=o&&t.drag.y>=n&&t.drag.y<=r?t.pauseToast():t.playToast()},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.componentDidMount=function(){this.props.onOpen(this.props.children.props),this.props.draggable&&this.bindDragEvents(),this.props.pauseOnFocusLoss&&this.bindFocusEvents()},s.componentDidUpdate=function(e){e.draggable!==this.props.draggable&&(this.props.draggable?this.bindDragEvents():this.unbindDragEvents()),e.pauseOnFocusLoss!==this.props.pauseOnFocusLoss&&(this.props.pauseOnFocusLoss?this.bindFocusEvents():this.unbindFocusEvents())},s.componentWillUnmount=function(){this.props.onClose(this.props.children.props),this.props.draggable&&this.unbindDragEvents(),this.props.pauseOnFocusLoss&&this.unbindFocusEvents()},s.bindFocusEvents=function(){window.addEventListener("focus",this.playToast),window.addEventListener("blur",this.pauseToast)},s.unbindFocusEvents=function(){window.removeEventListener("focus",this.playToast),window.removeEventListener("blur",this.pauseToast)},s.bindDragEvents=function(){document.addEventListener("mousemove",this.onDragMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchmove",this.onDragMove),document.addEventListener("touchend",this.onDragEnd)},s.unbindDragEvents=function(){document.removeEventListener("mousemove",this.onDragMove),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchmove",this.onDragMove),document.removeEventListener("touchend",this.onDragEnd)},s.render=function(){var e=this,t=this.props,n=t.closeButton,i=t.children,s=t.autoClose,u=t.pauseOnHover,c=t.closeOnClick,f=t.type,h=t.hideProgressBar,p=t.closeToast,d=t.transition,m=t.position,y=t.onExited,v=t.className,g=t.bodyClassName,b=t.progressClassName,w=t.progressStyle,E=t.updateId,T=t.role,S=t.progress,_=t.isProgressDone,C=t.rtl,I={className:(0,o.default)("Toastify__toast","Toastify__toast--"+f,{"Toastify__toast--rtl":C},v)};s&&u&&(I.onMouseEnter=this.pauseToast,I.onMouseLeave=this.playToast),c&&(I.onClick=function(){return e.flag.canCloseOnClick&&p()});var k=parseFloat(S)===S;return r.default.createElement(d,{in:this.props.in,appear:!0,unmountOnExit:!0,onExited:y,position:m,preventExitTransition:this.state.preventExitTransition},r.default.createElement("div",l({},I,{ref:function(t){return e.ref=t},onMouseDown:this.onDragStart,onTouchStart:this.onDragStart,onTransitionEnd:this.onDragTransitionEnd}),r.default.createElement("div",l({},this.props.in&&{role:T},{className:(0,o.default)("Toastify__toast-body",g)}),i),n&&n,(s||k)&&r.default.createElement(a.default,l({},E&&!k?{key:"pb-"+E}:{},{rtl:C,delay:s,isRunning:this.state.isRunning,closeToast:p,hide:h,type:f,style:w,className:b,controlledProgress:k,isProgressDone:_,progress:S}))))},i}(r.Component);d.propTypes={closeButton:u.falseOrElement.isRequired,autoClose:u.falseOrDelay.isRequired,children:i.default.node.isRequired,closeToast:i.default.func.isRequired,position:i.default.oneOf((0,u.objectValues)(s.POSITION)).isRequired,pauseOnHover:i.default.bool.isRequired,pauseOnFocusLoss:i.default.bool.isRequired,closeOnClick:i.default.bool.isRequired,transition:i.default.func.isRequired,rtl:i.default.bool.isRequired,hideProgressBar:i.default.bool.isRequired,draggable:i.default.bool.isRequired,draggablePercent:i.default.number.isRequired,in:i.default.bool,onExited:i.default.func,onOpen:i.default.func,onClose:i.default.func,type:i.default.oneOf((0,u.objectValues)(s.TYPE)),className:i.default.oneOfType([i.default.string,i.default.object]),bodyClassName:i.default.oneOfType([i.default.string,i.default.object]),progressClassName:i.default.oneOfType([i.default.string,i.default.object]),progressStyle:i.default.object,progress:i.default.number,isProgressDone:i.default.bool,updateId:i.default.oneOfType([i.default.string,i.default.number]),ariaLabel:i.default.string},d.defaultProps={type:s.TYPE.DEFAULT,in:!0,onOpen:p,onClose:p,className:null,bodyClassName:null,progressClassName:null,updateId:null,role:"alert"};var m=d;t.default=m},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(0)),i=u(n(3)),o=u(n(1)),a=n(8),s=n(12);function u(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){var t,n=e.delay,i=e.isRunning,a=e.closeToast,s=e.type,u=e.hide,l=e.className,f=e.style,h=e.controlledProgress,p=e.progress,d=e.isProgressDone,m=e.rtl,y=c({},f,{animationDuration:n+"ms",animationPlayState:i?"running":"paused",opacity:u?0:1,transform:h?"scaleX("+p+")":null}),v=(0,o.default)("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar--"+s,{"Toastify__progress-bar--rtl":m},l),g=((t={})[h&&d?"onTransitionEnd":"onAnimationEnd"]=h&&!d?null:a,t);return r.default.createElement("div",c({className:v,style:y},g))}l.propTypes={delay:s.falseOrDelay.isRequired,isRunning:i.default.bool.isRequired,closeToast:i.default.func.isRequired,rtl:i.default.bool.isRequired,type:i.default.string,hide:i.default.bool,className:i.default.oneOfType([i.default.string,i.default.object]),progress:i.default.number,controlledProgress:i.default.bool,isProgressDone:i.default.bool},l.defaultProps={type:a.TYPE.DEFAULT,hide:!1};var f=l;t.default=f},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(0)),i=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.closeToast,n=e.type,i=e.ariaLabel;return r.default.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:t,"aria-label":i},"\u2716")}a.propTypes={closeToast:i.default.func,arialLabel:i.default.string},a.defaultProps={ariaLabel:"close"};var s=a;t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(3)),i=s(n(0)),o=s(n(13)),a=n(11);n(48);function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var u=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function c(){}u.contextTypes={transitionGroup:r.object},u.childContextTypes={transitionGroup:function(){}},u.propTypes={},u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},u.UNMOUNTED=0,u.EXITED=1,u.ENTERING=2,u.ENTERED=3,u.EXITING=4;var l=(0,a.polyfill)(u);t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(3))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(21))&&r.__esModule?r:{default:r},o=n(8);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=null,u=[],c=function(){return!1};function l(e,t){return a({},e,{type:t,toastId:h(e)})}function f(){return(Math.random().toString(36)+Date.now().toString(36)).substr(2,10)}function h(e){return e&&("string"===typeof e.toastId||"number"===typeof e.toastId&&!isNaN(e.toastId))?e.toastId:f()}function p(e,t){return null!==s?i.default.emit(o.ACTION.SHOW,e,t):u.push({action:o.ACTION.SHOW,content:e,options:t}),t.toastId}var d=a((function(e,t){return p(e,l(t,t&&t.type||o.TYPE.DEFAULT))}),{success:function(e,t){return p(e,l(t,o.TYPE.SUCCESS))},info:function(e,t){return p(e,l(t,o.TYPE.INFO))},warn:function(e,t){return p(e,l(t,o.TYPE.WARNING))},warning:function(e,t){return p(e,l(t,o.TYPE.WARNING))},error:function(e,t){return p(e,l(t,o.TYPE.ERROR))},dismiss:function(e){return void 0===e&&(e=null),s&&i.default.emit(o.ACTION.CLEAR,e)},isActive:c,update:function(e,t){setTimeout((function(){if(s&&"undefined"!==typeof s.collection[e]){var n=s.collection[e],r=n.options,i=n.content,o=a({},r,t,{toastId:t.toastId||e});t.toastId&&t.toastId!==e?o.staleToastId=e:o.updateId=f();var u="undefined"!==typeof o.render?o.render:i;delete o.render,p(u,o)}}),0)},done:function(e,t){void 0===t&&(t=1),d.update(e,{progress:t,isProgressDone:!0})},onChange:function(e){"function"===typeof e&&i.default.on(o.ACTION.ON_CHANGE,e)},POSITION:o.POSITION,TYPE:o.TYPE});i.default.on(o.ACTION.DID_MOUNT,(function(e){s=e,d.isActive=function(e){return s.isToastActive(e)},u.forEach((function(e){i.default.emit(e.action,e.content,e.options)})),u=[]})).on(o.ACTION.WILL_UNMOUNT,(function(){s=null,d.isActive=c}));var m=d;t.default=m},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return _()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var c={};function l(){}function f(){}function h(){}var p={};p[i]=function(){return this};var d=Object.getPrototypeOf,m=d&&d(d(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=h.prototype=l.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function g(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return f.prototype=y.constructor=h,h.constructor=f,h[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(g.prototype),g.prototype[o]=function(){return this},e.AsyncIterator=g,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new g(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(y),y[a]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var p=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,d.prototype.create),i}return r.__extends(t,e),t}(Error),d=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?m(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new p(i,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},e}();function m(e,t){return e.replace(y,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function v(e){return JSON.parse(e)}var g=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=v(c(o[0])||""),n=v(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}};var b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var w=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function E(){}function T(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=f,t.ErrorFactory=d,t.FirebaseError=p,t.Sha1=b,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new w(e,t);return n.subscribe.bind(n)},t.decode=g,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=T,t.getUA=h,t.isAdmin=function(e){var t=g(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=g(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=g(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=g(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=v,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(T(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(T(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(T(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(10))},function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",(function(){return r})),n.d(t,"Logger",(function(){return s})),n.d(t,"setLogLevel",(function(){return u}));var r,i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,a=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},s=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.ERROR].concat(e))},e}();function u(e){i.forEach((function(t){t.logLevel=e}))}},function(e,t,n){(function(e){!function(t){"use strict";try{(function(){var n,r;function i(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case n.DEBUG:case n.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case n.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case n.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case n.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}}t=t&&t.hasOwnProperty("default")?t.default:t,(r=n=n||{})[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";var o=n.INFO,a=(Object.defineProperty(s.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in n))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),s.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.DEBUG].concat(e))},s.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.VERBOSE].concat(e))},s.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.INFO].concat(e))},s.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.WARN].concat(e))},s.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.ERROR].concat(e))},s);function s(e){this.name=e,this._logLevel=o,this._logHandler=i}var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function c(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function l(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p,d=(c(m,p=Error),m);function m(e,t){var n=p.call(this,t)||this;return n.code=e,n.name="FirebaseError",Object.setPrototypeOf(n,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,y.prototype.create),n}var y=(v.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(b,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},v);function v(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var g,b=/\{\$([^}]+)}/g,w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},E=E||{},T=w;function S(e){return"string"==typeof e}function _(e){return"number"==typeof e}function C(e,t){e=e.split("."),t=t||T;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function I(){}function k(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function N(e){return"array"==k(e)}function D(e){var t=k(e);return"array"==t||"object"==t&&"number"==typeof e.length}function A(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var x="closure_uid_"+(1e9*Math.random()>>>0),O=0;function R(e,t,n){return e.call.apply(e.bind,arguments)}function P(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function M(e,t,n){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R:P).apply(null,arguments)}function L(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var F=Date.now||function(){return+new Date};function U(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,(e.prototype.constructor=e).yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function q(){this.j=this.j,this.i=this.i}q.prototype.j=!1,q.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[x]||(this[x]=++O))},q.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var B=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(S(e))return S(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},V=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=S(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function j(e){return Array.prototype.concat.apply([],arguments)}function z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function W(e){return/^[\s\xa0]*$/.test(e)}var Q,K=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function G(e,t){return-1!=e.indexOf(t)}function H(e,t){return e<t?-1:t<e?1:0}e:{var Y=T.navigator;if(Y){var $=Y.userAgent;if($){Q=$;break e}}Q=""}function X(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function J(e){var t,n={};for(t in e)n[t]=e[t];return n}var Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Z.length;o++)n=Z[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function te(e){return te[" "](e),e}te[" "]=I;var ne,re,ie=G(Q,"Opera"),oe=G(Q,"Trident")||G(Q,"MSIE"),ae=G(Q,"Edge"),se=ae||oe,ue=G(Q,"Gecko")&&!(G(Q.toLowerCase(),"webkit")&&!G(Q,"Edge"))&&!(G(Q,"Trident")||G(Q,"MSIE"))&&!G(Q,"Edge"),ce=G(Q.toLowerCase(),"webkit")&&!G(Q,"Edge");function le(){var e=T.document;return e?e.documentMode:void 0}e:{var fe="",he=(re=Q,ue?/rv:([^\);]+)(\)|;)/.exec(re):ae?/Edge\/([\d\.]+)/.exec(re):oe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(re):ce?/WebKit\/(\S+)/.exec(re):ie?/(?:Version)[ \/]?(\S+)/.exec(re):void 0);if(he&&(fe=he?he[1]:""),oe){var pe=le();if(null!=pe&&pe>parseFloat(fe)){ne=String(pe);break e}}ne=fe}var de,me={};function ye(e){return function(t,n){var r=me;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=function(){for(var t=0,n=K(String(ne)).split("."),r=K(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=H(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||H(0==a[2].length,0==s[2].length)||H(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}()}(e)}var ve=T.document;de=ve&&oe?le()||("CSS1Compat"==ve.compatMode?parseInt(ne,10):5):void 0;var ge=!oe||9<=Number(de),be=oe&&!ye("9"),we=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{T.addEventListener("test",I,t),T.removeEventListener("test",I,t)}catch(e){}return e}();function Ee(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function Te(e,t){if(Ee.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(ue){e:{try{te(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=S(e.pointerType)?e.pointerType:Se[e.pointerType]||"",(this.c=e).defaultPrevented&&this.b()}}Ee.prototype.b=function(){this.Ja=!1},U(Te,Ee);var Se={2:"touch",3:"pen",4:"mouse"};Te.prototype.b=function(){Te.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,be)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var _e="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Ie(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++Ce,this.X=this.Z=!1}function ke(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function Ne(e){this.src=e,this.a={},this.b=0}function De(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=B(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ke(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Ae(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}Ne.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Ae(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new Ie(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var xe="closure_lm_"+(1e6*Math.random()|0),Oe={};function Re(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(N(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Ve(r),t&&t[_e]?t.Ba(n,r,A(i)?!!i.capture:!!i,o):Pe(t,n,r,!0,i,o)}(e,t,n,r,i);if(N(t)){for(var o=0;o<t.length;o++)Re(e,t[o],n,r,i);return null}return n=Ve(n),e&&e[_e]?e.Aa(t,n,A(r)?!!r.capture:!!r,i):Pe(e,t,n,!1,r,i)}function Pe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=A(i)?!!i.capture:!!i;if(a&&!ge)return null;var s=qe(e);if(s||(e[xe]=s=new Ne(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Ue,t=ge?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),(n.proxy=r).src=e,r.listener=n,e.addEventListener)we||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Le(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Me(e){if(!_(e)&&e&&!e.X){var t=e.src;if(t&&t[_e])De(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Le(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qe(t))?(De(n,e),0==n.b&&(n.src=null,t[xe]=null)):ke(e)}}}function Le(e){return e in Oe?Oe[e]:Oe[e]="on"+e}function Fe(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&Me(e),n.call(r,t)}function Ue(e,t){return!!e.X||Fe(e,ge?new Te(t,this):t=new Te(t||C("window.event"),this))}function qe(e){return(e=e[xe])instanceof Ne?e:null}var Be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(e){return"function"==k(e)?e:(e[Be]||(e[Be]=function(t){return e.handleEvent(t)}),e[Be])}function je(){q.call(this),this.c=new Ne(this),(this.J=this).B=null}function ze(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&De(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}U(je,q),je.prototype[_e]=!0,(g=je.prototype).addEventListener=function(e,t,n,r){Re(this,e,t,n,r)},g.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(N(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=A(i)?!!i.capture:!!i,r=Ve(r),t&&t[_e]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=Ae(a=t.a[n],r,i,o))&&(ke(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):(t=t&&qe(t))&&(n=t.a[n.toString()],t=-1,n&&(t=Ae(n,r,i,o)),(r=-1<t?n[t]:null)&&Me(r))}(this,e,t,n,r)},g.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(S(e))e=new Ee(e,n);else if(e instanceof Ee)e.target=e.target||n;else{var i=e;ee(e=new Ee(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=ze(a,r,!0,e)&&i}if(i=ze(a=e.a=n,r,!0,e)&&i,i=ze(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=ze(a=e.a=t[o],r,!1,e)&&i;return i},g.G=function(){if(je.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ke(n[r]);delete t.a[e],t.b--}}this.B=null},g.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},g.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var We=T.JSON.stringify;function Qe(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ke(){this.b=this.a=null}Qe.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Ge,He=new Qe((function(){return new Ye}),(function(e){e.reset()}));function Ye(){this.next=this.b=this.a=null}function $e(e){T.setTimeout((function(){throw e}),0)}function Xe(e,t){Ge||function(){var e=T.Promise.resolve(void 0);Ge=function(){e.then(et)}}(),Je||(Ge(),Je=!0),Ze.add(e,t)}Ke.prototype.add=function(e,t){var n=He.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ye.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};var Je=!(Ye.prototype.reset=function(){this.next=this.b=this.a=null}),Ze=new Ke;function et(){for(var e;r=n=void 0,r=null,(n=Ze).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),e=r;){try{e.a.call(e.b)}catch(e){$e(e)}var t=He;t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}var n,r;Je=!1}function tt(e,t){je.call(this),this.b=e||1,this.a=t||T,this.f=M(this.gb,this),this.g=F()}function nt(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function rt(e,t,n){if("function"==k(e))n&&(e=M(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=M(e.handleEvent,e)}return 2147483647<Number(t)?-1:T.setTimeout(e,t||0)}function it(e,t,n){q.call(this),this.f=null!=n?M(e,n):e,this.c=t,this.b=M(this.ab,this),this.a=[]}function ot(e){e.U=rt(e.b,e.c),e.f.apply(null,e.a)}function at(e){q.call(this),this.b=e,this.a={}}U(tt,je),(g=tt.prototype).ba=!1,g.L=null,g.gb=function(){if(this.ba){var e=F()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(nt(this),this.start()))}},g.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=F())},g.G=function(){tt.N.G.call(this),nt(this),delete this.a},U(it,q),(g=it.prototype).ea=!1,g.U=null,g.Ua=function(e){this.a=arguments,this.U?this.ea=!0:ot(this)},g.G=function(){it.N.G.call(this),this.U&&(T.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},g.ab=function(){this.U=null,this.ea&&(this.ea=!1,ot(this))},U(at,q);var st=[];function ut(e,t,n,r){N(n)||(n&&(st[0]=n.toString()),n=st);for(var i=0;i<n.length;i++){var o=Re(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function ct(e){X(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Me(e)}),e),e.a={}}function lt(){}at.prototype.G=function(){at.N.G.call(this),ct(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=new je;function ht(e){Ee.call(this,"serverreachability",e)}function pt(e){ft.dispatchEvent(new ht(ft,e))}function dt(e){Ee.call(this,"statevent",e)}function mt(e){ft.dispatchEvent(new dt(ft,e))}function yt(e){Ee.call(this,"timingevent",e)}function vt(e,t){if("function"!=k(e))throw Error("Fn must not be null and must be a function");return T.setTimeout((function(){e()}),t)}U(ht,Ee),U(dt,Ee),U(yt,Ee);var gt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},bt={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function wt(){}function Et(e){var t;return(t=e.a)||(t=e.a={}),t}function Tt(){}wt.prototype.a=null;var St,_t={OPEN:"a",ib:"b",Na:"c",rb:"d"};function Ct(){Ee.call(this,"d")}function It(){Ee.call(this,"c")}function kt(){}function Nt(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new at(this),this.O=Dt,e=se?125:void 0,this.P=new tt(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}U(Ct,Ee),U(It,Ee),U(kt,wt),St=new kt;var Dt=45e3,At={},xt={};function Ot(e,t,n){e.F=1,e.f=rn($t(t)),e.l=n,e.H=!0,Pt(e,null)}function Rt(e,t,n,r){e.F=1,e.f=rn($t(t)),e.l=null,e.H=n,Pt(e,r)}function Pt(e,t){e.v=F(),Ft(e),e.D=$t(e.f),nn(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new it(M(e.Ka,e,e.a),e.J)),ut(e.I,e.a,"readystatechange",e.eb),t=e.h?J(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),pt(1)}function Mt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=Lt(e,n);if(i==xt){4==t&&(e.c=4,mt(14),r=!1);break}if(i==At){e.c=4,mt(15),r=!1;break}jt(e,i)}4==t&&0==n.length&&(e.c=1,mt(16),r=!1),e.b=e.b&&r,r||(Vt(e),Bt(e))}function Lt(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?xt:(n=Number(t.substring(n,r)),isNaN(n)?At:(r+=1)+n>t.length?xt:(t=t.substr(r,n),e.A=r+n,t))}function Ft(e){e.R=F()+e.O,Ut(e,e.O)}function Ut(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=vt(M(e.bb,e),t)}function qt(e){e.i&&(T.clearTimeout(e.i),e.i=null)}function Bt(e){e.g.Da()||e.m||e.g.na(e)}function Vt(e){qt(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,nt(e.P),ct(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function jt(e,t){try{e.g.Ga(e,t),pt(4)}catch(e){}}function zt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(D(e)||S(e))V(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(D(e)||S(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(S(e))return e.split("");if(D(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Wt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wt)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Qt(e,t){Gt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Kt(e))}function Kt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Gt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Gt(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function Gt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(g=Nt.prototype).setTimeout=function(e){this.O=e},g.eb=function(e){e=e.target;var t=this.B;t&&3==$n(e)?t.Ua():this.Ka(e)},g.Ka=function(e){try{if(e==this.a)e:{var t=$n(this.a),n=this.a.ya(),r=this.a.T();if(!(t<3||3==t&&!se&&!this.a.aa())){this.m||4!=t||7==n||pt(8==n||r<=0?3:2),qt(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var a=Xn(this.a,"X-HTTP-Initial-Response");if(a&&!W(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,mt(12),Vt(this),Bt(this);break e}this.s=!0,jt(this,s)}this.H?(Mt(this,t,o),se&&this.b&&3==t&&(ut(this.I,this.P,"tick",this.cb),this.P.start())):jt(this,o),4==t&&Vt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,Ft(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,mt(12)):(this.c=0,mt(13)),Vt(this),Bt(this)}}}catch(e){}},g.cb=function(){if(this.a){var e=$n(this.a),t=this.a.aa();this.A<t.length&&(qt(this),Mt(this,e,t),this.b&&4!=e&&Ft(this))}},g.cancel=function(){this.m=!0,Vt(this)},g.bb=function(){this.i=null;var e=F();0<=e-this.R?(2!=this.F&&(pt(3),mt(17)),Vt(this),this.c=2,Bt(this)):Ut(this,this.R-e)},(g=Wt.prototype).C=function(){Kt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},g.K=function(){return Kt(this),this.a.concat()},g.get=function(e,t){return Gt(this.b,e)?this.b[e]:t},g.set=function(e,t){Gt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},g.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ht=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Yt?(this.h=void 0!==t?t:e.h,Xt(this,e.f),this.j=e.j,Jt(this,e.b),Zt(this,e.i),this.a=e.a,en(this,gn(e.c)),this.g=e.g):e&&(n=String(e).match(Ht))?(this.h=!!t,Xt(this,n[1]||"",!0),this.j=on(n[2]||""),Jt(this,n[3]||"",!0),Zt(this,n[4]),this.a=on(n[5]||"",!0),en(this,n[6]||"",!0),this.g=on(n[7]||"")):(this.h=!!t,this.c=new pn(null,this.h))}function $t(e){return new Yt(e)}function Xt(e,t,n){e.f=n?on(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Jt(e,t,n){e.b=n?on(t,!0):t}function Zt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.i=t}else e.i=null}function en(e,t,n){t instanceof pn?(e.c=t,function(e,t){t&&!e.f&&(dn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mn(this,t),vn(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=an(t,fn)),e.c=new pn(t,e.h))}function tn(e,t,n){e.c.set(t,n)}function nn(e,t,n){N(n)||(n=[String(n)]),vn(e.c,t,n)}function rn(e){return tn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^F()).toString(36)),e}function on(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function an(e,t,n){return S(e)?(e=encodeURI(e).replace(t,sn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Yt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(an(t,un,!0),":");var n=this.b;return!n&&"file"!=t||(e.push("//"),(t=this.j)&&e.push(an(t,un,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(an(n,"/"==n.charAt(0)?ln:cn,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",an(n,hn)),e.join("")},Yt.prototype.resolve=function(e){var t=$t(this),n=!!e.f;n?Xt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Jt(t,e.b):n=null!=e.i;var r=e.a;if(n)Zt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(G(i,"./")||G(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?en(t,gn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var un=/[#\/\?@]/g,cn=/[#\?:]/g,ln=/[#\?]/g,fn=/[#\?@]/g,hn=/#/g;function pn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function dn(e){e.a||(e.a=new Wt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mn(e,t){dn(e),t=bn(e,t),Gt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Qt(e.a,t))}function yn(e,t){return dn(e),t=bn(e,t),Gt(e.a.b,t)}function vn(e,t,n){mn(e,t),0<n.length&&(e.c=null,e.a.set(bn(e,t),z(n)),e.b+=n.length)}function gn(e){var t=new pn;return t.c=e.c,e.a&&(t.a=new Wt(e.a),t.b=e.b),t}function bn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function wn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function En(e){var t=e.a.F.a;if(null!=t)mt(4),t?(mt(10),cr(e.a,e,!1)):(mt(11),cr(e.a,e,!0));else{e.b=new Nt(e,void 0,void 0),e.b.h=e.h,t=dr(t=e.a,t.Y()?e.f:null,e.i),mt(4),nn(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&tn(t,n,r),Rt(e.b,t,!1,e.f)}}function Tn(){this.a=this.b=null}function Sn(){this.a=new Wt}function _n(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[x]||(e[x]=++O)):t.charAt(0)+e}function Cn(e,t){this.b=e,this.a=t}function In(e){this.g=e||kn,e=T.PerformanceNavigationTiming?0<(e=T.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(T.ka&&T.ka.Ea&&T.ka.Ea()&&T.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Sn),this.b=null,this.c=[]}(g=pn.prototype).add=function(e,t){dn(this),this.c=null,e=bn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},g.forEach=function(e,t){dn(this),this.a.forEach((function(n,r){V(n,(function(n){e.call(t,n,r,this)}),this)}),this)},g.K=function(){dn(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},g.C=function(e){dn(this);var t=[];if(S(e))yn(this,e)&&(t=j(t,this.a.get(bn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=j(t,e[n])}return t},g.set=function(e,t){return dn(this),this.c=null,yn(this,e=bn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},g.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},U((function(){}),(function(){})),(g=wn.prototype).M=null,g.$=function(e){return this.a.$(e)},g.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},g.Da=function(){return!1},g.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Xn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Xn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(e){return(t=this.a).m=this.c,void hr(t,2)}this.f=r[0]}else(t=this.a).m=this.c,hr(t,2)}else 1==this.M&&(this.g?mt(6):"11111"==t?(mt(5),this.g=!0,(!oe||10<=Number(de))&&(this.c=200,this.b.cancel(),mt(11),cr(this.a,this,!0))):(mt(7),this.g=!1))},g.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,En(this)):1==this.M&&(this.g?(mt(11),cr(this.a,this,!0)):(mt(10),cr(this.a,this,!1)));else{0==this.M?mt(8):1==this.M&&mt(9);var e=this.a;e.m=this.c,hr(e,2)}},g.Y=function(){return this.a.Y()},g.ma=function(){return this.a.ma()},Sn.prototype.add=function(e){this.a.set(_n(e),e)},Sn.prototype.C=function(){return this.a.C()};var kn=10;function Nn(e,t){!e.a&&(G(t,"spdy")||G(t,"quic")||G(t,"h2"))&&(e.f=e.g,e.a=new Sn,e.b&&(On(e,e.b),e.b=null))}function Dn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function An(e){return e.b?1:e.a?e.a.a.c:0}function xn(e,t){return e.b?e.b==t:!!e.a&&(t=_n(t),Gt(e.a.a.b,t))}function On(e,t){e.a?e.a.add(t):e.b=t}function Rn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=_n(t),n=Gt(e.a.a.b,n)),n&&Qt(e.a.a,_n(t)))}function Pn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null==e.a||0==e.a.a.c)return z(e.c);var t=e.c;return V(e.a.C(),(function(e){t=t.concat(e.j)})),t}function Mn(){}function Ln(){this.a=new Mn}function Fn(e,t,n){var r=n||"";try{zt(e,(function(e,n){var i=e;A(e)&&(i=We(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Un(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}In.prototype.cancel=function(){this.c=Pn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(V(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},Mn.prototype.stringify=function(e){return T.JSON.stringify(e,void 0)},Mn.prototype.parse=function(e){return T.JSON.parse(e,void 0)};var qn=T.JSON.parse;function Bn(e){je.call(this),this.headers=new Wt,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Vn,this.D=this.F=!1}U(Bn,je);var Vn="",jn=/^https?$/i,zn=["POST","PUT"];function Wn(e){return"content-type"==e.toLowerCase()}function Qn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Kn(e),Hn(e)}function Kn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Gn(e){if(e.b&&void 0!==E&&(!e.s[1]||4!=$n(e)||2!=e.T()))if(e.l&&4==$n(e))rt(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==$n(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.A).match(Ht)[1]||null;if(!o&&T.self&&T.self.location){var a=T.self.location.protocol;o=a.substr(0,a.length-1)}i=!jn.test(o?o.toLowerCase():"")}t=i}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",Kn(e))}finally{Hn(e)}}}function Hn(e,t){if(e.a){Yn(e);var n=e.a,r=e.s[0]?I:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){}}}function Yn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(T.clearTimeout(e.m),e.m=null)}function $n(e){return e.a?e.a.readyState:0}function Xn(e,t){return e.a?e.a.getResponseHeader(t):null}function Jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return X(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),S(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=e.indexOf("#"))<0&&(n=e.length),(r=e.indexOf("?"))<0||n<r){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return tn(e,t,n),e}function Zn(e){this.f=[],this.F=new Tn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!C("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=C("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=C("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=C("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=C("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new In(e&&e.concurrentRequestLimit),this.ja=new Ln,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function er(e){if(tr(e),3==e.u){var t=e.P++,n=$t(e.B);tn(n,"SID",e.H),tn(n,"RID",t),tn(n,"TYPE","terminate"),or(e,n),(t=new Nt(e,t,void 0)).F=2,t.f=rn($t(n)),n=!1,T.navigator&&T.navigator.sendBeacon&&(n=T.navigator.sendBeacon(t.f.toString(),"")),!n&&T.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=F(),Ft(t)}pr(e)}function tr(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(T.clearTimeout(e.l),e.l=null),lr(e),e.b.cancel(),e.h&&(_(e.h)&&T.clearTimeout(e.h),e.h=null)}function nr(e,t){e.f.push(new Cn(e.Ra++,t)),3==e.u&&rr(e)}function rr(e){Dn(e.b)||e.h||(e.h=!0,Xe(e.Ia,e),e.A=0)}function ir(e,t){var n;n=t?t.W:e.P++;var r=$t(e.B);tn(r,"SID",e.H),tn(r,"RID",n),tn(r,"AID",e.O),or(e,r),e.g&&e.i&&Jn(r,e.g,e.i),n=new Nt(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=ar(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),On(e.b,n),Ot(n,r,t)}function or(e,t){e.c&&zt({},(function(e,n){tn(t,n,e)}))}function ar(e,t,n){n=Math.min(e.f.length,n);var r=e.c?M(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{Fn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function sr(e){e.a||e.l||(e.S=1,Xe(e.Ha,e),e.v=0)}function ur(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=vt(M(e.Ha,e),fr(e,e.v)),e.v++,!0)}function cr(e,t,n){var r=t.l;r&&Nn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=dr(e,null,e.ha),rr(e)}function lr(e){null!=e.s&&(T.clearTimeout(e.s),e.s=null)}function fr(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function hr(e,t){if(2==t){var n=null;e.c&&(n=null);var r=M(e.fb,e);n||(n=new Yt("//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||Xt(n,"https"),rn(n)),function(e,t){var n=new lt;if(T.Image){var r=new Image;r.onload=L(Un,n,r,"TestLoadImage: loaded",!0,t),r.onerror=L(Un,n,r,"TestLoadImage: error",!1,t),r.onabort=L(Un,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=L(Un,n,r,"TestLoadImage: timeout",!1,t),T.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else mt(2);e.u=0,e.c&&e.c.ta(t),pr(e),tr(e)}function pr(e){e.u=0,e.m=-1,e.c&&(0==Pn(e.b).length&&0==e.f.length||(e.b.c.length=0,z(e.f),e.f.length=0),e.c.sa())}function dr(e,t,n){var r=function(e){return e instanceof Yt?$t(e):new Yt(e,void 0)}(n);if(""!=r.b)t&&Jt(r,t+"."+r.b),Zt(r,r.i);else{var i,o=T.location;i=t?t+"."+o.hostname:o.hostname,r=function(e,t,n,r){var i=new Yt(null,void 0);return e&&Xt(i,e),t&&Jt(i,t),n&&Zt(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return e.V&&X(e.V,(function(e,t){tn(r,t,e)})),t=e.j,n=e.I,t&&n&&tn(r,t,n),tn(r,"VER",e.wa),or(e,r),r}function mr(){}function yr(){if(oe&&!(10<=Number(de)))throw Error("Environmental error: no available transport.")}function vr(e,t){je.call(this),this.a=new Zn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=e,n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?t=i:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!W(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!W(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new wr(this)}function gr(e){Ct.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function br(){It.call(this),this.status=1}function wr(e){this.a=e}(g=Bn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Et(this.H):Et(St),this.a.onreadystatechange=M(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(e){return void Qn(this,e)}e=n||"";var i=new Wt(this.headers);r&&zt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Wn,n=e.length,r=S(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:S(e)?e.charAt(t):e[t]}(i.K()),n=T.FormData&&e instanceof T.FormData,0<=B(zn,t)&&!r&&!n&&i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yn(this),0<this.o&&((this.D=function(e){return oe&&ye(9)&&_(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=M(this.Ca,this)):this.m=rt(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Qn(this,e)}},g.Ca=function(){void 0!==E&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Hn(this))},g.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Hn(this,!0)),Bn.N.G.call(this)},g.Fa=function(){this.j||(this.w||this.l||this.g?Gn(this):this.$a())},g.$a=function(){Gn(this)},g.T=function(){try{return 2<$n(this)?this.a.status:-1}catch(r){return-1}},g.za=function(){try{return 2<$n(this)?this.a.statusText:""}catch(r){return""}},g.aa=function(){try{return this.a?this.a.responseText:""}catch(r){return""}},g.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qn(t)}},g.ya=function(){return this.h},g.Ya=function(){return S(this.f)?this.f:String(this.f)},(g=Zn.prototype).wa=8,g.u=1,g.Da=function(){return 0==this.u},g.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new Nt(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?ee(r=J(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&S(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=ar(this,n,t),tn(i=$t(this.B),"RID",e),tn(i,"CVER",22),this.o&&this.j&&tn(i,"X-HTTP-Session-Id",this.j),or(this,i),this.g&&r&&Jn(i,this.g,r),On(this.b,n),this.W?(tn(i,"$req",t),tn(i,"SID","null"),n.S=!0,Ot(n,i,null)):Ot(n,i,t),this.u=2}}else 3==this.u&&(e?ir(this,e):0==this.f.length||Dn(this.b)||ir(this))},g.Ha=function(){this.l=null,this.a=new Nt(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=$t(this.pa);tn(e,"RID","rpc"),tn(e,"SID",this.H),tn(e,"CI",this.ia?"0":"1"),tn(e,"AID",this.O),or(this,e),tn(e,"TYPE","xmlhttp"),this.g&&this.i&&Jn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),Rt(this.a,e,!0,this.ga)},g.Ga=function(e,t){if(0!=this.u&&(this.a==e||xn(this.b,e)))if(this.m=e.o,!e.s&&xn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(e){n=null}if(N(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;lr(this),this.a.cancel(),this.a=null}ur(this),mt(18)}}else this.ra=t[1],0<this.ra-this.O&&t[2]<37500&&this.ia&&0==this.v&&!this.s&&(this.s=vt(M(this.Za,this),6e3));if(An(this.b)<=1&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else hr(this,11)}else if(!e.s&&this.a!=e||lr(this),!W(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&_(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=Xn(r,"X-Client-Wire-Protocol"))&&Nn(this.b,i),this.j&&(r=Xn(r,"X-HTTP-Session-Id")))&&(this.I=r,tn(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=dr(this,this.Y()?this.ga:null,this.ha),r.s?(Rn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(qt(r),Ft(r)),this.a=r):sr(this),0<this.f.length&&rr(this)}else"stop"!=r[0]&&"close"!=r[0]||hr(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?hr(this,7):er(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},g.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,ur(this),mt(19))},g.na=function(e){var t=null;if(this.a==e){lr(this),this.a=null;var n=2}else{if(!xn(this.b,e))return;t=e.j,Rn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=F()-e.v,ft.dispatchEvent(new yt(ft,e.l?e.l.length:0,t,this.A)),rr(this)):sr(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(An(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa))&&(e.h=vt(M(e.Ia,e,t),fr(e,e.A)),e.A++,!0))}(this,e)||2==n&&ur(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:hr(this,5);break;case 4:hr(this,10);break;case 3:hr(this,6);break;default:hr(this,2)}}},g.fb=function(e){mt(e?2:1)},g.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bn(this.La)).F=this.R,e},g.ma=function(){return!!this.c&&!0},g.Y=function(){return this.R},(g=mr.prototype).va=function(){},g.ua=function(){},g.ta=function(){},g.sa=function(){},g.Ta=function(){},yr.prototype.a=function(e,t){return new vr(e,t)},U(vr,je),(g=vr.prototype).addEventListener=function(e,t,n,r){vr.N.addEventListener.call(this,e,t,n,r)},g.removeEventListener=function(e,t,n,r){vr.N.removeEventListener.call(this,e,t,n,r)},g.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;mt(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new wn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Jn(t,e.g,e.i)),(e=e.w).i=n,t=dr(e.a,null,e.i),mt(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,En(e)):(nn(t,"MODE","init"),!e.a.o&&e.a.j&&nn(t,"X-HTTP-Session-Id",e.a.j),e.b=new Nt(e,void 0,void 0),e.b.h=e.h,Rt(e.b,t,!1,null),e.M=0)},g.close=function(){er(this.a)},g.Xa=function(e){if(S(e)){var t={};t.__data__=e,nr(this.a,t)}else this.h?((t={}).__data__=We(e),nr(this.a,t)):nr(this.a,e)},g.G=function(){this.a.c=null,delete this.f,er(this.a),delete this.a,vr.N.G.call(this)},U(gr,Ct),U(br,It),U(wr,mr),wr.prototype.va=function(){this.a.dispatchEvent("a")},wr.prototype.ua=function(e){this.a.dispatchEvent(new gr(e))},wr.prototype.ta=function(e){this.a.dispatchEvent(new br(e))},wr.prototype.sa=function(){this.a.dispatchEvent("b")};var Er=L((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),yr);yr.prototype.createWebChannel=yr.prototype.a,vr.prototype.send=vr.prototype.Xa,vr.prototype.open=vr.prototype.Wa,vr.prototype.close=vr.prototype.close,gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,bt.COMPLETE="complete",(Tt.EventType=_t).OPEN="a",_t.CLOSE="b",_t.ERROR="c",_t.MESSAGE="d",je.prototype.listen=je.prototype.Aa,Bn.prototype.listenOnce=Bn.prototype.Ba,Bn.prototype.getLastError=Bn.prototype.Ya,Bn.prototype.getLastErrorCode=Bn.prototype.ya,Bn.prototype.getStatus=Bn.prototype.T,Bn.prototype.getStatusText=Bn.prototype.za,Bn.prototype.getResponseJson=Bn.prototype.Va,Bn.prototype.getResponseText=Bn.prototype.aa,Bn.prototype.send=Bn.prototype.ca;var Tr,Sr,_r={createWebChannelTransport:Er,ErrorCode:gt,EventType:bt,WebChannel:Tt,XhrIo:Bn},Cr=_r.createWebChannelTransport,Ir=_r.ErrorCode,kr=_r.EventType,Nr=_r.WebChannel,Dr=_r.XhrIo,Ar=t.SDK_VERSION,xr=new a("@firebase/firestore");function Or(){return xr.logLevel===n.DEBUG?Tr.DEBUG:xr.logLevel===n.SILENT?Tr.SILENT:Tr.ERROR}function Rr(e){switch(e){case Tr.DEBUG:xr.logLevel=n.DEBUG;break;case Tr.ERROR:xr.logLevel=n.ERROR;break;case Tr.SILENT:xr.logLevel=n.SILENT;break;default:xr.error("Firestore ("+Ar+"): Invalid value passed to `setLogLevel`")}}function Pr(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(xr.logLevel<=n.DEBUG){var o=r.map(Lr);xr.debug.apply(xr,["Firestore ("+Ar+") ["+e+"]: "+t].concat(o))}}function Mr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(xr.logLevel<=n.ERROR){var i=t.map(Lr);xr.error.apply(xr,["Firestore ("+Ar+"): "+e].concat(i))}}function Lr(e){if("string"==typeof e)return e;var t=qr.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function Fr(e){var t="FIRESTORE ("+Ar+") INTERNAL ASSERTION FAILED: "+e;throw Mr(t),new Error(t)}function Ur(e,t){e||Fr(t)}(Sr=Tr=Tr||{})[Sr.DEBUG=0]="DEBUG",Sr[Sr.ERROR=1]="ERROR",Sr[Sr.SILENT=2]="SILENT";var qr=(Br.setPlatform=function(e){Br.platform&&Fr("Platform already defined"),Br.platform=e},Br.getPlatform=function(){return Br.platform||Fr("Platform not set"),Br.platform},Br);function Br(){}function Vr(){return qr.getPlatform().emptyByteString}var jr,zr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wr=(c(Qr,jr=Error),Qr);function Qr(e,t){var n=jr.call(this,t)||this;return n.code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Kr(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new Wr(zr.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function Gr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hr(e,t){return void 0!==e?e:t}function Yr(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function $r(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xr(e){for(var t in Ur(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Jr(e,t){if(0!==t.length)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+di(t.length,"argument")+".")}function Zr(e,t,n){if(t.length!==n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires "+di(n,"argument")+", but was called with "+di(t.length,"argument")+".")}function ei(e,t,n){if(t.length<n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires at least "+di(n,"argument")+", but was called with "+di(t.length,"argument")+".")}function ti(e,t,n,r){if(t.length<n||t.length>r)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+di(t.length,"argument")+".")}function ni(e,t,n,r){si(e,t,pi(n)+" argument",r)}function ri(e,t,n,r){void 0!==r&&ni(e,t,n,r)}function ii(e,t,n,r){si(e,t,n+" option",r)}function oi(e,t,n,r){void 0!==r&&ii(e,t,n,r)}function ai(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(ci(u))}var c=ci(r);throw new Wr(zr.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function si(e,t,n,r){if(!("object"===t?ui(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=ci(r);throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function ui(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ci(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Fr("Unknown wrong type: "+typeof e);if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}function li(e,t,n){if(void 0===n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+pi(t)+" argument, but it was undefined.")}function fi(e,t,n){$r(t,(function(t,r){if(n.indexOf(t)<0)throw new Wr(zr.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function hi(e,t,n,r){var i=ci(r);return new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires its "+pi(n)+" argument to be a "+t+", but it was: "+i)}function pi(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function di(e,t){return e+" "+t+(1===e?"":"s")}var mi=(yi.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return Ur(20===t.length,"Invalid auto ID: "+t),t},yi);function yi(){}function vi(e,t){return e<t?-1:t<e?1:0}function gi(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function bi(e){return e+"\0"}function wi(){if("undefined"==typeof Uint8Array)throw new Wr(zr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ei(){if(!qr.getPlatform().base64Available)throw new Wr(zr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ti=(Si.fromBase64String=function(e){Zr("Blob.fromBase64String",arguments,1),ni("Blob.fromBase64String","string",1,e),Ei();try{return new Si(qr.getPlatform().atob(e))}catch(e){throw new Wr(zr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},Si.fromUint8Array=function(e){if(Zr("Blob.fromUint8Array",arguments,1),wi(),!(e instanceof Uint8Array))throw hi("Blob.fromUint8Array","Uint8Array",1,e);return new Si(Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join(""))},Si.prototype.toBase64=function(){return Zr("Blob.toBase64",arguments,0),Ei(),qr.getPlatform().btoa(this._binaryString)},Si.prototype.toUint8Array=function(){Zr("Blob.toUint8Array",arguments,0),wi();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},Si.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Si.prototype.isEqual=function(e){return this._binaryString===e._binaryString},Si.prototype._compareTo=function(e){return vi(this._binaryString,e._binaryString)},Si);function Si(e){Ei(),this._binaryString=e}var _i=Kr(Ti,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Ci=function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},Ii="(default)",ki=(Object.defineProperty(Ni.prototype,"isDefaultDatabase",{get:function(){return this.database===Ii},enumerable:!0,configurable:!0}),Ni.prototype.isEqual=function(e){return e instanceof Ni&&e.projectId===this.projectId&&e.database===this.database},Ni.prototype.compareTo=function(e){return vi(this.projectId,e.projectId)||vi(this.database,e.database)},Ni);function Ni(e,t){this.projectId=e,this.database=t||Ii}var Di=(Ai.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},Ai.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},Ai.INVALID=-1,Ai);function Ai(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}var xi="__name__",Oi=(Object.defineProperty(Ri.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),Ri.prototype.isEqual=function(e){return 0===Ri.comparator(this,e)},Ri.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},Ri.prototype.limit=function(){return this.offset+this.length},Ri.prototype.popFirst=function(e){return e=void 0===e?1:e,Ur(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},Ri.prototype.popLast=function(){return Ur(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},Ri.prototype.firstSegment=function(){return Ur(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},Ri.prototype.lastSegment=function(){return this.get(this.length-1)},Ri.prototype.get=function(e){return Ur(e<this.length,"Index out of range"),this.segments[this.offset+e]},Ri.prototype.isEmpty=function(){return 0===this.length},Ri.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Ri.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Ri.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},Ri.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Ri.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(o<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},Ri);function Ri(e,t,n){void 0===t?t=0:t>e.length&&Fr("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&Fr("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}var Pi,Mi=(c(Li,Pi=Oi),Li.prototype.construct=function(e,t,n){return new Li(e,t,n)},Li.prototype.canonicalString=function(){return this.toArray().join("/")},Li.prototype.toString=function(){return this.canonicalString()},Li.fromString=function(e){if(0<=e.indexOf("//"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new Li(e.split("/").filter((function(e){return 0<e.length})))},Li.EMPTY_PATH=new Li([]),Li);function Li(){return null!==Pi&&Pi.apply(this,arguments)||this}var Fi,Ui=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qi=(c(Bi,Fi=Oi),Bi.prototype.construct=function(e,t,n){return new Bi(e,t,n)},Bi.isValidIdentifier=function(e){return Ui.test(e)},Bi.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),Bi.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},Bi.prototype.toString=function(){return this.canonicalString()},Bi.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===xi},Bi.keyField=function(){return new Bi([xi])},Bi.fromServerFormat=function(e){for(var t=[],n="",r=0,i=function(){if(0===n.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new Wr(zr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Wr(zr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Wr(zr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bi(t)},Bi.EMPTY_PATH=new Bi([]),Bi);function Bi(){return null!==Fi&&Fi.apply(this,arguments)||this}var Vi=(ji.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},ji.prototype.isEqual=function(e){return null!==e&&0===Mi.comparator(this.path,e.path)},ji.prototype.toString=function(){return this.path.toString()},ji.comparator=function(e,t){return Mi.comparator(e.path,t.path)},ji.isDocumentKey=function(e){return e.length%2==0},ji.fromSegments=function(e){return new ji(new Mi(e.slice()))},ji.fromPathString=function(e){return new ji(Mi.fromString(e))},ji.EMPTY=new ji(new Mi([])),ji);function ji(e){this.path=e,Ur(ji.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}var zi,Wi,Qi=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};(Wi=zi=zi||{}).All="all",Wi.ListenStreamIdle="listen_stream_idle",Wi.ListenStreamConnectionBackoff="listen_stream_connection_backoff",Wi.WriteStreamIdle="write_stream_idle",Wi.WriteStreamConnectionBackoff="write_stream_connection_backoff",Wi.OnlineStateTimeout="online_state_timeout",Wi.ClientMetadataRefresh="client_metadata_refresh",Wi.LruGarbageCollection="lru_garbage_collection",Wi.RetryTransaction="retry_transaction";var Ki=(Gi.createAndSchedule=function(e,t,n,r,i){var o=new Gi(e,t,Date.now()+n,r,i);return o.start(n),o},Gi.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},Gi.prototype.skipDelay=function(){return this.handleDelayElapsed()},Gi.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wr(zr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},Gi.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},Gi.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Gi);function Gi(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}var Hi=(Object.defineProperty(Yi.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),Yi.prototype.enqueueAndForget=function(e){this.enqueue(e)},Yi.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},Yi.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},Yi.prototype.enqueueAndInitiateShutdown=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Yi.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},Yi.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw Mr("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n},Yi.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),Ur(0<=t,"Attempted to schedule an operation with a negative delay of "+t),-1<this.timerIdsToSkip.indexOf(e)&&(t=0);var i=Ki.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(i),i},Yi.prototype.verifyNotFailed=function(){this.failure&&Fr("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},Yi.prototype.verifyOperationInProgress=function(){Ur(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},Yi.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},Yi.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},Yi.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){Ur(e===zi.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==zi.All&&i.timerId===e)break}return t.drain()}))},Yi.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},Yi.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);Ur(0<=t,"Delayed operation not found."),this.delayedOperations.splice(t,1)},Yi);function Yi(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}function $i(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=Ji(t)),t=Xi(e.get(n),t);return Ji(t)}function Xi(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ji(e){return e+"\x01\x01"}function Zi(e){var t=e.length;if(Ur(2<=t,"Invalid path "+e),2===t)return Ur("\x01"===e.charAt(0)&&"\x01"===e.charAt(1),"Non-empty path "+e+" had length 2"),Mi.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||n<a)&&Fr('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Fr('Invalid encoded resource path: "'+e+'"')}o=a+2}return new Mi(r)}var eo=(to.now=function(){return to.fromMillis(Date.now())},to.fromDate=function(e){return to.fromMillis(e.getTime())},to.fromMillis=function(e){var t=Math.floor(e/1e3);return new to(t,1e6*(e-1e3*t))},to.prototype.toDate=function(){return new Date(this.toMillis())},to.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},to.prototype._compareTo=function(e){return this.seconds===e.seconds?vi(this.nanoseconds,e.nanoseconds):vi(this.seconds,e.seconds)},to.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},to.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},to);function to(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}var no=(ro.fromMicroseconds=function(e){var t=Math.floor(e/1e6);return new ro(new eo(t,e%1e6*1e3))},ro.fromTimestamp=function(e){return new ro(e)},ro.forDeletedDoc=function(){return ro.MIN},ro.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},ro.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},ro.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},ro.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},ro.prototype.toTimestamp=function(){return this.timestamp},ro.MIN=new ro(new eo(0,0)),ro);function ro(e){this.timestamp=e}var io=(oo.prototype.insert=function(e,t){return new oo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,uo.BLACK,null,null))},oo.prototype.remove=function(e){return new oo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,uo.BLACK,null,null))},oo.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},oo.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},oo.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(oo.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),oo.prototype.minKey=function(){return this.root.minKey()},oo.prototype.maxKey=function(){return this.root.maxKey()},oo.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},oo.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},oo.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},oo.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},oo.prototype.getIterator=function(){return new ao(this.root,null,this.comparator,!1)},oo.prototype.getIteratorFrom=function(e){return new ao(this.root,e,this.comparator,!1)},oo.prototype.getReverseIterator=function(){return new ao(this.root,null,this.comparator,!0)},oo.prototype.getReverseIteratorFrom=function(e){return new ao(this.root,e,this.comparator,!0)},oo);function oo(e,t){this.comparator=e,this.root=t||uo.EMPTY}var ao=(so.prototype.getNext=function(){Ur(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},so.prototype.hasNext=function(){return 0<this.nodeStack.length},so.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},so);function so(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}var uo=(co.prototype.copy=function(e,t,n,r,i){return new co(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},co.prototype.isEmpty=function(){return!1},co.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},co.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},co.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},co.prototype.minKey=function(){return this.min().key},co.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},co.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},co.prototype.removeMin=function(){if(this.left.isEmpty())return co.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},co.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return co.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},co.prototype.isRed=function(){return this.color},co.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},co.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},co.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},co.prototype.rotateLeft=function(){var e=this.copy(null,null,co.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},co.prototype.rotateRight=function(){var e=this.copy(null,null,co.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},co.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},co.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},co.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fr("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw Fr("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw Fr("Black depths differ");return e+(this.isRed()?0:1)},co.EMPTY=null,co.RED=!0,co.BLACK=!1,co);function co(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:co.RED,this.left=null!=r?r:co.EMPTY,this.right=null!=i?i:co.EMPTY,this.size=this.left.size+1+this.right.size}var lo=(Object.defineProperty(fo.prototype,"key",{get:function(){throw Fr("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(fo.prototype,"value",{get:function(){throw Fr("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(fo.prototype,"color",{get:function(){throw Fr("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(fo.prototype,"left",{get:function(){throw Fr("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(fo.prototype,"right",{get:function(){throw Fr("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),fo.prototype.copy=function(e,t,n,r,i){return this},fo.prototype.insert=function(e,t,n){return new uo(e,t)},fo.prototype.remove=function(e,t){return this},fo.prototype.isEmpty=function(){return!0},fo.prototype.inorderTraversal=function(e){return!1},fo.prototype.reverseTraversal=function(e){return!1},fo.prototype.minKey=function(){return null},fo.prototype.maxKey=function(){return null},fo.prototype.isRed=function(){return!1},fo.prototype.checkMaxDepth=function(){return!0},fo.prototype.check=function(){return 0},fo);function fo(){this.size=0}uo.EMPTY=new lo;var ho=(po.fromMapKeys=function(e){var t=new po(e.comparator);return e.forEach((function(e){t=t.add(e)})),t},po.prototype.has=function(e){return null!==this.data.get(e)},po.prototype.first=function(){return this.data.minKey()},po.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(po.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),po.prototype.indexOf=function(e){return this.data.indexOf(e)},po.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},po.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},po.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},po.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},po.prototype.getIterator=function(){return new mo(this.data.getIterator())},po.prototype.getIteratorFrom=function(e){return new mo(this.data.getIteratorFrom(e))},po.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},po.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},po.prototype.isEmpty=function(){return this.data.isEmpty()},po.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},po.prototype.isEqual=function(e){if(!(e instanceof po))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},po.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},po.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},po.prototype.copy=function(e){var t=new po(this.comparator);return t.data=e,t},po);function po(e){this.comparator=e,this.data=new io(this.comparator)}var mo=(yo.prototype.getNext=function(){return this.iter.getNext().key},yo.prototype.hasNext=function(){return this.iter.hasNext()},yo);function yo(e){this.iter=e}var vo=new io(Vi.comparator);function go(){return vo}function bo(){return go()}var wo=new io(Vi.comparator);function Eo(){return wo}var To=new io(Vi.comparator);function So(){return To}var _o=new ho(Vi.comparator);function Co(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=_o,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Io=new ho(vi);function ko(){return Io}var No=(Do.prototype.applyToRemoteDocument=function(e,t,n){t&&Ur(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;Ur(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},Do.prototype.applyToLocalView=function(e,t){t&&Ur(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime));for(var i=t,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(e)&&(t=s.applyToLocalView(t,i,this.localWriteTime))}return t},Do.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},Do.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Co())},Do.prototype.isEqual=function(e){return this.batchId===e.batchId&&gi(this.mutations,e.mutations)&&gi(this.baseMutations,e.baseMutations)},Do);function Do(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,Ur(0<(this.mutations=r).length,"Cannot create an empty mutation batch")}var Ao=(xo.from=function(e,t,n,r){Ur(e.mutations.length===n.length,"Mutations sent "+e.mutations.length+" must equal results received "+n.length);for(var i=So(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new xo(e,t,n,r,i)},xo);function xo(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}var Oo=(Ro.prototype.catch=function(e){return this.next(void 0,e)},Ro.prototype.next=function(e,t){var n=this;return this.callbackAttached&&Fr("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ro((function(r,i){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,i)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,i)}}))},Ro.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},Ro.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof Ro?t:Ro.resolve(t)}catch(e){return Ro.reject(e)}},Ro.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):Ro.resolve(t)},Ro.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):Ro.reject(t)},Ro.resolve=function(e){return new Ro((function(t,n){t(e)}))},Ro.reject=function(e){return new Ro((function(t,n){n(e)}))},Ro.waitFor=function(e){return new Ro((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(e){return n(e)}))})),o=!0,i===r&&t()}))},Ro.or=function(e){for(var t=Ro.resolve(!1),n=function(e){t=t.next((function(t){return t?Ro.resolve(t):e()}))},r=0,i=e;r<i.length;r++)n(i[r]);return t},Ro.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},Ro);function Ro(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}var Po,Mo,Lo=(Fo.forUser=function(e,t,n,r){return Ur(""!==e.uid,"UserID must not be an empty string."),new Fo(e.isAuthenticated()?e.uid:"",t,n,r)},Fo.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vo(e).iterate({index:lu.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},Fo.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=Bo(n),zo(e).put(t)}))},Fo.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},Fo.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=Bo(t),zo(e).put(n)}))},Fo.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=jo(e),a=Vo(e);return a.add({}).next((function(s){Ur("number"==typeof s,"Auto-generated key is not a number");var u=new No(s,t,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var l=[],f=0,h=r;f<h.length;f++){var p=h[f],d=hu.key(i.userId,p.key.path,s);l.push(a.put(c)),l.push(o.put(d,hu.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(e,p.key.path.popLast()))}return Oo.waitFor(l).next((function(){return u}))}))},Fo.prototype.lookupMutationBatch=function(e,t){var n=this;return Vo(e).get(t).next((function(e){return e?(Ur(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},Fo.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?Oo.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r}return null}))},Fo.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Vo(e).iterate({index:lu.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Ur(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()})).next((function(){return o}))},Fo.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vo(e).iterate({index:lu.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},Fo.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vo(e).loadAll(lu.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},Fo.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=hu.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return jo(e).iterate({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Zi(u);if(s===n.userId&&t.path.isEqual(l))return Vo(e).get(c).next((function(e){if(!e)throw Fr("Dangling document-mutation reference found: "+r+" which points to "+c);Ur(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(e))}));a.done()})).next((function(){return o}))},Fo.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ho(vi),i=[];return t.forEach((function(t){var o=hu.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=jo(e).iterate({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Zi(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Oo.waitFor(i).next((function(){return n.lookupMutationBatches(e,r)}))},Fo.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;Ur(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),Ur(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=hu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ho(vi);return jo(e).iterate({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Zi(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.lookupMutationBatches(e,s)}))},Fo.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Vo(e).get(t).next((function(e){if(null===e)throw Fr("Dangling document-mutation reference found, which points to "+t);Ur(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),Oo.waitFor(i).next((function(){return r}))},Fo.prototype.removeMutationBatch=function(e,t){var n=this;return qo(e.simpleDbTransaction,this.userId,t).next((function(r){return n.removeCachedMutationKeys(t.batchId),Oo.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},Fo.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},Fo.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Oo.resolve();var r=IDBKeyRange.lowerBound(hu.prefixForUser(t.userId)),i=[];return jo(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Zi(e[1]);i.push(o)}else r.done()})).next((function(){Ur(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(e){return e.canonicalString()})))}))}))},Fo.prototype.containsKey=function(e,t){return Uo(e,this.userId,t)},Fo.prototype.getMutationQueueMetadata=function(e){var t=this;return zo(e).get(this.userId).next((function(e){return e||new uu(t.userId,-1,"")}))},Fo);function Fo(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}function Uo(e,t,n){var r=hu.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return jo(e).iterate({range:o,keysOnly:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function qo(e,t,n){var r=e.store(lu.store),i=e.store(hu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Ur(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=hu.key(t,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return Oo.waitFor(o).next((function(){return c}))}function Bo(e){return e instanceof Uint8Array?(Ur("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/bio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Vo(e){return oc.getStore(e,lu.store)}function jo(e){return oc.getStore(e,hu.store)}function zo(e){return oc.getStore(e,uu.store)}(Mo=Po=Po||{})[Mo.QueryCache=0]="QueryCache",Mo[Mo.SyncEngine=1]="SyncEngine";var Wo=(Qo.prototype.next=function(){var e=this.nextId;return this.nextId+=2,e},Qo.prototype.after=function(e){return this.seek(e+2),this.next()},Qo.prototype.seek=function(e){Ur((1&e)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},Qo.forQueryCache=function(){return new Qo(Po.QueryCache,2)},Qo.forSyncEngine=function(){return new Qo(Po.SyncEngine)},Qo);function Qo(e,t){Ur((1&(this.generatorId=e))===e,"Generator ID "+e+" contains more than 1 reserved bits"),this.seek(void 0!==t?t:this.generatorId)}var Ko="SimpleDb",Go=(Ho.openOrCreate=function(e,t,n){return Ur(Ho.isAvailable(),"IndexedDB not supported in current environment."),Pr(Ko,"Opening database:",e),new Oo((function(r,i){var o=window.indexedDB.open(e,t);o.onsuccess=function(e){var t=e.target.result;r(new Ho(t))},o.onblocked=function(){i(new Wr(zr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(e){var t=e.target.error;"VersionError"===t.name?i(new Wr(zr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(t)},o.onupgradeneeded=function(t){Pr(Ko,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var r=t.target.result,i=new Xo(o.transaction);n.createOrUpgrade(r,i,t.oldVersion,nu).next((function(){Pr(Ko,"Database upgrade to version "+nu+" complete")}))}})).toPromise()},Ho.delete=function(e){return Pr(Ko,"Removing database:",e),ta(window.indexedDB.deleteDatabase(e)).toPromise()},Ho.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/bio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).USE_MOCK_PERSISTENCE;var e=h(),t=Ho.getIOSVersion(e),n=0<t&&t<10,r=Ho.getAndroidVersion(e),i=0<r&&r<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||n||i)},Ho.getStore=function(e,t){return e.store(t)},Ho.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},Ho.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},Ho.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},Ho.prototype.runTransaction=function(e,t,n){var r=Xo.open(this.db,e,t),i=n(r).catch((function(e){return r.abort(e),Oo.reject(e)})).toPromise();return i.catch((function(){})),r.completionPromise.then((function(){return i}))},Ho.prototype.close=function(){this.db.close()},Ho);function Ho(e){this.db=e,12.2===Ho.getIOSVersion(h())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}var Yo=(Object.defineProperty($o.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty($o.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty($o.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),$o.prototype.done=function(){this.shouldStop=!0},$o.prototype.skip=function(e){this.nextKey=e},$o.prototype.delete=function(){return ta(this.dbCursor.delete())},$o);function $o(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}var Xo=(Jo.open=function(e,t,n){return new Jo(e.transaction(n,t))},Object.defineProperty(Jo.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),Jo.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(Pr(Ko,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},Jo.prototype.store=function(e){var t=this.transaction.objectStore(e);return Ur(!!t,"Object store not part of transaction: "+e),new Zo(t)},Jo);function Jo(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new Qi,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=ra(e.target.error);t.completionDeferred.reject(n)}}var Zo=(ea.prototype.put=function(e,t){return ta(void 0!==t?(Pr(Ko,"PUT",this.store.name,e,t),this.store.put(t,e)):(Pr(Ko,"PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},ea.prototype.add=function(e){return Pr(Ko,"ADD",this.store.name,e,e),ta(this.store.add(e))},ea.prototype.get=function(e){var t=this;return ta(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Pr(Ko,"GET",t.store.name,e,n),n}))},ea.prototype.delete=function(e){return Pr(Ko,"DELETE",this.store.name,e),ta(this.store.delete(e))},ea.prototype.count=function(){return Pr(Ko,"COUNT",this.store.name),ta(this.store.count())},ea.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},ea.prototype.deleteAll=function(e,t){Pr(Ko,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},ea.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},ea.prototype.iterateSerial=function(e){var t=this.cursor({});return new Oo((function(n,r){t.onerror=function(e){var t=ra(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},ea.prototype.iterateCursor=function(e,t){var n=[];return new Oo((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Yo(i),a=t(i.primaryKey,i.value,o);if(a instanceof Oo){var s=a.catch((function(e){return o.done(),Oo.reject(e)}));n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return Oo.waitFor(n)}))},ea.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(Ur(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},ea.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},ea);function ea(e){this.store=e}function ta(e){return new Oo((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ra(e.target.error);n(t)}}))}var na=!1;function ra(e){var t=Go.getIOSVersion(h());if(12.2<=t&&t<13){var n="An internal error was encountered in the Indexed Database server";if(0<=e.message.indexOf(n)){var r=new Wr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return na||(na=!0,setTimeout((function(){throw r}),0)),r}}return e}var ia=(oa.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},oa.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return no.fromTimestamp(new eo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},oa.prototype.getHighestSequenceNumber=function(e){return ua(e.simpleDbTransaction)},oa.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)}))},oa.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)}))}))},oa.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},oa.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return aa(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return Ur(0<t.targetCount,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},oa.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return aa(e).iterate((function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))})).next((function(){return Oo.waitFor(o)})).next((function(){return i}))},oa.prototype.forEachTarget=function(e,t){var n=this;return aa(e).iterate((function(e,r){var i=n.serializer.fromDbTarget(r);t(i)}))},oa.prototype.retrieveMetadata=function(e){return sa(e.simpleDbTransaction)},oa.prototype.saveMetadata=function(e,t){return function(e){return oc.getStore(e,_u.store)}(e).put(_u.key,t)},oa.prototype.saveQueryData=function(e,t){return aa(e).put(this.serializer.toDbTarget(t))},oa.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},oa.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},oa.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return aa(e).iterate({range:i,index:wu.queryTargetsIndexName},(function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(o=a,i.done())})).next((function(){return o}))},oa.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=ca(e);return t.forEach((function(t){var a=$i(t.path);i.push(o.put(new Tu(n,a))),i.push(r.referenceDelegate.addReference(e,t))})),Oo.waitFor(i)},oa.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=ca(e);return Oo.forEach(t,(function(t){var o=$i(t.path);return Oo.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])}))},oa.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ca(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},oa.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ca(e),i=Co();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=Zi(e[1]),o=new Vi(r);i=i.add(o)})).next((function(){return i}))},oa.prototype.containsKey=function(e,t){var n=$i(t.path),r=IDBKeyRange.bound([n],[bi(n)],!1,!0),i=0;return ca(e).iterate({index:Tu.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return 0<i}))},oa.prototype.getQueryDataForTarget=function(e,t){var n=this;return aa(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},oa);function oa(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=Wo.forQueryCache()}function aa(e){return oc.getStore(e,wu.store)}function sa(e){return Go.getStore(e,_u.store).get(_u.key).next((function(e){return Ur(null!==e,"Missing metadata row."),e}))}function ua(e){return sa(e).next((function(e){return e.highestListenSequenceNumber}))}function ca(e){return oc.getStore(e,Tu.store)}var la=(fa.fromSet=function(e){return new fa(e)},fa.fromArray=function(e){var t=new ho(qi.comparator);return e.forEach((function(e){return t=t.add(e)})),new fa(t)},fa.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},fa.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},fa);function fa(e){this.fields=e}var ha=(pa.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},pa);function pa(e,t){this.field=e,this.transform=t}var da,ma,ya=function(e,t){this.version=e,this.transformResults=t};(ma=da=da||{})[ma.Set=0]="Set",ma[ma.Patch=1]="Patch",ma[ma.Transform=2]="Transform",ma[ma.Delete=3]="Delete";var va=(ga.exists=function(e){return new ga(void 0,e)},ga.updateTime=function(e){return new ga(e)},Object.defineProperty(ga.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),ga.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof As&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof As:(Ur(this.isNone,"Precondition should be empty"),!0)},ga.prototype.isEqual=function(e){return function(e,t){return null!=e?!(!t||!e.isEqual(t)):e===t}(this.updateTime,e.updateTime)&&this.exists===e.exists},ga.NONE=new ga,ga);function ga(e,t){this.updateTime=e,this.exists=t,Ur(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}var ba=(wa.prototype.verifyKeyMatches=function(e){null!=e&&Ur(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},wa.getPostMutationVersion=function(e){return e instanceof As?e.version:no.MIN},wa);function wa(){}var Ea,Ta=(c(Sa,Ea=ba),Sa.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),Ur(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new As(this.key,n,{hasCommittedMutations:!0},this.value)},Sa.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=ba.getPostMutationVersion(e);return new As(this.key,r,{hasLocalMutations:!0},this.value)},Sa.prototype.extractBaseValue=function(e){return null},Sa.prototype.isEqual=function(e){return e instanceof Sa&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},Sa);function Sa(e,t,n){var r=Ea.call(this)||this;return r.key=e,r.value=t,r.precondition=n,r.type=da.Set,r}var _a,Ca=(c(Ia,_a=ba),Ia.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Ur(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Ls(this.key,t.version);var n=this.patchDocument(e);return new As(this.key,t.version,{hasCommittedMutations:!0},n)},Ia.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=ba.getPostMutationVersion(e),i=this.patchDocument(e);return new As(this.key,r,{hasLocalMutations:!0},i)},Ia.prototype.extractBaseValue=function(e){return null},Ia.prototype.isEqual=function(e){return e instanceof Ia&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},Ia.prototype.patchDocument=function(e){var t;return t=e instanceof As?e.data():Ts.EMPTY,this.patchObject(t)},Ia.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}})),e},Ia);function Ia(e,t,n,r){var i=_a.call(this)||this;return i.key=e,i.data=t,i.fieldMask=n,i.precondition=r,i.type=da.Patch,i}var ka,Na=(c(Da,ka=ba),Da.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Ur(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Ls(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data(),r);return new As(this.key,i,{hasCommittedMutations:!0},o)},Da.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data(),i);return new As(this.key,r.version,{hasLocalMutations:!0},o)},Da.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof As?e.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(t=null==t?Ts.EMPTY.set(i.field,a):t.set(i.field,a))}return t},Da.prototype.isEqual=function(e){return e instanceof Da&&this.key.isEqual(e.key)&&gi(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},Da.prototype.requireDocument=function(e){Ur(e instanceof As,"Unknown MaybeDocument type "+e);var t=e;return Ur(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},Da.prototype.serverTransformResults=function(e,t){var n=[];Ur(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof As&&(a=e.field(i.field)),n.push(o.applyToRemoteDocument(a,t[r]))}return n},Da.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;t instanceof As&&(u=t.field(a.field)),null===u&&n instanceof As&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,e))}return r},Da.prototype.transformObject=function(e,t){Ur(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},Da);function Da(e,t){var n=ka.call(this)||this;return n.key=e,n.fieldTransforms=t,n.type=da.Transform,n.precondition=va.exists(!0),n}var Aa,xa,Oa,Ra,Pa,Ma=(c(La,Aa=ba),La.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),Ur(null==t.transformResults,"Transform results received by DeleteMutation."),new Rs(this.key,t.version,{hasCommittedMutations:!0})},La.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&Ur(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Rs(this.key,no.forDeletedDoc())):e},La.prototype.extractBaseValue=function(e){return null},La.prototype.isEqual=function(e){return e instanceof La&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},La);function La(e,t){var n=Aa.call(this)||this;return n.key=e,n.precondition=t,n.type=da.Delete,n}(Oa=xa=xa||{})[Oa.NullValue=0]="NullValue",Oa[Oa.BooleanValue=1]="BooleanValue",Oa[Oa.NumberValue=2]="NumberValue",Oa[Oa.TimestampValue=3]="TimestampValue",Oa[Oa.StringValue=4]="StringValue",Oa[Oa.BlobValue=5]="BlobValue",Oa[Oa.RefValue=6]="RefValue",Oa[Oa.GeoPointValue=7]="GeoPointValue",Oa[Oa.ArrayValue=8]="ArrayValue",Oa[Oa.ObjectValue=9]="ObjectValue",(Pa=Ra=Ra||{})[Pa.Default=0]="Default",Pa[Pa.Estimate=1]="Estimate",Pa[Pa.Previous=2]="Previous";var Fa=(Ua.fromSnapshotOptions=function(e,t){switch(e.serverTimestamps){case"estimate":return new Ua(Ra.Estimate,t);case"previous":return new Ua(Ra.Previous,t);case"none":case void 0:return new Ua(Ra.Default,t);default:return Fr("fromSnapshotOptions() called with invalid options.")}},Ua);function Ua(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}var qa=(Ba.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},Ba.prototype.defaultCompareTo=function(e){return Ur(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),vi(this.typeOrder,e.typeOrder)},Ba);function Ba(){}var Va,ja=(c(za,Va=qa),za.prototype.value=function(e){return null},za.prototype.isEqual=function(e){return e instanceof za},za.prototype.compareTo=function(e){return e instanceof za?0:this.defaultCompareTo(e)},za.INSTANCE=new za,za);function za(){var e=Va.call(this)||this;return e.typeOrder=xa.NullValue,e.internalValue=null,e}var Wa,Qa=(c(Ka,Wa=qa),Ka.prototype.value=function(e){return this.internalValue},Ka.prototype.isEqual=function(e){return e instanceof Ka&&this.internalValue===e.internalValue},Ka.prototype.compareTo=function(e){return e instanceof Ka?vi(this,e):this.defaultCompareTo(e)},Ka.of=function(e){return e?Ka.TRUE:Ka.FALSE},Ka.TRUE=new Ka(!0),Ka.FALSE=new Ka(!1),Ka);function Ka(e){var t=Wa.call(this)||this;return t.internalValue=e,t.typeOrder=xa.BooleanValue,t}var Ga,Ha=(c(Ya,Ga=qa),Ya.prototype.value=function(e){return this.internalValue},Ya.prototype.compareTo=function(e){return e instanceof Ya?function(e,t){return e<t?-1:t<e?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}(this.internalValue,e.internalValue):this.defaultCompareTo(e)},Ya);function Ya(e){var t=Ga.call(this)||this;return t.internalValue=e,t.typeOrder=xa.NumberValue,t}function $a(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var Xa,Ja=(c(Za,Xa=Ha),Za.prototype.isEqual=function(e){return e instanceof Za&&$a(this.internalValue,e.internalValue)},Za);function Za(){return null!==Xa&&Xa.apply(this,arguments)||this}var es,ts=(c(ns,es=Ha),ns.prototype.isEqual=function(e){return e instanceof ns&&$a(this.internalValue,e.internalValue)},ns.NAN=new ns(NaN),ns.POSITIVE_INFINITY=new ns(1/0),ns.NEGATIVE_INFINITY=new ns(-1/0),ns);function ns(){return null!==es&&es.apply(this,arguments)||this}var rs,is=(c(os,rs=qa),os.prototype.value=function(e){return this.internalValue},os.prototype.isEqual=function(e){return e instanceof os&&this.internalValue===e.internalValue},os.prototype.compareTo=function(e){return e instanceof os?vi(this.internalValue,e.internalValue):this.defaultCompareTo(e)},os);function os(e){var t=rs.call(this)||this;return t.internalValue=e,t.typeOrder=xa.StringValue,t}var as,ss=(c(us,as=qa),us.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},us.prototype.isEqual=function(e){return e instanceof us&&this.internalValue.isEqual(e.internalValue)},us.prototype.compareTo=function(e){return e instanceof us?this.internalValue._compareTo(e.internalValue):e instanceof ls?-1:this.defaultCompareTo(e)},us);function us(e){var t=as.call(this)||this;return t.internalValue=e,t.typeOrder=xa.TimestampValue,t}var cs,ls=(c(fs,cs=qa),fs.prototype.value=function(e){return e&&e.serverTimestampBehavior===Ra.Estimate?new ss(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===Ra.Previous&&this.previousValue?this.previousValue.value(e):null},fs.prototype.isEqual=function(e){return e instanceof fs&&this.localWriteTime.isEqual(e.localWriteTime)},fs.prototype.compareTo=function(e){return e instanceof fs?this.localWriteTime._compareTo(e.localWriteTime):e instanceof ss?1:this.defaultCompareTo(e)},fs.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},fs);function fs(e,t){var n=cs.call(this)||this;return n.localWriteTime=e,n.previousValue=t,n.typeOrder=xa.TimestampValue,n}var hs,ps=(c(ds,hs=qa),ds.prototype.value=function(e){return this.internalValue},ds.prototype.isEqual=function(e){return e instanceof ds&&this.internalValue.isEqual(e.internalValue)},ds.prototype.compareTo=function(e){return e instanceof ds?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},ds);function ds(e){var t=hs.call(this)||this;return t.internalValue=e,t.typeOrder=xa.BlobValue,t}var ms,ys=(c(vs,ms=qa),vs.prototype.value=function(e){return this.key},vs.prototype.isEqual=function(e){return e instanceof vs&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},vs.prototype.compareTo=function(e){if(e instanceof vs){var t=this.databaseId.compareTo(e.databaseId);return 0!==t?t:Vi.comparator(this.key,e.key)}return this.defaultCompareTo(e)},vs);function vs(e,t){var n=ms.call(this)||this;return n.databaseId=e,n.key=t,n.typeOrder=xa.RefValue,n}var gs,bs=(c(ws,gs=qa),ws.prototype.value=function(e){return this.internalValue},ws.prototype.isEqual=function(e){return e instanceof ws&&this.internalValue.isEqual(e.internalValue)},ws.prototype.compareTo=function(e){return e instanceof ws?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},ws);function ws(e){var t=gs.call(this)||this;return t.internalValue=e,t.typeOrder=xa.GeoPointValue,t}var Es,Ts=(c(Ss,Es=qa),Ss.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},Ss.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},Ss.prototype.isEqual=function(e){if(e instanceof Ss){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var r=t.getNext(),i=n.getNext();if(r.key!==i.key||!r.value.isEqual(i.value))return!1}return!t.hasNext()&&!n.hasNext()}return!1},Ss.prototype.compareTo=function(e){if(e instanceof Ss){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var r=t.getNext(),i=n.getNext(),o=vi(r.key,i.key)||r.value.compareTo(i.value);if(o)return o}return vi(t.hasNext(),n.hasNext())}return this.defaultCompareTo(e)},Ss.prototype.set=function(e,t){if(Ur(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),t);var n=this.child(e.firstSegment());n instanceof Ss||(n=Ss.EMPTY);var r=n.set(e.popFirst(),t);return this.setChild(e.firstSegment(),r)},Ss.prototype.delete=function(e){if(Ur(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new Ss(this.internalValue.remove(e.firstSegment()));var t=this.child(e.firstSegment());if(t instanceof Ss){var n=t.delete(e.popFirst());return new Ss(this.internalValue.insert(e.firstSegment(),n))}return this},Ss.prototype.contains=function(e){return null!==this.field(e)},Ss.prototype.field=function(e){Ur(!e.isEmpty(),"Can't get field of empty path");var t=this;return e.forEach((function(e){t=t instanceof Ss?t.internalValue.get(e):null})),t},Ss.prototype.fieldMask=function(){var e=new ho(qi.comparator);return this.internalValue.forEach((function(t,n){var r=new qi([t]);if(n instanceof Ss){var i=n.fieldMask().fields;i.isEmpty()?e=e.add(r):i.forEach((function(t){e=e.add(r.child(t))}))}else e=e.add(r)})),la.fromSet(e)},Ss.prototype.toString=function(){return this.internalValue.toString()},Ss.prototype.child=function(e){return this.internalValue.get(e)||void 0},Ss.prototype.setChild=function(e,t){return new Ss(this.internalValue.insert(e,t))},Ss.EMPTY=new Ss(new io(vi)),Ss);function Ss(e){var t=Es.call(this)||this;return t.internalValue=e,t.typeOrder=xa.ObjectValue,t}var _s,Cs=(c(Is,_s=qa),Is.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},Is.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++)if(n[t].isEqual(e))return!0;return!1},Is.prototype.forEach=function(e){this.internalValue.forEach(e)},Is.prototype.isEqual=function(e){if(e instanceof Is){if(this.internalValue.length!==e.internalValue.length)return!1;for(var t=0;t<this.internalValue.length;t++)if(!this.internalValue[t].isEqual(e.internalValue[t]))return!1;return!0}return!1},Is.prototype.compareTo=function(e){if(e instanceof Is){for(var t=Math.min(this.internalValue.length,e.internalValue.length),n=0;n<t;n++){var r=this.internalValue[n].compareTo(e.internalValue[n]);if(r)return r}return vi(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},Is.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},Is);function Is(e){var t=_s.call(this)||this;return t.internalValue=e,t.typeOrder=xa.ArrayValue,t}var ks=(Ns.compareByKey=function(e,t){return Vi.comparator(e.key,t.key)},Ns);function Ns(e,t){this.key=e,this.version=t}var Ds,As=(c(xs,Ds=ks),xs.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},xs.prototype.data=function(){var e=this;if(!this.objectValue){var t=Ts.EMPTY;$r(this.proto.fields,(function(n,r){t=t.set(new qi([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},xs.prototype.value=function(){return this.data().value()},xs.prototype.isEqual=function(e){return e instanceof xs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},xs.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(xs.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),xs.prototype.getProtoField=function(e){Ur(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields[e.firstSegment()],n=1;n<e.length;++n){if(!t||!t.mapValue)return;t=t.mapValue.fields[e.get(n)]}return t},xs.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):Fr("Trying to compare documents on fields that don't exist")},xs);function xs(e,t,n,r,i,o){var a=Ds.call(this,e,t)||this;return a.objectValue=r,a.proto=i,a.converter=o,Ur(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!n.hasLocalMutations,a.hasCommittedMutations=!!n.hasCommittedMutations,a}var Os,Rs=(c(Ps,Os=ks),Ps.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Ps.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Ps.prototype.isEqual=function(e){return e instanceof Ps&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Ps);function Ps(e,t,n){var r=Os.call(this,e,t)||this;return r.hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}var Ms,Ls=(c(Fs,Ms=ks),Fs.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Fs.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),Fs.prototype.isEqual=function(e){return e instanceof Fs&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Fs);function Fs(){return null!==Ms&&Ms.apply(this,arguments)||this}var Us=(qs.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(e))return s}},qs.prototype.has=function(e){return void 0!==this.get(e)},qs.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},qs.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},qs.prototype.forEach=function(e){$r(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},qs.prototype.isEmpty=function(){return Xr(this.inner)},qs);function qs(e){this.mapKeyFn=e,this.inner={}}var Bs=(Vs.prototype.addEntry=function(e){this.assertNotApplied(),this.changes.set(e.key,e)},Vs.prototype.removeEntry=function(e){this.assertNotApplied(),this.changes.set(e,null)},Vs.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Oo.resolve(n):this.getFromCache(e,t)},Vs.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},Vs.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},Vs.prototype.assertNotApplied=function(){Ur(!this.changesApplied,"Changes have already been applied.")},Vs);function Vs(){this.changes=new Us((function(e){return e.toString()})),this.changesApplied=!1}var js,zs="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Ws=(Object.defineProperty(Qs.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),Qs.prototype.start=function(e){var t=Go.getStore(e,Du.store);return this.synchronizeLastDocumentChangeId(t)},Qs.prototype.addEntry=function(e,t,n){var r=this;return Hs(e).put($s(t),n).next((function(){r.indexManager.addToCollectionParentIndex(e,t.path.popLast())}))},Qs.prototype.removeEntry=function(e,t){var n=Hs(e),r=$s(t);return n.delete(r)},Qs.prototype.updateMetadata=function(e,t,n){var r=this;return this.getMetadata(e).next((function(i){return i.byteSize+=n,r.setMetadata(e,i).next((function(){if(r.keepDocumentChangeLog)return Ys(e).put({changes:r.serializer.toDbResourcePaths(t)})}))}))},Qs.prototype.getEntry=function(e,t){var n=this;return Hs(e).get($s(t)).next((function(e){return e?n.serializer.fromDbRemoteDocument(e):null}))},Qs.prototype.getSizedEntry=function(e,t){var n=this;return Hs(e).get($s(t)).next((function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:Xs(e)}:null}))},Qs.prototype.getEntries=function(e,t){var n=this,r=bo();return this.forEachDbEntry(e,t,(function(e,t){r=t?r.insert(e,n.serializer.fromDbRemoteDocument(t)):r.insert(e,null)})).next((function(){return r}))},Qs.prototype.getSizedEntries=function(e,t){var n=this,r=bo(),i=new io(Vi.comparator);return this.forEachDbEntry(e,t,(function(e,t){i=t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),i.insert(e,Xs(t))):(r=r.insert(e,null),i.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},Qs.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return Oo.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Hs(e).iterate({range:r},(function(e,t,r){for(var a=Vi.fromSegments(e);o&&Vi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},Qs.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;Ur(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Eo(),i=t.path.length+1,o=t.path.toArray(),a=IDBKeyRange.lowerBound(o);return Hs(e).iterate({range:a},(function(e,o,a){if(e.length===i){var s=n.serializer.fromDbRemoteDocument(o);t.path.isPrefixOf(s.key.path)?s instanceof As&&t.matches(s)&&(r=r.insert(s.key,s)):a.done()}})).next((function(){return r}))},Qs.prototype.getNewDocumentChanges=function(e){var t=this;Ur(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Co(),r=go(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Ys(e);return a.iterate({range:i},(function(e,r){if(o&&(o=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(a).next((function(){return Oo.reject(new Wr(zr.DATA_LOSS,zs))}));n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id})).next((function(){var i=[];return n.forEach((function(n){i.push(t.getEntry(e,n).next((function(e){var t=e||new Rs(n,no.forDeletedDoc());r=r.insert(n,t)})))})),Oo.waitFor(i)})).next((function(){return r}))},Qs.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return Ys(e).delete(n)},Qs.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},(function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()}))},Qs.prototype.newChangeBuffer=function(){return new Qs.RemoteDocumentChangeBuffer(this)},Qs.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},Qs.prototype.getMetadata=function(e){return Gs(e).get(gu.key).next((function(e){return Ur(!!e,"Missing document cache metadata"),e}))},Qs.prototype.setMetadata=function(e,t){return Gs(e).put(gu.key,t)},Qs.RemoteDocumentChangeBuffer=(c(Ks,js=Bs),Ks.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=Co();return this.changes.forEach((function(o,a){var s=t.documentSizes.get(o);if(Ur(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){var u=t.documentCache.serializer.toDbRemoteDocument(a),c=Xs(u);r+=c-s,n.push(t.documentCache.addEntry(e,o,u))}else r-=s,n.push(t.documentCache.removeEntry(e,o));i=i.add(o)})),n.push(this.documentCache.updateMetadata(e,i,r)),Oo.waitFor(n)},Ks.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},Ks.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},Ks),Qs);function Qs(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}function Ks(e){var t=js.call(this)||this;return t.documentCache=e,t.documentSizes=new Us((function(e){return e.toString()})),t}function Gs(e){return oc.getStore(e,gu.store)}function Hs(e){return oc.getStore(e,yu.store)}function Ys(e){return oc.getStore(e,Du.store)}function $s(e){return e.path.toArray()}function Xs(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fr("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var Js=(Zs.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),Oo.resolve()},Zs.prototype.getCollectionParents=function(e,t){return Oo.resolve(this.collectionParentIndex.getEntries(t))},Zs);function Zs(){this.collectionParentIndex=new eu}var eu=(tu.prototype.add=function(e){Ur(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ho(Mi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},tu.prototype.getEntries=function(e){return(this.index[e]||new ho(Mi.comparator)).toArray()},tu);function tu(){this.index={}}var nu=8,ru=(iu.prototype.createOrUpgrade=function(e,t,n,r){var i=this;Ur(n<r&&0<=n&&r<=nu,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&1<=r&&(function(e){e.createObjectStore(au.store)}(e),function(e){e.createObjectStore(uu.store,{keyPath:uu.keyPath}),e.createObjectStore(lu.store,{keyPath:lu.keyPath,autoIncrement:!0}).createIndex(lu.userMutationsIndex,lu.userMutationsKeyPath,{unique:!0}),e.createObjectStore(hu.store)}(e),Nu(e),function(e){e.createObjectStore(yu.store)}(e));var o=Oo.resolve();return n<3&&3<=r&&(0!==n&&(function(e){e.deleteObjectStore(Tu.store),e.deleteObjectStore(wu.store),e.deleteObjectStore(_u.store)}(e),Nu(e)),o=o.next((function(){return function(e){var t=e.store(_u.store),n=new _u(0,0,no.MIN.toTimestamp(),0);return t.put(_u.key,n)}(t)}))),n<4&&4<=r&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(lu.store).loadAll().next((function(n){e.deleteObjectStore(lu.store),e.createObjectStore(lu.store,{keyPath:lu.keyPath,autoIncrement:!0}).createIndex(lu.userMutationsIndex,lu.userMutationsKeyPath,{unique:!0});var r=t.store(lu.store),i=n.map((function(e){return r.put(e)}));return Oo.waitFor(i)}))}(e,t)}))),o=o.next((function(){!function(e){e.createObjectStore(xu.store,{keyPath:xu.keyPath})}(e),function(e){e.createObjectStore(Du.store,{keyPath:"id",autoIncrement:!0})}(e)}))),n<5&&5<=r&&(o=o.next((function(){return i.removeAcknowledgedMutations(t)}))),n<6&&6<=r&&(o=o.next((function(){return function(e){e.createObjectStore(gu.store)}(e),i.addDocumentGlobal(t)}))),n<7&&7<=r&&(o=o.next((function(){return i.ensureSequenceNumbers(t)}))),n<8&&8<=r&&(o=o.next((function(){return i.createCollectionParentIndex(e,t)}))),o},iu.prototype.addDocumentGlobal=function(e){var t=0;return e.store(yu.store).iterate((function(e,n){t+=Xs(n)})).next((function(){var n=new gu(t);return e.store(gu.store).put(gu.key,n)}))},iu.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(uu.store),r=e.store(lu.store);return n.loadAll().next((function(n){return Oo.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(lu.userMutationsIndex,i).next((function(r){return Oo.forEach(r,(function(r){Ur(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return qo(e,n.userId,i).next((function(){}))}))}))}))}))},iu.prototype.ensureSequenceNumbers=function(e){var t=e.store(Tu.store),n=e.store(yu.store);return ua(e).next((function(e){var r=[];return n.iterate((function(n,i){var o=new Mi(n),a=function(e){return[0,$i(e)]}(o);r.push(t.get(a).next((function(n){return n?Oo.resolve():function(n){return t.put(new Tu(0,$i(n),e))}(o)})))})).next((function(){return Oo.waitFor(r)}))}))},iu.prototype.createCollectionParentIndex=function(e,t){function n(e){if(i.add(e)){var t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:$i(n)})}}e.createObjectStore(Iu.store,{keyPath:Iu.keyPath});var r=t.store(Iu.store),i=new eu;return t.store(yu.store).iterate({keysOnly:!0},(function(e,t){return n(new Mi(e).popLast())})).next((function(){return t.store(hu.store).iterate({keysOnly:!0},(function(e,t){e[0];var r=e[1];return n((e[2],Zi(r)).popLast())}))}))},iu);function iu(e){this.serializer=e}var ou=function(e,t){this.seconds=e,this.nanoseconds=t},au=(su.store="owner",su.key="owner",su);function su(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var uu=(cu.store="mutationQueues",cu.keyPath="userId",cu);function cu(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}var lu=(fu.store="mutations",fu.keyPath="batchId",fu.userMutationsIndex="userMutationsIndex",fu.userMutationsKeyPath=["userId","batchId"],fu);function fu(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}var hu=(pu.prefixForUser=function(e){return[e]},pu.prefixForPath=function(e,t){return[e,$i(t)]},pu.key=function(e,t,n){return[e,$i(t),n]},pu.store="documentMutations",pu.PLACEHOLDER=new pu,pu);function pu(){}var du=function(e,t){this.path=e,this.readTime=t},mu=function(e,t){this.path=e,this.version=t},yu=(vu.store="remoteDocuments",vu);function vu(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}var gu=(bu.store="remoteDocumentGlobal",bu.key="remoteDocumentGlobalKey",bu);function bu(e){this.byteSize=e}var wu=(Eu.store="targets",Eu.keyPath="targetId",Eu.queryTargetsIndexName="queryTargetsIndex",Eu.queryTargetsKeyPath=["canonicalId","targetId"],Eu);function Eu(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}var Tu=(Su.store="targetDocuments",Su.keyPath=["targetId","path"],Su.documentTargetsIndex="documentTargetsIndex",Su.documentTargetsKeyPath=["path","targetId"],Su);function Su(e,t,n){this.targetId=e,this.path=t,Ur(0===e==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}var _u=(Cu.key="targetGlobalKey",Cu.store="targetGlobal",Cu);function Cu(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}var Iu=(ku.store="collectionParents",ku.keyPath=["collectionId","parent"],ku);function ku(e,t){this.collectionId=e,this.parent=t}function Nu(e){e.createObjectStore(Tu.store,{keyPath:Tu.keyPath}).createIndex(Tu.documentTargetsIndex,Tu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(wu.store,{keyPath:wu.keyPath}).createIndex(wu.queryTargetsIndexName,wu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(_u.store)}var Du=(Au.store="remoteDocumentChanges",Au.keyPath="id",Au);function Au(e){this.changes=e}var xu=(Ou.store="clientMetadata",Ou.keyPath="clientId",Ou);function Ou(e,t,n,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}var Ru,Pu,Mu=[uu.store,lu.store,hu.store,yu.store,wu.store,au.store,_u.store,Tu.store].concat([xu.store,Du.store]).concat([gu.store]).concat([Iu.store]),Lu=(Fu.prototype.addToCollectionParentIndex=function(e,t){if(Ur(t.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(t)){Ur(1<=t.length,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return Uu(e).put({collectionId:n,parent:$i(r)})}return Oo.resolve()},Fu.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[bi(t),""],!1,!0);return Uu(e).loadAll(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Zi(o.parent))}return n}))},Fu);function Fu(){this.collectionParentsCache=new eu}function Uu(e){return oc.getStore(e,Iu.store)}(Pu=Ru=Ru||{})[Pu.Listen=0]="Listen",Pu[Pu.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",Pu[Pu.LimboResolution=2]="LimboResolution";var qu=(Bu.prototype.withSequenceNumber=function(e){return new Bu(this.query,this.targetId,this.purpose,e,this.snapshotVersion,this.resumeToken)},Bu.prototype.withResumeToken=function(e,t){return new Bu(this.query,this.targetId,this.purpose,this.sequenceNumber,t,e)},Bu.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},Bu);function Bu(e,t,n,r,i,o){void 0===i&&(i=no.MIN),void 0===o&&(o=Vr()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}var Vu=(ju.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Vi.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new Rs(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=Vi.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new Ls(t,n)):Fr("Unexpected DbRemoteDocument")},ju.prototype.toDbRemoteDocument=function(e){if(e instanceof As){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new yu(null,null,t,n)}if(e instanceof Rs){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);return n=e.hasCommittedMutations,new yu(null,new du(r,i),null,n)}return e instanceof Ls?(r=e.key.path.toArray(),i=this.toDbTimestamp(e.version),new yu(new mu(r,i),null,null,!0)):Fr("Unexpected MaybeDocumment")},ju.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new ou(t.seconds,t.nanoseconds)},ju.prototype.fromDbTimestamp=function(e){var t=new eo(e.seconds,e.nanoseconds);return no.fromTimestamp(t)},ju.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),i=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new lu(e,t.batchId,t.localWriteTime.toMillis(),r,i)},ju.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),i=eo.fromMillis(e.localWriteTimeMs);return new No(e.batchId,i,n,r)},ju.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push($i(e.path))})),t},ju.prototype.fromDbResourcePaths=function(e){for(var t=Co(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new Vi(Zi(i)))}return t},ju.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=function(e){return void 0!==e.documents}(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new qu(t,e.targetId,Ru.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},ju.prototype.toDbTarget=function(e){Ur(Ru.Listen===e.purpose,"Only queries with purpose "+Ru.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),n=e.resumeToken instanceof Uint8Array?(Ur("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/bio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),e.resumeToken.toString()):e.resumeToken,new wu(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,t)},ju);function ju(e){this.remoteSerializer=e}function zu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=vi(n,i);return 0===a?vi(r,o):a}var Wu=(Qu.prototype.nextIndex=function(){return++this.previousIndex},Qu.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();zu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(Qu.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),Qu);function Qu(e){this.maxElements=e,this.buffer=new ho(zu),this.previousIndex=0}var Ku={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gu=(Hu.withCacheSize=function(e){return new Hu(e,Hu.DEFAULT_COLLECTION_PERCENTILE,Hu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Hu.COLLECTION_DISABLED=-1,Hu.MINIMUM_CACHE_SIZE_BYTES=1048576,Hu.DEFAULT=new Hu(Hu.DEFAULT_CACHE_SIZE_BYTES=41943040,Hu.DEFAULT_COLLECTION_PERCENTILE=10,Hu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),Hu.DISABLED=new Hu(Hu.COLLECTION_DISABLED,0,0),Hu);function Hu(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}var Yu=($u.prototype.start=function(){Ur(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Gu.COLLECTION_DISABLED&&this.scheduleGC()},$u.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty($u.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),$u.prototype.scheduleGC=function(){var e=this;Ur(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;Pr("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(zi.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(sc)}))},$u);function $u(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}var Xu=(Ju.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},Ju.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Oo.resolve(Di.INVALID);var r=new Wu(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},Ju.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},Ju.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},Ju.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===Gu.COLLECTION_DISABLED?(Pr("LruGarbageCollector","Garbage collection skipped; disabled"),Oo.resolve(Ku)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Pr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ku):n.runGarbageCollection(e,t)}))},Ju.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},Ju.prototype.runGarbageCollection=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(Pr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),c.params.maximumSequenceNumbersToCollect):t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Or()<=Tr.DEBUG&&Pr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Oo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},Ju);function Ju(e,t){this.delegate=e,this.params=t}var Zu,ec="IndexedDbPersistence",tc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nc="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",rc=(c(ic,Zu=function(){}),ic);function ic(e,t){var n=Zu.call(this)||this;return n.simpleDbTransaction=e,n.currentSequenceNumber=t,n}var oc=(ac.getStore=function(e,t){if(e instanceof rc)return Go.getStore(e.simpleDbTransaction,t);throw Fr("IndexedDbPersistence must use instances of IndexedDbTransaction")},ac.createIndexedDbPersistence=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:if(!ac.isAvailable())throw new Wr(zr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(t=new ac(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return n.sent(),[2,t]}}))}))},ac.prototype.start=function(){var e=this;return Ur(!this.started,"IndexedDbPersistence double-started!"),Ur(null!==this.window,"Expected 'window' to be defined"),Go.openOrCreate(this.dbName,nu,new ru(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()})).then((function(){return e.simpleDb.runTransaction("readonly",[_u.store],(function(t){return ua(t).next((function(t){e.listenSequence=new Di(t,e.sequenceNumberSyncer)}))}))})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},ac.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",Mu,(function(t){return e.remoteDocumentCache.start(t)}))},ac.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return l(t,void 0,void 0,(function(){return f(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},ac.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return l(t,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},ac.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return l(t,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},ac.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Mu,(function(t){return cc(t).put(new xu(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(e.isPrimary)})),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0}))}))},ac.prototype.verifyPrimaryLease=function(e){var t=this;return uc(e).get(au.key).next((function(e){return Oo.resolve(t.isLocalClient(e))}))},ac.prototype.removeClientMetadata=function(e){return cc(e).delete(this.clientId)},ac.prototype.maybeGarbageCollectMultiClientState=function(){return l(this,void 0,void 0,(function(){var e,t,n=this;return f(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),t=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(r){var i=ac.getStore(r,xu.store);return i.loadAll().next((function(r){e=n.filterActiveClients(r,18e5),t=r.filter((function(t){return-1===e.indexOf(t)}))})).next((function(){return Oo.forEach(t,(function(e){return i.delete(e.clientId)}))})).next((function(){if(0<(e=e.filter((function(e){return e.clientId!==n.clientId}))).length){var t=e.map((function(e){return e.lastProcessedDocumentChangeId||0})),i=Math.min.apply(Math,t);return n.remoteDocumentCache.removeDocumentChangesThroughChangeId(r,i)}}))}))]);case 1:r.sent(),t.forEach((function(e){n.window.localStorage.removeItem(n.zombiedClientLocalStorageKey(e.clientId))})),r.label=2;case 2:return[2]}}))}))},ac.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(zi.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},ac.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},ac.prototype.canActAsPrimary=function(e){var t=this;return uc(e).get(au.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new Wr(zr.FAILED_PRECONDITION,nc);return!1}}return!(!t.networkEnabled||!t.inForeground)||cc(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Pr(ec,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},ac.prototype.shutdown=function(){return l(this,void 0,void 0,(function(){var e=this;return f(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[au.store,xu.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},ac.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},ac.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[xu.store],(function(t){return cc(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},ac.clearPersistence=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return ac.isAvailable()?(t=e+ac.MAIN_DATABASE,[4,Go.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(ac.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),ac.prototype.getMutationQueue=function(e){return Ur(this.started,"Cannot initialize MutationQueue before persistence is started."),Lo.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},ac.prototype.getQueryCache=function(){return Ur(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},ac.prototype.getRemoteDocumentCache=function(){return Ur(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},ac.prototype.getIndexManager=function(){return Ur(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},ac.prototype.runTransaction=function(e,t,n){var r=this;return Pr(ec,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",Mu,(function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next((function(t){if(!t)throw Mr("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new Wr(zr.FAILED_PRECONDITION,tc);return n(new rc(i,r.listenSequence.next()))})).next((function(e){return r.acquireOrExtendPrimaryLease(i).next((function(){return e}))})):r.verifyAllowTabSynchronization(i).next((function(){return n(new rc(i,r.listenSequence.next()))}))}))},ac.prototype.verifyAllowTabSynchronization=function(e){var t=this;return uc(e).get(au.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new Wr(zr.FAILED_PRECONDITION,nc)}))},ac.prototype.acquireOrExtendPrimaryLease=function(e){var t=new au(this.clientId,this.allowTabSynchronization,Date.now());return uc(e).put(au.key,t)},ac.isAvailable=function(){return Go.isAvailable()},ac.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},ac.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=uc(e);return n.get(au.key).next((function(e){return t.isLocalClient(e)?(Pr(ec,"Releasing primary lease."),n.delete(au.key)):Oo.resolve()}))},ac.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(Mr("Detected an update time that is in the future: "+e+" > "+n),1))},ac.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},ac.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(Ur(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},ac.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},ac.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(Ur("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},ac.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return Pr(ec,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return Mr(ec,"Failed to get zombied client id.",e),!1}},ac.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(r){Mr("Failed to set zombie client id.",r)}},ac.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(r){}},ac.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},ac.MAIN_DATABASE="main",ac);function ac(e,t,n,r,i,o,a,s){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.queue=o,this.sequenceNumberSyncer=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new lc(this,i),this.dbName=t+ac.MAIN_DATABASE,this.serializer=new Vu(a),this.document=r.document,this.queryCache=new ia(this.referenceDelegate,this.serializer),this.indexManager=new Lu,this.remoteDocumentCache=new Ws(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new Wr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}function sc(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){if(!function(e){return e.code===zr.FAILED_PRECONDITION&&e.message===tc}(e))throw e;return Pr(ec,"Unexpectedly lost primary lease"),[2]}))}))}function uc(e){return e.store(au.store)}function cc(e){return e.store(xu.store)}var lc=(fc.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next((function(e){return t.next((function(t){return e+t}))}))},fc.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},fc.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},fc.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},fc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},fc.prototype.addReference=function(e,t){return hc(e,t)},fc.prototype.removeReference=function(e,t){return hc(e,t)},fc.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},fc.prototype.removeMutationReference=function(e,t){return hc(e,t)},fc.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?Oo.resolve(!0):function(e,t){var n=!1;return zo(e).iterateSerial((function(r){return Uo(e,r,t).next((function(e){return e&&(n=!0),Oo.resolve(!e)}))})).next((function(){return n}))}(e,t)},fc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(e,(function(a,s){if(s<=t){var u=n.isPinned(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),ca(e).delete(function(e){return[0,$i(e.path)]}(a))}))}));i.push(u)}})).next((function(){return Oo.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},fc.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(e,n)},fc.prototype.updateLimboDocument=function(e,t){return hc(e,t)},fc.prototype.forEachOrphanedDocument=function(e,t){var n,r=ca(e),i=Di.INVALID;return r.iterate({index:Tu.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Di.INVALID&&t(new Vi(Zi(n)),i),i=s,n=a):i=Di.INVALID})).next((function(){i!==Di.INVALID&&t(new Vi(Zi(n)),i)}))},fc.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},fc);function fc(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Xu(this,t)}function hc(e,t){return ca(e).put(function(e,t){return new Tu(0,$i(e.path),t)}(t,e.currentSequenceNumber))}var pc=(dc.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},dc.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},dc.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=bo();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},dc.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},dc.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=go();return i.forEach((function(e,t){t=t||new Rs(e,no.forDeletedDoc()),o=o.insert(e,t)})),o}))},dc.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},dc.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new Vi(t)).next((function(e){var t=Eo();return e instanceof As&&(t=t.insert(e.key,e)),t}))},dc.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;Ur(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,i=Eo();return this.indexManager.getCollectionParents(e,r).next((function(o){return Oo.forEach(o,(function(o){var a=t.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(e,a).next((function(e){e.forEach((function(e,t){i=i.insert(e,t)}))}))})).next((function(){return i}))}))},dc.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next((function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return r=t,i.addMissingBaseDocuments(e,r,n).next((function(e){n=e;for(var t=0,i=r;t<i.length;t++)for(var o=i[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=n.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);n=f instanceof As?n.insert(c,f):n.remove(c)}}))})).next((function(){return n.forEach((function(e,r){t.matches(r)||(n=n.remove(e))})),n}))},dc.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=Co(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ca&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof As&&(c=c.insert(e,t))})),c}))},dc);function dc(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}var mc=(yc.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},yc.prototype.addReference=function(e,t){var n=new vc(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},yc.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},yc.prototype.removeReference=function(e,t){this.removeRef(new vc(e,t))},yc.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},yc.prototype.removeReferencesForId=function(e){var t=this,n=Vi.EMPTY,r=new vc(n,e),i=new vc(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(e){t.removeRef(e),o.push(e.key)})),o},yc.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},yc.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},yc.prototype.referencesForId=function(e){var t=Vi.EMPTY,n=new vc(t,e),r=new vc(t,e+1),i=Co();return this.refsByTarget.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},yc.prototype.containsKey=function(e){var t=new vc(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},yc);function yc(){this.refsByKey=new ho(vc.compareByKey),this.refsByTarget=new ho(vc.compareByTargetId)}var vc=(gc.compareByKey=function(e,t){return Vi.comparator(e.key,t.key)||vi(e.targetOrBatchId,t.targetOrBatchId)},gc.compareByTargetId=function(e,t){return vi(e.targetOrBatchId,t.targetOrBatchId)||Vi.comparator(e.key,t.key)},gc);function gc(e,t){this.key=e,this.targetOrBatchId=t}var bc="LocalStore",wc=(Ec.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",(function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next((function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new pc(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)})).next((function(e){for(var i=[],o=[],a=Co(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=e;p<d.length;p++){c=d[p],o.push(c.batchId);for(var m=0,y=c.mutations;m<y.length;m++)h=y[m],a=a.add(h.key)}return t.localDocuments.getDocuments(n,a).next((function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}}))}))}))},Ec.prototype.localWrite=function(e){var t=this,n=eo.now(),r=e.reduce((function(e,t){return e.add(t.key)}),Co());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(i){return t.localDocuments.getDocuments(i,r).next((function(r){for(var o=[],a=0,s=e;a<s.length;a++){var u=s[a],c=u.extractBaseValue(r.get(u.key));null!=c&&o.push(new Ca(u.key,c,c.fieldMask(),va.exists(!0)))}return t.mutationQueue.addMutationBatch(i,n,o,e).next((function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}}))}))}))},Ec.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):Oo.resolve(null)}))}))},Ec.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,i)})).next((function(){return i.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},Ec.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return Ur(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},Ec.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},Ec.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},Ec.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},Ec.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)}))},Ec.prototype.applyRemoteEvent=function(e){var t=this,n=this.remoteDocuments.newChangeBuffer(),r=e.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(i){var o=[];Yr(e.targetChanges,(function(e,n){var a=t.queryDataByTarget[e];if(a){o.push(t.queryCache.removeMatchingKeys(i,n.removedDocuments,e).next((function(){return t.queryCache.addMatchingKeys(i,n.addedDocuments,e)})));var s=n.resumeToken;if(0<s.length){var u=a.withResumeToken(s,r);t.queryDataByTarget[e]=u,Ec.shouldPersistQueryData(a,u,n)&&o.push(t.queryCache.updateQueryData(i,u))}}}));var a=go(),s=Co();if(e.documentUpdates.forEach((function(e,t){s=s.add(e)})),o.push(n.getEntries(i,s).next((function(r){e.documentUpdates.forEach((function(s,u){var c=r.get(s);u instanceof Rs&&u.version.isEqual(no.MIN)?(n.removeEntry(s),a=a.insert(s,u)):null==c||0<u.version.compareTo(c.version)||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(no.MIN.isEqual(e.snapshotVersion)&&Mr(bc,"Cannot add a document when the remote version is zero"),n.addEntry(u),a=a.insert(s,u)):Pr(bc,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",u.version),e.resolvedLimboDocuments.has(s)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(i,s))}))}))),!r.isEqual(no.MIN)){var u=t.queryCache.getLastRemoteSnapshotVersion(i).next((function(e){return Ur(0<=r.compareTo(e),"Watch stream reverted to previous snapshot?? "+r+" < "+e),t.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,r)}));o.push(u)}return Oo.waitFor(o).next((function(){return n.apply(i)})).next((function(){return t.localDocuments.getLocalViewOfDocuments(i,a)}))}))},Ec.shouldPersistQueryData=function(e,t,n){return Ur(0<t.resumeToken.length,"Attempted to persist query data with no resume token"),0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size},Ec.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Oo.forEach(e,(function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),Oo.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},Ec.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},Ec.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.localDocuments.getDocument(n,e)}))},Ec.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",(function(n){var r;return t.queryCache.getQueryData(n,e).next((function(i){return i?(r=i,Oo.resolve()):t.queryCache.allocateTargetId(n).next((function(i){return r=new qu(e,i,Ru.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)}))})).next((function(){return Ur(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r}))}))},Ec.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,(function(r){return n.queryCache.getQueryData(r,e).next((function(i){Ur(null!=i,"Tried to release nonexistent query: "+e);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],t?Oo.resolve():Oo.forEach(s,(function(e){return n.persistence.referenceDelegate.removeReference(r,e)})).next((function(){return n.persistence.referenceDelegate.removeTarget(r,a)}))}))}))},Ec.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",(function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)}))},Ec.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)}))},Ec.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},Ec.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},Ec.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},Ec.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=Oo.resolve();return o.forEach((function(r){a=a.next((function(){return n.getEntry(e,r)})).next((function(e){var o=e,a=t.docVersions.get(r);Ur(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o):Ur(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(e,i)}))},Ec.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.queryDataByTarget)}))},Ec.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",(function(n){return t.queryCache.getQueryDataForTarget(n,e).next((function(e){return e?e.query:null}))}))},Ec.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(t){return e.remoteDocuments.getNewDocumentChanges(t)}))},Ec.RESUME_TOKEN_MAX_AGE_MICROS=3e8,Ec);function Ec(e,t){this.persistence=e,this.localViewReferences=new mc,this.queryDataByTarget={},Ur(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new pc(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}var Tc=(Sc.prototype.checkEmpty=function(e){return Oo.resolve(0===this.mutationQueue.length)},Sc.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");Ur(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return Ur(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Oo.resolve()},Sc.prototype.getLastStreamToken=function(e){return Oo.resolve(this.lastStreamToken)},Sc.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,Oo.resolve()},Sc.prototype.addMutationBatch=function(e,t,n,r){Ur(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&Ur(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new No(i,t,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new vc(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return Oo.resolve(o)},Sc.prototype.lookupMutationBatch=function(e,t){return Oo.resolve(this.findMutationBatch(t))},Sc.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return Ur(null!=n,"Failed to find local mutation batch."),Oo.resolve(n.keys())},Sc.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return Oo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},Sc.prototype.getHighestUnacknowledgedBatchId=function(){return Oo.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},Sc.prototype.getAllMutationBatches=function(e){return Oo.resolve(this.mutationQueue.slice())},Sc.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new vc(t,0),i=new vc(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(e){Ur(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);Ur(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),Oo.resolve(o)},Sc.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ho(vi);return t.forEach((function(e){var t=new vc(e,0),i=new vc(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],(function(t){Ur(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),Oo.resolve(this.findMutationBatches(r))},Sc.prototype.getAllMutationBatchesAffectingQuery=function(e,t){Ur(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;Vi.isDocumentKey(i)||(i=i.child(""));var o=new vc(new Vi(i),0),a=new ho(vi);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)}),o),Oo.resolve(this.findMutationBatches(a))},Sc.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},Sc.prototype.removeMutationBatch=function(e,t){var n=this;Ur(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Oo.forEach(t.mutations,(function(i){var o=new vc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)})).next((function(){n.batchesByDocumentKey=r}))},Sc.prototype.removeCachedMutationKeys=function(e){},Sc.prototype.containsKey=function(e,t){var n=new vc(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Oo.resolve(t.isEqual(r&&r.key))},Sc.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&Ur(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Oo.resolve()},Sc.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return Ur(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},Sc.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},Sc.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return Ur(n.batchId===e,"If found batch must match"),n},Sc);function Sc(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=Vr(),this.batchesByDocumentKey=new ho(vc.compareByKey)}var _c=(Cc.prototype.getTargetCount=function(e){return Oo.resolve(this.targetCount)},Cc.prototype.forEachTarget=function(e,t){return this.queries.forEach((function(e,n){return t(n)})),Oo.resolve()},Cc.prototype.getLastRemoteSnapshotVersion=function(e){return Oo.resolve(this.lastRemoteSnapshotVersion)},Cc.prototype.getHighestSequenceNumber=function(e){return Oo.resolve(this.highestSequenceNumber)},Cc.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,Oo.resolve(t)},Cc.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),Oo.resolve()},Cc.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},Cc.prototype.addQueryData=function(e,t){return Ur(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,Oo.resolve()},Cc.prototype.updateQueryData=function(e,t){return Ur(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),Oo.resolve()},Cc.prototype.removeQueryData=function(e,t){return Ur(0<this.targetCount,"Removing a target from an empty cache"),Ur(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,Oo.resolve()},Cc.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach((function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Oo.waitFor(o).next((function(){return i}))},Cc.prototype.getQueryCount=function(e){return Oo.resolve(this.targetCount)},Cc.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return Oo.resolve(n)},Cc.prototype.getQueryDataForTarget=function(e,t){return Fr("Not yet implemented.")},Cc.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.addReference(e,t))})),Oo.waitFor(i)},Cc.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.removeReference(e,t))})),Oo.waitFor(i)},Cc.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),Oo.resolve()},Cc.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return Oo.resolve(n)},Cc.prototype.containsKey=function(e,t){return Oo.resolve(this.references.containsKey(t))},Cc);function Cc(e){this.persistence=e,this.queries=new Us((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=no.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new mc,this.targetCount=0,this.targetIdGenerator=Wo.forQueryCache()}var Ic,kc=(Nc.prototype.addEntry=function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.sizer(t);return this.docs=this.docs.insert(n,{maybeDocument:t,size:o}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())},Nc.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},Nc.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Oo.resolve(n?n.maybeDocument:null)},Nc.prototype.getEntries=function(e,t){var n=this,r=bo();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),Oo.resolve(r)},Nc.prototype.getDocumentsMatchingQuery=function(e,t){Ur(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Eo(),r=new Vi(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!t.path.isPrefixOf(a.path))break;s instanceof As&&t.matches(s)&&(n=n.insert(s.key,s))}return Oo.resolve(n)},Nc.prototype.forEachDocumentKey=function(e,t){return Oo.forEach(this.docs,(function(e){return t(e)}))},Nc.prototype.getNewDocumentChanges=function(e){var t=this,n=go();return this.newDocumentChanges.forEach((function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new Rs(e,no.forDeletedDoc());n=n.insert(e,i)})),this.newDocumentChanges=Co(),Oo.resolve(n)},Nc.prototype.newChangeBuffer=function(){return new Nc.RemoteDocumentChangeBuffer(this)},Nc.prototype.getSize=function(e){return Oo.resolve(this.size)},Nc.RemoteDocumentChangeBuffer=(c(Dc,Ic=Bs),Dc.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i?n.push(t.documentCache.addEntry(e,i)):t.documentCache.removeEntry(r)})),Oo.waitFor(n)},Dc.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},Dc.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},Dc),Nc);function Nc(e,t){this.indexManager=e,this.sizer=t,this.docs=new io(Vi.comparator),this.newDocumentChanges=Co(),this.size=0}function Dc(e){var t=Ic.call(this)||this;return t.documentCache=e,t}var Ac=(xc.createLruPersistence=function(e,t,n){return new xc(e,(function(e){return new Mc(e,new Vu(t),n)}))},xc.createEagerPersistence=function(e){return new xc(e,(function(e){return new Rc(e)}))},xc.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(xc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),xc.prototype.getActiveClients=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,[this.clientId]]}))}))},xc.prototype.setPrimaryStateListener=function(e){return e(!0)},xc.prototype.setDatabaseDeletedListener=function(){},xc.prototype.setNetworkEnabled=function(e){},xc.prototype.getIndexManager=function(){return this.indexManager},xc.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Tc(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},xc.prototype.getQueryCache=function(){return this.queryCache},xc.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},xc.prototype.runTransaction=function(e,t,n){var r=this;Pr("MemoryPersistence","Starting transaction:",e);var i=new Oc(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(e){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return e}))})).toPromise()},xc.prototype.mutationQueuesContainKey=function(e,t){return Oo.or(function(e){var t=[];return $r(e,(function(e,n){return t.push(n)})),t}(this.mutationQueues).map((function(n){return function(){return n.containsKey(e,t)}})))},xc);function xc(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new Di(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new _c(this),this.indexManager=new Js,this.remoteDocumentCache=new kc(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}var Oc=function(e){this.currentSequenceNumber=e},Rc=(Object.defineProperty(Pc.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw Fr("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),Pc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Pc.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),Oo.resolve()},Pc.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),Oo.resolve()},Pc.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),Oo.resolve()},Pc.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeQueryData(e,t)}))},Pc.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},Pc.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oo.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},Pc.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},Pc.prototype.documentSize=function(e){return 0},Pc.prototype.isReferenced=function(e,t){var n=this;return Oo.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return Oo.resolve(n.inMemoryPins.containsKey(t))}])},Pc);function Pc(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}var Mc=(Lc.prototype.onTransactionStarted=function(){},Lc.prototype.onTransactionCommitted=function(e){return Oo.resolve()},Lc.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},Lc.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},Lc.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},Lc.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return Oo.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(e,r,i).next((function(e){return e?Oo.resolve():t(i)}))}))},Lc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Lc.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},Lc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(e,(function(i){return n.isPinned(e,i,t).next((function(e){e||(r++,o.removeEntry(i))}))})).next((function(){return o.apply(e)})).next((function(){return r}))},Lc.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Oo.resolve()},Lc.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(e,n)},Lc.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Oo.resolve()},Lc.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Oo.resolve()},Lc.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Oo.resolve()},Lc.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Fr("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},Lc.prototype.isPinned=function(e,t,n){var r=this;return Oo.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return Oo.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return Oo.resolve(void 0!==e&&n<e)}])},Lc.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},Lc);function Lc(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Us((function(e){return $i(e.path)})),this.garbageCollector=new Xu(this,n)}var Fc=Number,Uc=Fc.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),qc=Fc.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Bc=Fc.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Vc(e){return null==e}function jc(e){return Bc(e)&&e<=qc&&Uc<=e}var zc=(Wc.prototype.reset=function(){this.currentBaseMs=0},Wc.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},Wc.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);0<this.currentBaseMs&&Pr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},Wc.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},Wc.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},Wc);function Wc(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}var Qc,Kc,Gc="PersistentStream";(Kc=Qc=Qc||{})[Kc.Initial=0]="Initial",Kc[Kc.Starting=1]="Starting",Kc[Kc.Open=2]="Open",Kc[Kc.Error=3]="Error",Kc[Kc.Backoff=4]="Backoff";var Hc=(Yc.prototype.isStarted=function(){return this.state===Qc.Starting||this.state===Qc.Open||this.state===Qc.Backoff},Yc.prototype.isOpen=function(){return this.state===Qc.Open},Yc.prototype.start=function(){this.state!==Qc.Error?(Ur(this.state===Qc.Initial,"Already started"),this.auth()):this.performBackoff()},Yc.prototype.stop=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(Qc.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},Yc.prototype.inhibitBackoff=function(){Ur(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Qc.Initial,this.backoff.reset()},Yc.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},Yc.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},Yc.prototype.handleIdleCloseTimer=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return this.isOpen()?[2,this.close(Qc.Initial)]:[2]}))}))},Yc.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},Yc.prototype.close=function(e,t){return l(this,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return Ur(this.isStarted(),"Only started streams should be closed."),Ur(e===Qc.Error||Vc(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==Qc.Error?this.backoff.reset():t&&t.code===zr.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===zr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},Yc.prototype.tearDown=function(){},Yc.prototype.auth=function(){var e=this;Ur(this.state===Qc.Initial,"Must be in initial state to auth"),this.state=Qc.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new Wr(zr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},Yc.prototype.startStream=function(e){var t=this;Ur(this.state===Qc.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return Ur(t.state===Qc.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=Qc.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},Yc.prototype.performBackoff=function(){var e=this;Ur(this.state===Qc.Error,"Should only perform backoff when in Error state"),this.state=Qc.Backoff,this.backoff.backoffAndRun((function(){return l(e,void 0,void 0,(function(){return f(this,(function(e){return Ur(this.state===Qc.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Qc.Initial,this.start(),Ur(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},Yc.prototype.handleStreamClose=function(e){return Ur(this.isStarted(),"Can't handle server close on non-started stream"),Pr(Gc,"close with error: "+e),this.stream=null,this.close(Qc.Error,e)},Yc.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(Pr(Gc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},Yc);function Yc(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Qc.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new zc(e,t)}var $c,Xc=(c(Jc,$c=Hc),Jc.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},Jc.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},Jc.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},Jc.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},Jc);function Jc(e,t,n,r,i){var o=$c.call(this,e,zi.ListenStreamConnectionBackoff,zi.ListenStreamIdle,t,n,i)||this;return o.serializer=r,o}var Zc,el=(c(tl,Zc=Hc),Object.defineProperty(tl.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),tl.prototype.start=function(){this.handshakeComplete_=!1,Zc.prototype.start.call(this)},tl.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},tl.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},tl.prototype.onMessage=function(e){if(Ur(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return Ur(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},tl.prototype.writeHandshake=function(){Ur(this.isOpen(),"Writing handshake requires an opened stream"),Ur(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},tl.prototype.writeMutations=function(e){var t=this;Ur(this.isOpen(),"Writing mutations requires an opened stream"),Ur(this.handshakeComplete_,"Handshake must be complete before writing mutations"),Ur(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},tl);function tl(e,t,n,r,i){var o=Zc.call(this,e,zi.WriteStreamConnectionBackoff,zi.WriteStreamIdle,t,n,i)||this;return o.serializer=r,o.handshakeComplete_=!1,o.lastStreamToken=Vr(),o}var nl=(rl.prototype.newPersistentWriteStream=function(e){return new el(this.queue,this.connection,this.credentials,this.serializer,e)},rl.prototype.newPersistentWatchStream=function(e){return new Xc(this.queue,this.connection,this.credentials,this.serializer,e)},rl.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},rl.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=go();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var i=[];return e.forEach((function(e){var t=r.get(e);Ur(!!t,"Missing entity in write response for "+e),i.push(t)})),i}))},rl.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===zr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},rl.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===zr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},rl);function rl(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}var il,ol,al,sl,ul=(cl.prototype.lookup=function(e){return l(this,void 0,void 0,(function(){var t,n=this;return f(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Wr(zr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof Rs||e instanceof As?n.recordVersion(e):Fr("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},cl.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},cl.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e)},cl.prototype.delete=function(e){this.write([new Ma(e,this.precondition(e))]),this.writtenDocs.add(e)},cl.prototype.commit=function(){return l(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),!e.isEmpty())throw new Wr(zr.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}}))}))},cl.prototype.recordVersion=function(e){var t;if(e instanceof As)t=e.version;else{if(!(e instanceof Rs))throw Fr("Document in a transaction was a "+e.constructor.name);t=no.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new Wr(zr.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},cl.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?va.updateTime(t):va.NONE},cl.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(this.writtenDocs.has(e)||!t)return va.exists(!0);if(t.isEqual(no.forDeletedDoc()))throw new Wr(zr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return va.updateTime(t)},cl.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},cl.prototype.ensureCommitNotCalled=function(){Ur(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},cl);function cl(e){this.datastore=e,this.readVersions=So(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}(ol=il=il||{})[ol.Unknown=0]="Unknown",ol[ol.Online=1]="Online",ol[ol.Offline=2]="Offline",(sl=al=al||{})[sl.RemoteStore=0]="RemoteStore",sl[sl.SharedClientState=1]="SharedClientState";var ll,fl,hl=(pl.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(il.Unknown),Ur(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(zi.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,Ur(e.state===il.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(il.Offline),Promise.resolve()})))},pl.prototype.handleWatchStreamFailure=function(e){this.state===il.Online?(this.setAndBroadcast(il.Unknown),Ur(0===this.watchStreamFailures,"watchStreamFailures must be 0"),Ur(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(il.Offline)))},pl.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===il.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},pl.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},pl.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(Mr(t),this.shouldWarnClientIsOffline=!1):Pr("OnlineStateTracker",t)},pl.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},pl);function pl(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=il.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}function dl(e){switch(e){case zr.OK:return Fr("Treated status OK as error");case zr.CANCELLED:case zr.UNKNOWN:case zr.DEADLINE_EXCEEDED:case zr.RESOURCE_EXHAUSTED:case zr.INTERNAL:case zr.UNAVAILABLE:case zr.UNAUTHENTICATED:return!1;case zr.INVALID_ARGUMENT:case zr.NOT_FOUND:case zr.ALREADY_EXISTS:case zr.PERMISSION_DENIED:case zr.FAILED_PRECONDITION:case zr.ABORTED:case zr.OUT_OF_RANGE:case zr.UNIMPLEMENTED:case zr.DATA_LOSS:return!0;default:return Fr("Unknown status code: "+e)}}function ml(e){if(void 0===e)return Mr("GRPC error has no .code"),zr.UNKNOWN;switch(e){case ll.OK:return zr.OK;case ll.CANCELLED:return zr.CANCELLED;case ll.UNKNOWN:return zr.UNKNOWN;case ll.DEADLINE_EXCEEDED:return zr.DEADLINE_EXCEEDED;case ll.RESOURCE_EXHAUSTED:return zr.RESOURCE_EXHAUSTED;case ll.INTERNAL:return zr.INTERNAL;case ll.UNAVAILABLE:return zr.UNAVAILABLE;case ll.UNAUTHENTICATED:return zr.UNAUTHENTICATED;case ll.INVALID_ARGUMENT:return zr.INVALID_ARGUMENT;case ll.NOT_FOUND:return zr.NOT_FOUND;case ll.ALREADY_EXISTS:return zr.ALREADY_EXISTS;case ll.PERMISSION_DENIED:return zr.PERMISSION_DENIED;case ll.FAILED_PRECONDITION:return zr.FAILED_PRECONDITION;case ll.ABORTED:return zr.ABORTED;case ll.OUT_OF_RANGE:return zr.OUT_OF_RANGE;case ll.UNIMPLEMENTED:return zr.UNIMPLEMENTED;case ll.DATA_LOSS:return zr.DATA_LOSS;default:return Fr("Unknown status code: "+e)}}(fl=ll=ll||{})[fl.OK=0]="OK",fl[fl.CANCELLED=1]="CANCELLED",fl[fl.UNKNOWN=2]="UNKNOWN",fl[fl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fl[fl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fl[fl.NOT_FOUND=5]="NOT_FOUND",fl[fl.ALREADY_EXISTS=6]="ALREADY_EXISTS",fl[fl.PERMISSION_DENIED=7]="PERMISSION_DENIED",fl[fl.UNAUTHENTICATED=16]="UNAUTHENTICATED",fl[fl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fl[fl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fl[fl.ABORTED=10]="ABORTED",fl[fl.OUT_OF_RANGE=11]="OUT_OF_RANGE",fl[fl.UNIMPLEMENTED=12]="UNIMPLEMENTED",fl[fl.INTERNAL=13]="INTERNAL",fl[fl.UNAVAILABLE=14]="UNAVAILABLE",fl[fl.DATA_LOSS=15]="DATA_LOSS";var yl,vl,gl,bl,wl=(El.emptySet=function(e){return new El(e.comparator)},El.prototype.has=function(e){return null!=this.keyedMap.get(e)},El.prototype.get=function(e){return this.keyedMap.get(e)},El.prototype.first=function(){return this.sortedSet.minKey()},El.prototype.last=function(){return this.sortedSet.maxKey()},El.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},El.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(El.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),El.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},El.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},El.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},El.prototype.isEqual=function(e){if(!(e instanceof El))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},El.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},El.prototype.copy=function(e,t){var n=new El;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},El);function El(e){this.comparator=e?function(t,n){return e(t,n)||Vi.comparator(t.key,n.key)}:function(e,t){return Vi.comparator(e.key,t.key)},this.keyedMap=Eo(),this.sortedSet=new io(this.comparator)}(vl=yl=yl||{})[vl.Added=0]="Added",vl[vl.Removed=1]="Removed",vl[vl.Modified=2]="Modified",vl[vl.Metadata=3]="Metadata",(bl=gl=gl||{})[bl.Local=0]="Local",bl[bl.Synced=1]="Synced";var Tl=(Sl.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==yl.Added&&n.type===yl.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===yl.Metadata&&n.type!==yl.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===yl.Modified&&n.type===yl.Modified?this.changeMap=this.changeMap.insert(t,{type:yl.Modified,doc:e.doc}):e.type===yl.Modified&&n.type===yl.Added?this.changeMap=this.changeMap.insert(t,{type:yl.Added,doc:e.doc}):e.type===yl.Removed&&n.type===yl.Added?this.changeMap=this.changeMap.remove(t):e.type===yl.Removed&&n.type===yl.Modified?this.changeMap=this.changeMap.insert(t,{type:yl.Removed,doc:n.doc}):e.type===yl.Added&&n.type===yl.Removed?this.changeMap=this.changeMap.insert(t,{type:yl.Modified,doc:e.doc}):Fr("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},Sl.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},Sl);function Sl(){this.changeMap=new io(Vi.comparator)}var _l=(Cl.fromInitialDocuments=function(e,t,n,r){var i=[];return t.forEach((function(e){i.push({type:yl.Added,doc:e})})),new Cl(e,t,wl.emptySet(t),i,n,r,!0,!1)},Object.defineProperty(Cl.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),Cl.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},Cl);function Cl(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}var Il=(kl.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n,r=((n={})[e]=Nl.createSynthesizedTargetChangeForCurrentChange(e,t),n);return new kl(no.MIN,r,ko(),go(),Co())},kl);function kl(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}var Nl=(Dl.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new Dl(Vr(),t,Co(),Co(),Co())},Dl);function Dl(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}var Al,xl,Ol=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},Rl=function(e,t){this.targetId=e,this.existenceFilter=t};(xl=Al=Al||{})[xl.NoChange=0]="NoChange",xl[xl.Added=1]="Added",xl[xl.Removed=2]="Removed",xl[xl.Current=3]="Current",xl[xl.Reset=4]="Reset";var Pl=function(e,t,n,r){void 0===n&&(n=Vr()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ml=(Object.defineProperty(Ll.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(Ll.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(Ll.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(Ll.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),Ll.prototype.updateResumeToken=function(e){0<e.length&&(this._hasPendingChanges=!0,this._resumeToken=e)},Ll.prototype.toTargetChange=function(){var e=Co(),t=Co(),n=Co();return this.documentChanges.forEach((function(r,i){switch(i){case yl.Added:e=e.add(r);break;case yl.Modified:t=t.add(r);break;case yl.Removed:n=n.add(r);break;default:Fr("Encountered invalid change type: "+i)}})),new Nl(this._resumeToken,this._current,e,t,n)},Ll.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Bl()},Ll.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},Ll.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},Ll.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},Ll.prototype.recordTargetResponse=function(){this.pendingResponses-=1},Ll.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},Ll);function Ll(){this.pendingResponses=0,this.documentChanges=Bl(),this._resumeToken=Vr(),this._current=!1,this._hasPendingChanges=!0}var Fl=(Ul.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof As?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof Rs&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.removeDocumentFromTarget(r,e.key,e.newDoc)},Ul.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case Al.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Al.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Al.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),Ur(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Al.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Al.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:Fr("Unknown target watch change state: "+e.state)}}))},Ul.prototype.forEachTarget=function(e,t){0<e.targetIds.length?e.targetIds.forEach(t):Yr(this.targetStates,t)},Ul.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new Vi(i.path);this.removeDocumentFromTarget(t,o,new Rs(o,no.forDeletedDoc()))}else Ur(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},Ul.prototype.createRemoteEvent=function(e){var t=this,n={};Yr(this.targetStates,(function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new Vi(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new Rs(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=Co();this.pendingDocumentTargetMapping.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Ru.LimboResolution||(i=!1)})),i&&(r=r.add(e))}));var i=new Il(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=go(),this.pendingDocumentTargetMapping=ql(),this.pendingTargetResets=new ho(vi),i},Ul.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?yl.Modified:yl.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},Ul.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,yl.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},Ul.prototype.removeTarget=function(e){delete this.targetStates[e]},Ul.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},Ul.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},Ul.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Ml),this.targetStates[e]},Ul.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new ho(vi),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},Ul.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||Pr("WatchChangeAggregator","Detected inactive target",e),t},Ul.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},Ul.prototype.resetTarget=function(e){var t=this;Ur(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Ml,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},Ul.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},Ul);function Ul(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=go(),this.pendingDocumentTargetMapping=ql(),this.pendingTargetResets=new ho(vi)}function ql(){return new io(Vi.comparator)}function Bl(){return new io(Vi.comparator)}var Vl="RemoteStore",jl=(zl.prototype.start=function(){return this.enableNetwork()},zl.prototype.enableNetwork=function(){return l(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(il.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},zl.prototype.disableNetwork=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(il.Offline),[2]}}))}))},zl.prototype.disableNetworkInternal=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),0<this.writePipeline.length&&(Pr(Vl,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},zl.prototype.shutdown=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return Pr(Vl,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(il.Unknown),[2]}}))}))},zl.prototype.listen=function(e){Ur(!Gr(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},zl.prototype.unlisten=function(e){Ur(Gr(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),Xr(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(il.Unknown))},zl.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},zl.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},zl.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},zl.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},zl.prototype.startWatchStream=function(){Ur(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Fl(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},zl.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!Xr(this.listenTargets)},zl.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},zl.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},zl.prototype.onWatchStreamOpen=function(){return l(this,void 0,void 0,(function(){var e=this;return f(this,(function(t){return Yr(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},zl.prototype.onWatchStreamClose=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){return void 0===e&&Ur(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(il.Unknown),[2]}))}))},zl.prototype.onWatchStreamChange=function(e,t){return l(this,void 0,void 0,(function(){var n;return f(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(il.Online),e instanceof Pl&&e.state===Al.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Ol?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Rl?this.watchChangeAggregator.handleExistenceFilter(e):(Ur(e instanceof Pl,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(no.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),0<=t.compareTo(n)?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},zl.prototype.raiseWatchSnapshot=function(e){var t=this;Ur(!e.isEqual(no.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return Yr(n.targetChanges,(function(n,r){if(0<r.resumeToken.length){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(Vr(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new qu(n.query,e,Ru.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},zl.prototype.handleTargetError=function(e){var t=this;Ur(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return l(t,void 0,void 0,(function(){return f(this,(function(t){return Gr(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},zl.prototype.fillWritePipeline=function(){return l(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},zl.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},zl.prototype.outstandingWrites=function(){return this.writePipeline.length},zl.prototype.addToWritePipeline=function(e){Ur(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},zl.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},zl.prototype.startWriteStream=function(){Ur(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},zl.prototype.onWriteStreamOpen=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},zl.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}})).catch(sc)},zl.prototype.onMutationResult=function(e,t){var n=this;Ur(0<this.writePipeline.length,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Ao.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},zl.prototype.onWriteStreamClose=function(e){return l(this,void 0,void 0,(function(){var t=this;return f(this,(function(n){return void 0===e&&Ur(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]:[2]}))}))},zl.prototype.handleHandshakeError=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){return dl(e.code)?(Pr(Vl,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=Vr(),[2,this.localStore.setLastStreamToken(Vr()).catch(sc)]):[2]}))}))},zl.prototype.handleWriteError=function(e){return l(this,void 0,void 0,(function(){var t,n=this;return f(this,(function(r){return function(e){return dl(e)&&e!==zr.ABORTED}(e.code)?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2]}))}))},zl.prototype.createTransaction=function(){return new ul(this.datastore)},zl.prototype.restartNetwork=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(il.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},zl.prototype.handleCredentialChange=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(Pr(Vl,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},zl.prototype.applyPrimaryState=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return(this.isPrimary=e)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(il.Unknown),t.label=4;case 4:return[2]}}))}))},zl);function zl(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return l(o,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(Pr(Vl,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new hl(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}var Wl=(Object.defineProperty(Ql.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(Ql.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),Ql.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},Ql.prototype._compareTo=function(e){return vi(this._lat,e._lat)||vi(this._long,e._long)},Ql);function Ql(e,t){if(Zr("GeoPoint",arguments,2),ni("GeoPoint","number",1,e),ni("GeoPoint","number",2,t),!isFinite(e)||e<-90||90<e)throw new Wr(zr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new Wr(zr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}var Kl=(Gl.atPath=function(e){return new Gl(e)},Object.defineProperty(Gl.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[Ef]:this.memoizedOrderBy=[new bf(e),Ef];else{Ur(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:mf.ASCENDING;this.memoizedOrderBy.push(a===mf.ASCENDING?Ef:Tf)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),Gl.prototype.addFilter=function(e){Ur(null==this.getInequalityFilterField()||!(e instanceof Xl)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),Ur(!this.isDocumentQuery(),"No filtering allowed for document query");var t=this.filters.concat([e]);return new Gl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),t,this.limit,this.startAt,this.endAt)},Gl.prototype.addOrderBy=function(e){Ur(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var t=this.explicitOrderBy.concat([e]);return new Gl(this.path,this.collectionGroup,t,this.filters.slice(),this.limit,this.startAt,this.endAt)},Gl.prototype.withLimit=function(e){return new Gl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},Gl.prototype.withStartAt=function(e){return new Gl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},Gl.prototype.withEndAt=function(e){return new Gl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},Gl.prototype.asCollectionQueryAtPath=function(e){return new Gl(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},Gl.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)e+=i[r].canonicalId(),e+=",";Vc(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},Gl.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(e+=", filters: ["+this.filters.join(", ")+"]"),Vc(this.limit)||(e+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},Gl.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},Gl.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return Ur(n,"orderBy used that doesn't compare on key field"),0},Gl.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},Gl.prototype.hasLimit=function(){return!Vc(this.limit)},Gl.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},Gl.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Xl&&n.isInequality())return n.field}return null},Gl.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof Xl&&0<=e.indexOf(r.op))return r.op}return null},Gl.prototype.isDocumentQuery=function(){return Vi.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},Gl.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},Gl.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):Vi.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},Gl.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},Gl.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},Gl.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},Gl.prototype.assertValidBound=function(e){Ur(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},Gl);function Gl(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}var Hl=(Yl.fromString=function(e){switch(e){case"<":return Yl.LESS_THAN;case"<=":return Yl.LESS_THAN_OR_EQUAL;case"==":return Yl.EQUAL;case">=":return Yl.GREATER_THAN_OR_EQUAL;case">":return Yl.GREATER_THAN;case"array-contains":return Yl.ARRAY_CONTAINS;case"in":return Yl.IN;case"array-contains-any":return Yl.ARRAY_CONTAINS_ANY;default:return Fr("Unknown FieldFilter operator: "+e)}},Yl.prototype.toString=function(){return this.name},Yl.prototype.isEqual=function(e){return this.name===e.name},Yl.LESS_THAN=new Yl("<"),Yl.LESS_THAN_OR_EQUAL=new Yl("<="),Yl.EQUAL=new Yl("=="),Yl.GREATER_THAN=new Yl(">"),Yl.GREATER_THAN_OR_EQUAL=new Yl(">="),Yl.ARRAY_CONTAINS=new Yl("array-contains"),Yl.IN=new Yl("in"),Yl.ARRAY_CONTAINS_ANY=new Yl("array-contains-any"),Yl);function Yl(e){this.name=e}var $l,Xl=(c(Jl,$l=function(){}),Jl.create=function(e,t,n){if(e.isKeyField())return t===Hl.IN?(Ur(n instanceof Cs,"Comparing on key with IN, but filter value not an ArrayValue"),Ur(n.internalValue.every((function(e){return e instanceof ys})),"Comparing on key with IN, but an array value was not a RefValue"),new rf(e,n)):(Ur(n instanceof ys,"Comparing on key, but filter value not a RefValue"),Ur(t!==Hl.ARRAY_CONTAINS&&t!==Hl.ARRAY_CONTAINS_ANY,"'"+t.toString()+"' queries don't make sense on document keys."),new ef(e,t,n));if(n.isEqual(ja.INSTANCE)){if(t!==Hl.EQUAL)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new Jl(e,t,n)}if(n.isEqual(ts.NAN)){if(t!==Hl.EQUAL)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new Jl(e,t,n)}return t===Hl.ARRAY_CONTAINS?new sf(e,n):t===Hl.IN?(Ur(n instanceof Cs,"IN filter has invalid value: "+n.toString()),new lf(e,n)):t===Hl.ARRAY_CONTAINS_ANY?(Ur(n instanceof Cs,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new pf(e,n)):new Jl(e,t,n)},Jl.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},Jl.prototype.matchesComparison=function(e){switch(this.op){case Hl.LESS_THAN:return e<0;case Hl.LESS_THAN_OR_EQUAL:return e<=0;case Hl.EQUAL:return 0===e;case Hl.GREATER_THAN:return 0<e;case Hl.GREATER_THAN_OR_EQUAL:return 0<=e;default:return Fr("Unknown FieldFilter operator: "+this.op)}},Jl.prototype.isInequality=function(){return 0<=[Hl.LESS_THAN,Hl.LESS_THAN_OR_EQUAL,Hl.GREATER_THAN,Hl.GREATER_THAN_OR_EQUAL].indexOf(this.op)},Jl.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},Jl.prototype.isEqual=function(e){return e instanceof Jl&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},Jl.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},Jl);function Jl(e,t,n){var r=$l.call(this)||this;return r.field=e,r.op=t,r.value=n,r}var Zl,ef=(c(tf,Zl=Xl),tf.prototype.matches=function(e){var t=this.value,n=Vi.comparator(e.key,t.key);return this.matchesComparison(n)},tf);function tf(){return null!==Zl&&Zl.apply(this,arguments)||this}var nf,rf=(c(of,nf=Xl),of.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},of);function of(e,t){var n=nf.call(this,e,Hl.IN,t)||this;return n.value=t,n}var af,sf=(c(uf,af=Xl),uf.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Cs&&t.contains(this.value)},uf);function uf(e,t){return af.call(this,e,Hl.ARRAY_CONTAINS,t)||this}var cf,lf=(c(ff,cf=Xl),ff.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},ff);function ff(e,t){var n=cf.call(this,e,Hl.IN,t)||this;return n.value=t,n}var hf,pf=(c(df,hf=Xl),df.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Cs&&n.internalValue.some((function(e){return t.value.contains(e)}))},df);function df(e,t){var n=hf.call(this,e,Hl.ARRAY_CONTAINS_ANY,t)||this;return n.value=t,n}var mf=(yf.prototype.toString=function(){return this.name},yf.ASCENDING=new yf("asc"),yf.DESCENDING=new yf("desc"),yf);function yf(e){this.name=e}var vf=(gf.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},gf.prototype.sortsBeforeDocument=function(e,t){Ur(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())Ur(o instanceof ys,"Bound has a non-key value where the key path is being used."),n=Vi.comparator(o.key,t.key);else{var a=t.field(i.field);Ur(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===mf.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},gf.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},gf);function gf(e,t){this.position=e,this.before=t}var bf=(wf.prototype.compare=function(e,t){var n=this.isKeyOrderBy?As.compareByKey(e,t):As.compareByField(this.field,e,t);switch(this.dir){case mf.ASCENDING:return n;case mf.DESCENDING:return-1*n;default:return Fr("Unknown direction: "+this.dir)}},wf.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},wf.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},wf.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},wf);function wf(e,t){this.field=e,void 0===t&&(t=mf.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}var Ef=new bf(qi.keyField(),mf.ASCENDING),Tf=new bf(qi.keyField(),mf.DESCENDING),Sf=(_f.prototype.applyToLocalView=function(e,t){return new ls(t,e)},_f.prototype.applyToRemoteDocument=function(e,t){return t},_f.prototype.computeBaseValue=function(e){return null},_f.prototype.isEqual=function(e){return e instanceof _f},_f.instance=new _f,_f);function _f(){}var Cf=(If.prototype.applyToLocalView=function(e,t){return this.apply(e)},If.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},If.prototype.apply=function(e){for(var t=xf(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Cs(t)},If.prototype.computeBaseValue=function(e){return null},If.prototype.isEqual=function(e){return e instanceof If&&gi(e.elements,this.elements)},If);function If(e){this.elements=e}var kf=(Nf.prototype.applyToLocalView=function(e,t){return this.apply(e)},Nf.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},Nf.prototype.apply=function(e){for(var t=xf(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Cs(t)},Nf.prototype.computeBaseValue=function(e){return null},Nf.prototype.isEqual=function(e){return e instanceof Nf&&gi(e.elements,this.elements)},Nf);function Nf(e){this.elements=e}var Df=(Af.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof Ja&&this.operand instanceof Ja){var r=n.internalValue+this.operand.internalValue;return new Ja(r)}return r=n.internalValue+this.operand.internalValue,new ts(r)},Af.prototype.applyToRemoteDocument=function(e,t){return Ur(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},Af.prototype.computeBaseValue=function(e){return e instanceof Ha?e:new Ja(0)},Af.prototype.isEqual=function(e){return e instanceof Af&&this.operand.isEqual(e.operand)},Af);function Af(e){this.operand=e}function xf(e){return e instanceof Cs?e.internalValue.slice():[]}var Of=(Rf.prototype.isEqual=function(e){return e&&e.count===this.count},Rf);function Rf(e){this.count=e}var Pf,Mf,Lf=((Pf={})[mf.ASCENDING.name]="ASCENDING",Pf[mf.DESCENDING.name]="DESCENDING",Pf),Ff=((Mf={})[Hl.LESS_THAN.name]="LESS_THAN",Mf[Hl.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Mf[Hl.GREATER_THAN.name]="GREATER_THAN",Mf[Hl.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Mf[Hl.EQUAL.name]="EQUAL",Mf[Hl.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Mf[Hl.IN.name]="IN",Mf[Hl.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Mf),Uf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qf(e,t){Ur(!Vc(e),t+" is missing")}function Bf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):Fr("can't parse "+e)}var Vf=(jf.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},jf.prototype.unsafeCastProtoByteString=function(e){return e},jf.prototype.fromRpcStatus=function(e){var t=void 0===e.code?zr.UNKNOWN:ml(e.code);return new Wr(t,e.message||"")},jf.prototype.toInt32Value=function(e){return Vc(e)?void 0:{value:e}},jf.prototype.fromInt32Value=function(e){var t;return Vc(t="object"==typeof e?e.value:e)?null:t},jf.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},jf.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);Ur(!!e,"Cannot deserialize null or undefined timestamp.");var t=Bf(e.seconds||"0"),n=e.nanos||0;return new eo(t,n)},jf.prototype.fromIso8601String=function(e){var t=0,n=Uf.exec(e);if(Ur(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new eo(o,t)},jf.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},jf.prototype.fromBlob=function(e){return"string"==typeof e?(Ur(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Ti.fromBase64String(e)):(Ur(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Ti.fromUint8Array(e))},jf.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},jf.prototype.fromVersion=function(e){return Ur(!!e,"Trying to deserialize version that isn't set"),no.fromTimestamp(this.fromTimestamp(e))},jf.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},jf.prototype.fromResourceName=function(e){var t=Mi.fromString(e);return Ur(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},jf.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},jf.prototype.fromName=function(e){var t=this.fromResourceName(e);return Ur(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),Ur(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new Vi(this.extractLocalPathFromResourceName(t))},jf.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},jf.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Mi.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(jf.prototype,"encodedDatabaseId",{get:function(){return new Mi(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),jf.prototype.fullyQualifiedPrefixPath=function(e){return new Mi(["projects",e.projectId,"databases",e.database])},jf.prototype.extractLocalPathFromResourceName=function(e){return Ur(4<e.length&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},jf.prototype.isValidResourceName=function(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)},jf.prototype.toValue=function(e){if(e instanceof ja)return{nullValue:"NULL_VALUE"};if(e instanceof Qa)return{booleanValue:e.value()};if(e instanceof Ja)return{integerValue:""+e.value()};if(e instanceof ts){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof is?{stringValue:e.value()}:e instanceof Ts?{mapValue:this.toMapValue(e)}:e instanceof Cs?{arrayValue:this.toArrayValue(e)}:e instanceof ss?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof bs?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof ps?{bytesValue:this.toBytes(e.value())}:e instanceof ys?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:Fr("Unknown FieldValue "+JSON.stringify(e))},jf.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return ja.INSTANCE;if("booleanValue"in e)return Qa.of(e.booleanValue);if("integerValue"in e)return new Ja(Bf(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return ts.NAN;if("Infinity"===e.doubleValue)return ts.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return ts.NEGATIVE_INFINITY}return new ts(e.doubleValue)}if("stringValue"in e)return new is(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){qf(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Cs(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return qf(e.timestampValue,"timestampValue"),new ss(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){qf(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new bs(new Wl(r,i))}if("bytesValue"in e){qf(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new ps(o)}if("referenceValue"in e){qf(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new ki(a.get(1),a.get(3)),u=new Vi(this.extractLocalPathFromResourceName(a));return new ys(s,u)}return Fr("Unknown Value proto "+JSON.stringify(e))},jf.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},jf.prototype.toDocument=function(e){return Ur(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},jf.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),i=this.fromVersion(e.updateTime);return new As(r,i,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},jf.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},jf.prototype.fromFields=function(e){var t=this,n=e,r=Ts.EMPTY;return $r(n,(function(e,n){r=r.set(new qi([e]),t.fromValue(n))})),r},jf.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},jf.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},jf.prototype.fromFound=function(e){var t=this;Ur(!!e.found,"Tried to deserialize a found document from a missing document."),qf(e.found.name,"doc.found.name"),qf(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new As(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},jf.prototype.fromMissing=function(e){Ur(!!e.missing,"Tried to deserialize a missing document from a found document."),Ur(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Rs(t,n)},jf.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):Fr("invalid batch get response: "+JSON.stringify(e))},jf.prototype.toWatchTargetChangeState=function(e){switch(e){case Al.Added:return"ADD";case Al.Current:return"CURRENT";case Al.NoChange:return"NO_CHANGE";case Al.Removed:return"REMOVE";case Al.Reset:return"RESET";default:return Fr("Unknown WatchTargetChangeState: "+e)}},jf.prototype.toTestWatchChange=function(e){if(e instanceof Rl)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Ol){if(e.newDoc instanceof As){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Rs)return t=e.newDoc,{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Pl){var n=void 0;return e.cause&&(n={code:function(e){if(void 0===e)return ll.OK;switch(e){case zr.OK:return ll.OK;case zr.CANCELLED:return ll.CANCELLED;case zr.UNKNOWN:return ll.UNKNOWN;case zr.DEADLINE_EXCEEDED:return ll.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return ll.RESOURCE_EXHAUSTED;case zr.INTERNAL:return ll.INTERNAL;case zr.UNAVAILABLE:return ll.UNAVAILABLE;case zr.UNAUTHENTICATED:return ll.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return ll.INVALID_ARGUMENT;case zr.NOT_FOUND:return ll.NOT_FOUND;case zr.ALREADY_EXISTS:return ll.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return ll.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return ll.FAILED_PRECONDITION;case zr.ABORTED:return ll.ABORTED;case zr.OUT_OF_RANGE:return ll.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return ll.UNIMPLEMENTED;case zr.DATA_LOSS:return ll.DATA_LOSS;default:return Fr("Unknown status code: "+e)}}(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return Fr("Unrecognized watch change: "+JSON.stringify(e))},jf.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){qf(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Pl(r,i,o,s||null)}else if("documentChange"in e){qf(e.documentChange,"documentChange"),qf(e.documentChange.document,"documentChange.name"),qf(e.documentChange.document.name,"documentChange.document.name"),qf(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),f=new As(c,l,{},void 0,u.document,(function(e){return n.fromValue(e)})),h=u.targetIds||[],p=u.removedTargetIds||[];t=new Ol(h,p,f.key,f)}else if("documentDelete"in e){qf(e.documentDelete,"documentDelete"),qf(e.documentDelete.document,"documentDelete.document");var d=e.documentDelete;c=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):no.forDeletedDoc(),f=new Rs(c,l),p=d.removedTargetIds||[],t=new Ol([],p,f.key,f)}else if("documentRemove"in e){qf(e.documentRemove,"documentRemove"),qf(e.documentRemove.document,"documentRemove");var m=e.documentRemove;c=this.fromName(m.document),p=m.removedTargetIds||[],t=new Ol([],p,c,null)}else{if(!("filter"in e))return Fr("Unknown change type "+JSON.stringify(e));qf(e.filter,"filter"),qf(e.filter.targetId,"filter.targetId");var y=e.filter,v=y.count||0,g=new Of(v),b=y.targetId;t=new Rl(b,g)}return t},jf.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Al.NoChange:"ADD"===e?Al.Added:"REMOVE"===e?Al.Removed:"CURRENT"===e?Al.Current:"RESET"===e?Al.Reset:Fr("Got unexpected TargetChange.state: "+e)},jf.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return no.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?no.MIN:t.readTime?this.fromVersion(t.readTime):no.MIN},jf.prototype.toMutation=function(e){var t,n=this;if(e instanceof Ta)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Ma)t={delete:this.toName(e.key)};else if(e instanceof Ca)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Na))return Fr("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},jf.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):va.NONE;if(e.update){qf(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new Ca(r,i,o,n)}return new Ta(r,i,n)}if(e.delete)return r=this.fromName(e.delete),new Ma(r,n);if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return Ur(!0===n.exists,'Transforms only support precondition "exists == true"'),new Na(r,a)}return Fr("unknown mutation proto: "+JSON.stringify(e))},jf.prototype.toPrecondition=function(e){return Ur(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fr("Unknown precondition")},jf.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?va.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?va.exists(e.exists):va.NONE},jf.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),i=null;return e.transformResults&&0<e.transformResults.length&&(i=e.transformResults.map((function(e){return n.fromValue(e)}))),new ya(r,i)},jf.prototype.fromWriteResults=function(e,t){var n=this;return e&&0<e.length?(Ur(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},jf.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof Sf)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cf)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof kf)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof Df)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw Fr("Unknown transform: "+e.transform)},jf.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)Ur("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=Sf.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Cf(r.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e)r=e.removeAllFromArray.values||[],n=new kf(r.map((function(e){return t.fromValue(e)})));else if("increment"in e){var i=this.fromValue(e.increment);Ur(i instanceof Ha,"NUMERIC_ADD transform requires a NumberValue"),n=new Df(i)}else Fr("Unknown transform proto: "+JSON.stringify(e));var o=qi.fromServerFormat(e.fieldPath);return new ha(o,n)},jf.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},jf.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;Ur(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Kl.atPath(this.fromQueryPath(n))},jf.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(Ur(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(Ur(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},jf.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){Ur(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Kl(t,i,s,a,u,c,l)},jf.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},jf.prototype.toLabel=function(e){switch(e){case Ru.Listen:return null;case Ru.ExistenceFilterMismatch:return"existence-filter-mismatch";case Ru.LimboResolution:return"limbo-document";default:return Fr("Unrecognized query purpose: "+e)}},jf.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,0<e.resumeToken.length&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},jf.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof Xl?t.toUnaryOrFieldFilter(e):Fr("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},jf.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):Fr("Unknown filter: "+JSON.stringify(e)):[]},jf.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},jf.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},jf.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},jf.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new vf(r,n)},jf.prototype.toDirection=function(e){return Lf[e.name]},jf.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return mf.ASCENDING;case"DESCENDING":return mf.DESCENDING;default:return}},jf.prototype.toOperatorName=function(e){return Ff[e.name]},jf.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Hl.EQUAL;case"GREATER_THAN":return Hl.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Hl.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Hl.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Hl.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Hl.ARRAY_CONTAINS;case"IN":return Hl.IN;case"ARRAY_CONTAINS_ANY":return Hl.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return Fr("Unspecified operator");default:return Fr("Unknown operator")}},jf.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},jf.prototype.fromFieldPathReference=function(e){return qi.fromServerFormat(e.fieldPath)},jf.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},jf.prototype.fromPropertyOrder=function(e){return new bf(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},jf.prototype.fromFieldFilter=function(e){return Xl.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},jf.prototype.toUnaryOrFieldFilter=function(e){if(e.op===Hl.EQUAL){if(e.value.isEqual(ts.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(ja.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},jf.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return Xl.create(t,Hl.EQUAL,ts.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return Xl.create(n,Hl.EQUAL,ja.INSTANCE);case"OPERATOR_UNSPECIFIED":return Fr("Unspecified filter");default:return Fr("Unknown filter")}},jf.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},jf.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return qi.fromServerFormat(e)}));return la.fromArray(t)},jf);function jf(e,t){this.databaseId=e,this.options=t}var zf=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Wf=(Qf.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new zf,this.queries.set(t,r)),r.listeners.push(e),Ur(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),!r.viewSnap||e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(t).then((function(e){return r.targetId=e})):Promise.resolve(r.targetId)},Qf.prototype.unlisten=function(e){return l(this,void 0,void 0,(function(){var t,n,r,i;return f(this,(function(o){return t=e.query,n=!1,(r=this.queries.get(t))&&0<=(i=r.listeners.indexOf(e))&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},Qf.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].onViewSnapshot(i)&&(t=!0);a.viewSnap=i}}t&&this.raiseSnapshotsInSyncEvent()},Qf.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(t);this.queries.delete(e)},Qf.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(e)&&(t=!0)})),t&&this.raiseSnapshotsInSyncEvent()},Qf.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},Qf.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},Qf.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},Qf);function Qf(e){this.syncEngine=e,this.queries=new Us((function(e){return e.canonicalId()})),this.onlineState=il.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}var Kf=(Gf.prototype.onViewSnapshot=function(e){if(Ur(0<e.docChanges.length||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==yl.Metadata&&t.push(i)}e=new _l(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},Gf.prototype.onError=function(e){this.queryObserver.error(e)},Gf.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},Gf.prototype.shouldRaiseInitialEvent=function(e,t){if(Ur(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==il.Offline;return this.options.waitForSyncWhenOnline&&n?(Ur(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===il.Offline},Gf.prototype.shouldRaiseEvent=function(e){if(0<e.docChanges.length)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},Gf.prototype.raiseInitialEvent=function(e){Ur(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},Gf);function Gf(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=il.Unknown,this.options=n||{}}var Hf=(Yf.fromSnapshot=function(e,t){for(var n=Co(),r=Co(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case yl.Added:n=n.add(a.doc.key);break;case yl.Removed:r=r.add(a.doc.key)}}return new Yf(e,n,r)},Yf);function Yf(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}var $f=function(e){this.key=e},Xf=function(e){this.key=e},Jf=(Object.defineProperty(Zf.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),Zf.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Tl,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),l=t instanceof As?t:null;l&&(Ur(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var f=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data().isEqual(l.data())?f!==h&&(r.track({type:yl.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:yl.Modified,doc:l}),p=!0,u&&0<n.query.docComparator(l,u)&&(s=!0)):!c&&l?(r.track({type:yl.Added,doc:l}),p=!0):c&&!l&&(r.track({type:yl.Removed,doc:c}),p=!0,u&&(s=!0)),p&&(o=l?(a=a.add(l),h?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))})),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:yl.Removed,doc:c})}return Ur(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},Zf.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},Zf.prototype.applyChanges=function(e,t,n){var r=this;Ur(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort((function(e,t){return function(e,t){function n(e){switch(e){case yl.Added:return 1;case yl.Modified:case yl.Metadata:return 2;case yl.Removed:return 0;default:return Fr("Unknown ChangeType: "+e)}}return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?gl.Synced:gl.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new _l(this.query,e.documentSet,i,o,e.mutatedKeys,s===gl.Local,u,!1),limboChanges:a}:{limboChanges:a}},Zf.prototype.applyOnlineStateChange=function(e){return this.current&&e===il.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Tl,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},Zf.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},Zf.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return Ur(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},Zf.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Co(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new Xf(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new $f(e))})),n},Zf.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=Co();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},Zf.prototype.computeInitialSnapshot=function(){return _l.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===gl.Local)},Zf);function Zf(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Co(),this.mutatedKeys=Co(),this.documentSet=new wl(e.docComparator.bind(e))}var eh=(th.prototype.run=function(){this.runWithBackOff()},th.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return l(e,void 0,void 0,(function(){var e,t,n=this;return f(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},th.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!Vc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},th.prototype.handleTransactionError=function(e){var t=this;0<this.retries&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},th.prototype.isRetryableTransactionError=function(e){if("FirebaseError"!==e.name)return!1;var t=e.code;return"aborted"===t||"failed-precondition"===t||!dl(t)},th);function th(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=5,this.backoff=new zc(this.asyncQueue,zi.RetryTransaction)}var nh="SyncEngine",rh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ih=function(e){this.key=e,this.receivedDocument=!1},oh=(Object.defineProperty(ah.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),ah.prototype.subscribe=function(e){Ur(null!==e,"SyncEngine listener cannot be null"),Ur(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},ah.prototype.listen=function(e){return l(this,void 0,void 0,(function(){var t,n,r,i,o;return f(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},ah.prototype.initializeViewAndComputeSnapshot=function(e,t){return l(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return f(this,(function(l){switch(l.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n)];case 1:return r=l.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return i=l.sent(),o=new Jf(n,i),a=o.computeDocChanges(r),s=Nl.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==il.Offline),Ur(0===(u=o.applyChanges(a,!0===this.isPrimary,s)).limboChanges.length,"View returned limbo docs before target ack from the server."),Ur(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new rh(n,e.targetId,o),this.queryViewsByQuery.set(n,c),this.queryViewsByTarget[e.targetId]=c,[2,u.snapshot]}}))}))},ah.prototype.synchronizeViewAndComputeSnapshot=function(e){return l(this,void 0,void 0,(function(){var t,n,r;return f(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e.query)];case 1:return t=i.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return n=i.sent(),r=e.view.synchronizeWithPersistedState(t,n),this.isPrimary&&this.updateTrackedLimbos(e.targetId,r.limboChanges),[2,r]}}))}))},ah.prototype.unlisten=function(e){return l(this,void 0,void 0,(function(){var t,n=this;return f(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),Ur(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then((function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)})).catch(sc)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},ah.prototype.write=function(e,t){return l(this,void 0,void 0,(function(){var n;return f(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},ah.prototype.runTransaction=function(e,t,n){new eh(e,this.remoteStore,t,n).run()},ah.prototype.applyRemoteEvent=function(e){return l(this,void 0,void 0,(function(){var t,n=this;return f(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),$r(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(Ur(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<t.addedDocuments.size?r.receivedDocument=!0:0<t.modifiedDocuments.size?Ur(r.receivedDocument,"Received change for limbo target document without add."):0<t.removedDocuments.size&&(Ur(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,sc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},ah.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===al.RemoteStore||!this.isPrimary&&t===al.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,r){var i=r.view.applyOnlineStateChange(e);Ur(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},ah.prototype.rejectListen=function(e,t){return l(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return f(this,(function(c){switch(c.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new io(Vi.comparator)).insert(r,new Rs(r,no.forDeletedDoc())),o=Co().add(r),a=new Il(no.MIN,{},new ho(vi),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return Ur(!!(s=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(s.query,!1).then((function(){return u.removeAndCleanupQuery(s)})).catch(sc)];case 2:c.sent(),this.syncEngineListener.onWatchError(s.query,t),c.label=3;case 3:return[2]}}))}))},ah.prototype.applyBatchState=function(e,t,n){return l(this,void 0,void 0,(function(){var r;return f(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(Pr(nh,"Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):Fr("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},ah.prototype.applySuccessfulWrite=function(e){return l(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,sc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},ah.prototype.rejectFailedWrite=function(e,t){return l(this,void 0,void 0,(function(){var n;return f(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,sc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},ah.prototype.registerPendingWritesCallback=function(e){return l(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||Pr(nh,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?e.resolve():((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n)),[2]}}))}))},ah.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},ah.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new Wr(zr.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},ah.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n=(n=n||new io(vi)).insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},ah.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(Ur(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},ah.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach((function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)}))}},ah.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},ah.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof $f?(this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i)):i instanceof Xf?(Pr(nh,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):Fr("Unknown limbo change: "+JSON.stringify(i))}},ah.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){Pr(nh,"New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=Kl.atPath(t.path);this.limboResolutionsByTarget[n]=new ih(t),this.remoteStore.listen(new qu(r,n,Ru.LimboResolution,Di.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},ah.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},ah.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return l(this,void 0,void 0,(function(){var n,r,i,o=this;return f(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(a,s){i.push(Promise.resolve().then((function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query).then((function(e){return s.view.computeDocChanges(e,t)})):t})).then((function(e){var i=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=Hf.fromSnapshot(s.targetId,a.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}}))}))},ah.prototype.assertSubscribed=function(e){Ur(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},ah.prototype.handleCredentialChange=function(e){return l(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},ah.prototype.applyPrimaryState=function(e){return l(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u=this;return f(this,(function(c){switch(c.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return c.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=c.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),Yr(this.queryViewsByTarget,(function(e,t){u.sharedClientState.isLocalQueryTarget(e)?a.push(e):s=s.then((function(){return u.unlisten(t.query)})),u.remoteStore.unlisten(t.targetId)})),[4,s]);case 4:return c.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return c.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))},ah.prototype.resetLimboDocuments=function(){var e=this;Yr(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new io(Vi.comparator)},ah.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return l(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c;return f(this,(function(l){switch(l.label){case 0:t=[],n=[],r=0,i=e,l.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(s=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(s.query,!0)]:[3,5]):[3,11];case 2:return l.sent(),[4,this.localStore.allocateQuery(s.query)];case 3:return a=l.sent(),[4,this.synchronizeViewAndComputeSnapshot(s)];case 4:return(u=l.sent()).snapshot&&n.push(u.snapshot),[3,9];case 5:return Ur(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return Ur(!!(c=l.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(c)];case 7:return a=l.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:l.sent(),l.label=9;case 9:t.push(a),l.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},ah.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},ah.prototype.applyTargetState=function(e,t,n){return l(this,void 0,void 0,(function(){var r,i,o,a,s;return f(this,(function(u){switch(u.label){case 0:if(this.isPrimary)return Pr(nh,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,11];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return u.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=u.sent(),i=Il.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return u.sent(),[3,11];case 4:return function(e){return e.code===zr.DATA_LOSS&&e.message===zs}(o=u.sent())?(a=[],Yr(this.queryViewsByTarget,(function(e){return a.push(e)})),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)]):[3,6];case 5:return u.sent(),[3,7];case 6:throw o;case 7:return[3,8];case 8:return s=this.queryViewsByTarget[e],this.removeAndCleanupQuery(s),[4,this.localStore.releaseQuery(s.query,!0)];case 9:return u.sent(),this.syncEngineListener.onWatchError(s.query,n),[3,11];case 10:Fr("Unexpected target state: "+t),u.label=11;case 11:return[2]}}))}))},ah.prototype.applyActiveTargetsChange=function(e,t){return l(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h=this;return f(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,p.label=1;case 1:return n<r.length?(l=r[n],Ur(!this.queryViewsByTarget[l],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(l)]):[3,6];case 2:return Ur(!!(i=p.sent()),"Query data for active target "+l+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:a=function(e){var t;return f(this,(function(n){switch(n.label){case 0:return(t=s.queryViewsByTarget[e])?[4,s.localStore.releaseQuery(t.query,!1).then((function(){h.remoteStore.unlisten(e),h.removeAndCleanupQuery(t)})).catch(sc)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},s=this,u=0,c=t,p.label=7;case 7:return u<c.length?(l=c[u],[5,a(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},ah.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},ah.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},ah.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Co().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Co()},ah);function ah(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Us((function(e){return e.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new io(Vi.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new mc,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Wo.forSyncEngine(),this.isPrimary=void 0,this.onlineState=il.Unknown}var sh=(uh.prototype.isAuthenticated=function(){return null!=this.uid},uh.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},uh.prototype.isEqual=function(e){return e.uid===this.uid},uh.UNAUTHENTICATED=new uh(null),uh.GOOGLE_CREDENTIALS=new uh("google-credentials-uid"),uh.FIRST_PARTY=new uh("first-party-uid"),uh);function uh(e){this.uid=e}var ch="SharedClientState",lh="firestore_clients",fh="firestore_mutations",hh="firestore_targets",ph=(dh.fromWebStorageEntry=function(e,t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Wr(r.error.code,r.error.message)),i?new dh(e,t,r.state,o):(Mr(ch,"Failed to parse mutation state for ID '"+t+"': "+n),null)},dh.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},dh);function dh(e,t,n,r){this.user=e,this.batchId=t,this.state=n,Ur(void 0!==(this.error=r)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}var mh=(yh.fromWebStorageEntry=function(e,t){var n=JSON.parse(t),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Wr(n.error.code,n.error.message)),r?new yh(e,n.state,i):(Mr(ch,"Failed to parse target state for ID '"+e+"': "+t),null)},yh.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},yh);function yh(e,t,n){this.targetId=e,this.state=t,Ur(void 0!==(this.error=n)==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}var vh=(gh.fromWebStorageEntry=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=ko(),o=0;r&&o<n.activeTargetIds.length;++o)r=jc(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new gh(e,i):(Mr(ch,"Failed to parse client data for instance '"+e+"': "+t),null)},gh);function gh(e,t){this.clientId=e,this.activeTargetIds=t}var bh=(wh.fromWebStorageEntry=function(e){var t=JSON.parse(e);return"object"==typeof t&&t.onlineState in il&&"string"==typeof t.clientId?new wh(t.clientId,il[t.onlineState]):(Mr(ch,"Failed to parse online state: "+e),null)},wh);function wh(e,t){this.clientId=e,this.onlineState=t}var Eh=(Th.prototype.addQueryTarget=function(e){Ur(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},Th.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},Th.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},Th);function Th(){this.activeTargetIds=ko()}var Sh=(_h.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},_h.prototype.start=function(){return l(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return f(this,(function(f){switch(f.label){case 0:return Ur(!this.started,"WebStorageSharedClientState already started"),Ur(null!==this.syncEngine,"syncEngine property must be set before calling start()"),Ur(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=vh.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,c=this.earlyEvents;u<c.length;u++)l=c[u],this.handleWebStorageEvent(l);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},_h.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},_h.prototype.getAllActiveQueryTargets=function(){var e=ko();return $r(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},_h.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},_h.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},_h.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},_h.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=mh.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},_h.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},_h.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},_h.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},_h.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},_h.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},_h.prototype.setOnlineState=function(e){this.persistOnlineState(e)},_h.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},_h.prototype.getItem=function(e){var t=this.storage.getItem(e);return Pr(ch,"READ",e,t),t},_h.prototype.setItem=function(e,t){Pr(ch,"SET",e,t),this.storage.setItem(e,t)},_h.prototype.removeItem=function(e){Pr(ch,"REMOVE",e),this.storage.removeItem(e)},_h.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(Pr(ch,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return l(t,void 0,void 0,(function(){var t,n,r,i,o,a;return f(this,(function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(Ur(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=Di.INVALID;if(null!=e)try{var n=JSON.parse(e);Ur("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){Mr(ch,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==Di.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(_h.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),_h.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},_h.prototype.persistMutationState=function(e,t,n){var r=new ph(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},_h.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},_h.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:il[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},_h.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new mh(e,t,n);this.setItem(r,i.toWebStorageJSON())},_h.prototype.toWebStorageClientStateKey=function(e){return Ur(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),lh+"_"+this.persistenceKey+"_"+e},_h.prototype.toWebStorageQueryTargetMetadataKey=function(e){return hh+"_"+this.persistenceKey+"_"+e},_h.prototype.toWebStorageMutationBatchKey=function(e){var t=fh+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},_h.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},_h.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return Ur(null!==n,"Cannot parse client state key '"+e+"'"),vh.fromWebStorageEntry(n,t)},_h.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);Ur(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ph.fromWebStorageEntry(new sh(i),r,t)},_h.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);Ur(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return mh.fromWebStorageEntry(r,t)},_h.prototype.fromWebStorageOnlineState=function(e){return bh.fromWebStorageEntry(e)},_h.prototype.handleMutationBatchEvent=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){return e.user.uid!==this.currentUser.uid?(Pr(ch,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},_h.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},_h.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach((function(e){return l(n,void 0,void 0,(function(){return f(this,(function(t){return r.has(e)||o.push(e),[2]}))}))})),r.forEach((function(e){return l(n,void 0,void 0,(function(){return f(this,(function(t){return i.has(e)||a.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,a)},_h.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},_h);function _h(e,t,n,r,i){if(this.queue=e,this.platform=t,this.persistenceKey=n,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!_h.isAvailable(this.platform))throw new Wr(zr.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+n,this.activeClients[this.localClientId]=new Eh,this.clientStateKeyRe=new RegExp("^"+lh+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+fh+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+hh+"_"+o+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+n,this.platform.window.addEventListener("storage",this.storageListener)}var Ch=(Ih.prototype.addPendingMutation=function(e){},Ih.prototype.updateMutationState=function(e,t,n){},Ih.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},Ih.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},Ih.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},Ih.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},Ih.prototype.clearQueryState=function(e){delete this.queryState[e]},Ih.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},Ih.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},Ih.prototype.start=function(){return this.localState=new Eh,Promise.resolve()},Ih.prototype.handleUserChange=function(e,t,n){},Ih.prototype.setOnlineState=function(e){},Ih.prototype.shutdown=function(){},Ih.prototype.writeSequenceNumber=function(e){},Ih);function Ih(){this.localState=new Eh,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}var kh="FirestoreClient",Nh=(Dh.prototype.lruParams=function(){return Gu.withCacheSize(this.cacheSizeBytes)},Dh);function Dh(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}var Ah=function(){},xh=(Oh.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new Qi,r=new Qi,i=!1;return this.credentials.setChangeListener((function(o){i?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(o)})):(i=!0,t.initializePersistence(e,r,o).then((function(e){return t.initializeRest(o,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},Oh.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},Oh.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Nh?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},Oh.prototype.canFallback=function(e){return e instanceof Wr?e.code===zr.FAILED_PRECONDITION||e.code===zr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},Oh.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Wr(zr.FAILED_PRECONDITION,"The client has already been terminated.")},Oh.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=oc.buildStoragePrefix(this.databaseInfo),i=new Vf(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return l(n,void 0,void 0,(function(){var n,o;return f(this,(function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Sh.isAvailable(this.platform))throw new Wr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Sh(this.asyncQueue,this.platform,r,this.clientId,e):new Ch,[4,oc.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),[2,(this.persistence=o).referenceDelegate.garbageCollector]}}))}))}))},Oh.prototype.startMemoryPersistence=function(){return this.persistence=Ac.createEagerPersistence(this.clientId),this.sharedClientState=new Ch,Promise.resolve(null)},Oh.prototype.initializeRest=function(e,t){var n=this;return Pr(kh,"Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return l(n,void 0,void 0,(function(){var n,i,o,a,s,u=this;return f(this,(function(c){switch(c.label){case 0:return this.localStore=new wc(this.persistence,e),t&&(this.lruScheduler=new Yu(t,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new nl(this.asyncQueue,r,this.credentials,i),a=function(e){return u.syncEngine.applyOnlineStateChange(e,al.RemoteStore)},s=function(e){return u.syncEngine.applyOnlineStateChange(e,al.SharedClientState)},this.remoteStore=new jl(this.localStore,o,this.asyncQueue,a,n),this.syncEngine=new oh(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=s,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Wf(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return l(u,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 3:return c.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return l(u,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 4:return c.sent(),[2]}}))}))}))},Oh.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),Pr(kh,"Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},Oh.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},Oh.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return l(e,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},Oh.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new Qi;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},Oh.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var i=new Kf(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},Oh.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},Oh.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof As)return e;if(e instanceof Rs)return null;throw new Wr(zr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},Oh.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.executeQuery(e)})).then((function(t){var n=Co(),r=new Jf(e,n),i=r.computeDocChanges(t);return r.applyChanges(i,!1).snapshot}))},Oh.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new Qi;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},Oh.prototype.databaseId=function(){return this.databaseInfo.databaseId},Oh.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},Oh.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(Oh.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),Oh.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new Qi;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},Oh);function Oh(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=mi.newId()}var Rh=(Ph.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},Ph.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},Ph.prototype.mute=function(){this.muted=!0},Ph.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},Ph);function Ph(e){this.observer=e,this.muted=!1}var Mh=(Lh.documentId=function(){return Lh._DOCUMENT_ID},Lh.prototype.isEqual=function(e){if(!(e instanceof Lh))throw hi("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},Lh._DOCUMENT_ID=new Lh(qi.keyField().canonicalString()),Lh);function Lh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new Wr(zr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+di(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(ni("FieldPath","string",n,e[n]),0===e[n].length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(e)}var Fh=new RegExp("[~\\*/\\[\\]]"),Uh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},qh=(Bh.prototype.getToken=function(){return Promise.resolve(null)},Bh.prototype.invalidateToken=function(){},Bh.prototype.setChangeListener=function(e){Ur(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(sh.UNAUTHENTICATED)},Bh.prototype.removeChangeListener=function(){Ur(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},Bh);function Bh(){this.changeListener=null}var Vh=(jh.prototype.getToken=function(){var e=this;Ur(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new Wr(zr.ABORTED,"getToken aborted due to token change.");return n?(Ur("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Uh(n.accessToken,e.currentUser)):null}))},jh.prototype.invalidateToken=function(){this.forceRefresh=!0},jh.prototype.setChangeListener=function(e){Ur(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(this.currentUser)},jh.prototype.removeChangeListener=function(){Ur(null!=this.tokenListener,"removeChangeListener() called twice"),Ur(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},jh.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return Ur(null===e||"string"==typeof e,"Received invalid UID: "+e),new sh(e)},jh);function jh(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=sh.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}var zh=(Object.defineProperty(Wh.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),Wh);function Wh(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=sh.FIRST_PARTY}var Qh=(Kh.prototype.getToken=function(){return Promise.resolve(new zh(this.gapi,this.sessionIndex))},Kh.prototype.setChangeListener=function(e){e(sh.FIRST_PARTY)},Kh.prototype.removeChangeListener=function(){},Kh.prototype.invalidateToken=function(){},Kh);function Kh(e,t){this.gapi=e,this.sessionIndex=t}function Gh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Hh=(Yh.delete=function(){return Jr("FieldValue.delete",arguments),Xh.instance},Yh.serverTimestamp=function(){return Jr("FieldValue.serverTimestamp",arguments),ep.instance},Yh.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ei("FieldValue.arrayUnion",arguments,1),new rp(e)},Yh.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ei("FieldValue.arrayRemove",arguments,1),new ap(e)},Yh.increment=function(e){return ni("FieldValue.increment","number",1,e),Zr("FieldValue.increment",arguments,1),new cp(e)},Yh.prototype.isEqual=function(e){return this===e},Yh);function Yh(e){this._methodName=e}var $h,Xh=(c(Jh,$h=Hh),Jh.instance=new Jh,Jh);function Jh(){return $h.call(this,"FieldValue.delete")||this}var Zh,ep=(c(tp,Zh=Hh),tp.instance=new tp,tp);function tp(){return Zh.call(this,"FieldValue.serverTimestamp")||this}var np,rp=(c(ip,np=Hh),ip);function ip(e){var t=np.call(this,"FieldValue.arrayUnion")||this;return t._elements=e,t}var op,ap=(c(sp,op=Hh),sp);function sp(e){var t=op.call(this,"FieldValue.arrayRemove")||this;return t._elements=e,t}var up,cp=(c(lp,up=Hh),lp);function lp(e){var t=up.call(this,"FieldValue.increment")||this;return t._operand=e,t}var fp=Kr(Hh,"Use FieldValue.<field>() instead."),hp=/^__.*__$/,pp=(dp.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Ca(e,this.data,this.fieldMask,t)):n.push(new Ta(e,this.data,t)),0<this.fieldTransforms.length&&n.push(new Na(e,this.fieldTransforms)),n},dp);function dp(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}var mp,yp,vp=(gp.prototype.toMutations=function(e,t){var n=[new Ca(e,this.data,this.fieldMask,t)];return 0<this.fieldTransforms.length&&n.push(new Na(e,this.fieldTransforms)),n},gp);function gp(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function bp(e){switch(e){case mp.Set:case mp.MergeSet:case mp.Update:return!0;case mp.Argument:return!1;default:throw Fr("Unexpected case for UserDataSource: "+e)}}(yp=mp=mp||{})[yp.Set=0]="Set",yp[yp.Update=1]="Update",yp[yp.MergeSet=2]="MergeSet",yp[yp.Argument=3]="Argument";var wp=(Ep.prototype.childContextForField=function(e){var t=null==this.path?null:this.path.child(e),n=new Ep(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePathSegment(e),n},Ep.prototype.childContextForFieldPath=function(e){var t=null==this.path?null:this.path.child(e),n=new Ep(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePath(),n},Ep.prototype.childContextForArray=function(e){return new Ep(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},Ep.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Wr(zr.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},Ep.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},Ep.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},Ep.prototype.validatePathSegment=function(e){if(bp(this.dataSource)&&hp.test(e))throw this.createError("Document fields cannot begin and end with __")},Ep);function Ep(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}var Tp=function(e,t){this.databaseId=e,this.key=t},Sp=(_p.prototype.parseSetData=function(e,t){var n=new wp(mp.Set,e,qi.EMPTY_PATH);Ip("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new pp(r,null,n.fieldTransforms)},_p.prototype.parseMergeData=function(e,t,n){var r=new wp(mp.MergeSet,e,qi.EMPTY_PATH);Ip("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var s=new ho(qi.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof Mh)f=l._internalPath;else{if("string"!=typeof l)throw Fr("Expected stringOrFieldPath to be a string or a FieldPath");f=Np(e,l)}if(!r.contains(f))throw new Wr(zr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}i=la.fromSet(s),o=r.fieldTransforms.filter((function(e){return i.covers(e.field)}))}else i=la.fromArray(r.fieldMask),o=r.fieldTransforms;return new pp(a,i,o)},_p.prototype.parseUpdateData=function(e,t){var n=this,r=new wp(mp.Update,e,qi.EMPTY_PATH);Ip("Data must be an object, but it was:",r,t);var i=new ho(qi.comparator),o=Ts.EMPTY;$r(t,(function(t,a){var s=Np(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Xh)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}}));var a=la.fromSet(i);return new vp(o,a,r.fieldTransforms)},_p.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new wp(mp.Update,e,qi.EMPTY_PATH),o=[kp(e,t)],a=[n];if(r.length%2!=0)throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(kp(e,r[s])),a.push(r[s+1]);var u=new ho(qi.comparator),c=Ts.EMPTY;for(s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof Xh)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=la.fromSet(u);return new vp(c,d,i.fieldTransforms)},_p.prototype.parseQueryValue=function(e,t){var n=new wp(mp.Argument,e,qi.EMPTY_PATH),r=this.parseData(t,n);return Ur(null!=r,"Parsed data should not be null."),Ur(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},_p.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=Dp(e);throw t.createError(n)}},_p.prototype.parseData=function(e,t){if(Cp(e=this.runPreConverter(e,t)))return Ip("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof Hh)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},_p.prototype.parseObject=function(e,t){var n=this,r=new io(vi);return Xr(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):$r(e,(function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))})),new Ts(r)},_p.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=ja.INSTANCE),n.push(s),r++}return new Cs(n)},_p.prototype.parseSentinelFieldValue=function(e,t){if(!bp(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof Xh){if(t.dataSource!==mp.MergeSet)throw t.dataSource===mp.Update?(Ur(0<t.path.length,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof ep)t.fieldTransforms.push(new ha(t.path,Sf.instance));else if(e instanceof rp){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new Cf(n);t.fieldTransforms.push(new ha(t.path,r))}else if(e instanceof ap){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new kf(n);t.fieldTransforms.push(new ha(t.path,i))}else if(e instanceof cp){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new Df(o);t.fieldTransforms.push(new ha(t.path,a))}else Fr("Unknown FieldValue type: "+e)},_p.prototype.parseScalarValue=function(e,t){if(null===e)return ja.INSTANCE;if("number"==typeof e)return jc(e)?new Ja(e):new ts(e);if("boolean"==typeof e)return Qa.of(e);if("string"==typeof e)return new is(e);if(e instanceof Date)return new ss(eo.fromDate(e));if(e instanceof eo)return new ss(new eo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof Wl)return new bs(e);if(e instanceof Ti)return new ps(e);if(e instanceof Tp)return new ys(e.databaseId,e.key);throw t.createError("Unsupported field value: "+ci(e))},_p.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var i=new wp(mp.Argument,e,qi.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))}))},_p);function _p(e){this.preConverter=e}function Cp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof eo||e instanceof Wl||e instanceof Ti||e instanceof Tp||e instanceof Hh)}function Ip(e,t,n){if(!Cp(n)||!ui(n)){var r=ci(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function kp(e,t){if(t instanceof Mh)return t._internalPath;if("string"==typeof t)return Np(e,t);throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Np(e,t){try{return function(e){if(0<=e.search(Fh))throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Mh.bind.apply(Mh,[void 0].concat(e.split("."))))}catch(t){throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=Dp(t);throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function Dp(e){return e instanceof Error?e.message:e.toString()}var Ap=Gu.COLLECTION_DISABLED,xp=(Op.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},Op);function Op(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Wr(zr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else ii("settings","non-empty string","host",e.host),this.host=e.host,oi("settings","boolean","ssl",e.ssl),this.ssl=Hr(e.ssl,!0);if(fi("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),oi("settings","object","credentials",e.credentials),this.credentials=e.credentials,oi("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?Mr("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&Mr("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=Hr(e.timestampsInSnapshots,!0),oi("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Gu.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Ap&&e.cacheSizeBytes<Gu.MINIMUM_CACHE_SIZE_BYTES)throw new Wr(zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Gu.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}oi("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0!==e.experimentalForceLongPolling&&e.experimentalForceLongPolling}var Rp=(Pp.prototype.settings=function(e){if(Zr("Firestore.settings",arguments,1),ni("Firestore.settings","object",1,e),Gr(e,"persistence"))throw new Wr(zr.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new xp(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new Wr(zr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._settings=t).credentials&&(this._credentials=function(e){if(!e)return new qh;switch(e.type){case"gapi":var t=e.client;return Ur(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Qh(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Wr(zr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},Pp.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},Pp.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},Pp.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new Wr(zr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&Mr("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=Hr(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Nh(this._settings.cacheSizeBytes,t))},Pp.prototype.clearPersistence=function(){var e=this,t=oc.buildStoragePrefix(this.makeDatabaseInfo()),n=new Qi;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return l(e,void 0,void 0,(function(){var e;return f(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new Wr(zr.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,oc.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},Pp.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Pp.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),Pp.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},Pp.prototype._onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),Gh(e))return this.onSnapshotsInSyncInternal(e);ni("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},Pp.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new Rh({next:function(){e.next&&e.next()},error:function(e){throw Fr("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},Pp.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Ah),this._firestoreClient},Pp.prototype.makeDatabaseInfo=function(){return new Ci(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},Pp.prototype.configureClient=function(e){Ur(!!this._settings.host,"FirestoreSettings.host is not set"),Ur(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new xh(qr.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},Pp.prototype.createDataConverter=function(e){return new Sp((function(t){if(t instanceof qp){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new Wr(zr.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Tp(e,t._key)}return t}))},Pp.databaseIdFromApp=function(e){var t=e.options;if(!Gr(t,"projectId"))throw new Wr(zr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new Wr(zr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ki(n)},Object.defineProperty(Pp.prototype,"app",{get:function(){if(!this._firebaseApp)throw new Wr(zr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),Pp.prototype.collection=function(e){return Zr("Firestore.collection",arguments,1),ni("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Zp(Mi.fromString(e),this)},Pp.prototype.doc=function(e){return Zr("Firestore.doc",arguments,1),ni("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),qp.forPath(Mi.fromString(e),this)},Pp.prototype.collectionGroup=function(e){if(Zr("Firestore.collectionGroup",arguments,1),ni("Firestore.collectionGroup","non-empty string",1,e),0<=e.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Hp(new Kl(Mi.EMPTY_PATH,e),this)},Pp.prototype.runTransaction=function(e){var t=this;return Zr("Firestore.runTransaction",arguments,1),ni("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Mp(t,n))}))},Pp.prototype.batch=function(){return this.ensureClientConfigured(),new Fp(this)},Object.defineProperty(Pp,"logLevel",{get:function(){switch(Or()){case Tr.DEBUG:return"debug";case Tr.ERROR:return"error";case Tr.SILENT:return"silent";default:return Fr("Unknown log level: "+Or())}},enumerable:!0,configurable:!0}),Pp.setLogLevel=function(e){switch(Zr("Firestore.setLogLevel",arguments,1),ni("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":Rr(Tr.DEBUG);break;case"error":Rr(Tr.ERROR);break;case"silent":Rr(Tr.SILENT);break;default:throw new Wr(zr.INVALID_ARGUMENT,"Invalid log level: "+e)}},Pp.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},Pp);function Pp(e){var t=this;if(this._firebaseApp=null,this._queue=new Hi,this.INTERNAL={delete:function(){return l(t,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof e.options){var n=e;this._firebaseApp=n,this._databaseId=Pp.databaseIdFromApp(n),this._persistenceKey=n.name,this._credentials=new Vh(n)}else{var r=e;if(!r.projectId)throw new Wr(zr.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new ki(r.projectId,r.database),this._persistenceKey="[DEFAULT]",this._credentials=new qh}this._settings=new xp({}),this._dataConverter=this.createDataConverter(this._databaseId)}var Mp=(Lp.prototype.get=function(e){var t=this;Zr("Transaction.get",arguments,1);var n=id("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Fr("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof Rs)return new zp(t._firestore,n._key,null,!1,!1);if(r instanceof As)return new zp(t._firestore,n._key,r,!1,!1);throw Fr("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},Lp.prototype.set=function(e,t,n){ti("Transaction.set",arguments,2,3);var r=id("Transaction.set",e,this._firestore),i=(n=td("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},Lp.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return i="string"==typeof t||t instanceof Mh?(ei("Transaction.update",arguments,3),r=id("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(Zr("Transaction.update",arguments,2),r=id("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},Lp.prototype.delete=function(e){Zr("Transaction.delete",arguments,1);var t=id("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},Lp);function Lp(e,t){this._firestore=e,this._transaction=t}var Fp=(Up.prototype.set=function(e,t,n){ti("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=id("WriteBatch.set",e,this._firestore),i=(n=td("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,va.NONE)),this},Up.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),i="string"==typeof t||t instanceof Mh?(ei("WriteBatch.update",arguments,3),r=id("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(Zr("WriteBatch.update",arguments,2),r=id("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,va.exists(!0))),this},Up.prototype.delete=function(e){Zr("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=id("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Ma(t._key,va.NONE)),this},Up.prototype.commit=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},Up.prototype.verifyNotCommitted=function(){if(this._committed)throw new Wr(zr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Up);function Up(e){this._firestore=e,this._mutations=[],this._committed=!1}var qp=(Bp.forPath=function(e,t){if(e.length%2!=0)throw new Wr(zr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new Bp(new Vi(e),t)},Object.defineProperty(Bp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Bp.prototype,"parent",{get:function(){return new Zp(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Bp.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),Bp.prototype.collection=function(e){if(Zr("DocumentReference.collection",arguments,1),ni("DocumentReference.collection","non-empty string",1,e),!e)throw new Wr(zr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Mi.fromString(e);return new Zp(this._key.path.child(t),this.firestore)},Bp.prototype.isEqual=function(e){if(!(e instanceof Bp))throw hi("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},Bp.prototype.set=function(e,t){ti("DocumentReference.set",arguments,1,2);var n=(t=td("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,va.NONE))},Bp.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof e||e instanceof Mh?(ei("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(Zr("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,va.exists(!0)))},Bp.prototype.delete=function(){return Zr("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Ma(this._key,va.NONE)])},Bp.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ti("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||Gh(e[i])||(fi("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),oi("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return n=Gh(e[i])?e[i]:(ni("DocumentReference.onSnapshot","function",i,e[i]),ri("DocumentReference.onSnapshot","function",i+1,e[i+1]),ri("DocumentReference.onSnapshot","function",i+2,e[i+2]),{next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},Bp.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Rh({next:function(e){if(t.next){Ur(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new zp(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Kl.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},Bp.prototype.get=function(e){var t=this;return ti("DocumentReference.get",arguments,0,1),rd("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new zp(t.firestore,t._key,e,!0,e instanceof As&&e.hasLocalMutations))}),r):t.getViaSnapshotListener(n,r,e)}))},Bp.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new Wr(zr.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new Wr(zr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},Bp);function Bp(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}var Vp=(jp.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},jp);function jp(e,t){this.hasPendingWrites=e,this.fromCache=t}var zp=(Wp.prototype.data=function(e){return ti("DocumentSnapshot.data",arguments,0,1),e=nd("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),Fa.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},Wp.prototype.get=function(e,t){if(ti("DocumentSnapshot.get",arguments,1,2),t=nd("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(kp("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,Fa.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(Wp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Wp.prototype,"ref",{get:function(){return new qp(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Wp.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(Wp.prototype,"metadata",{get:function(){return new Vp(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),Wp.prototype.isEqual=function(e){if(!(e instanceof Wp))throw hi("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},Wp.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach((function(e,i){r[e]=n.convertValue(i,t)})),r},Wp.prototype.convertValue=function(e,t){if(e instanceof Ts)return this.convertObject(e,t);if(e instanceof Cs)return this.convertArray(e,t);if(e instanceof ys){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||Mr("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new qp(n,this._firestore)}return e.value(t)},Wp.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.convertValue(e,t)}))},Wp);function Wp(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}var Qp,Kp=(c(Gp,Qp=zp),Gp.prototype.data=function(e){var t=Qp.prototype.data.call(this,e);return Ur("object"==typeof t,"Document in a QueryDocumentSnapshot should exist"),t},Gp);function Gp(){return null!==Qp&&Qp.apply(this,arguments)||this}var Hp=(Yp.prototype.where=function(e,t,n){Zr("Query.where",arguments,3),li("Query.where",3,n),"in"!==t&&"array-contains-any"!==t&&function(e,t,n,r){if(!t.some((function(e){return e===r})))throw new Wr(zr.INVALID_ARGUMENT,"Invalid value "+ci(r)+" provided to function Query.where() for its "+pi(2)+" argument. Acceptable values: "+t.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,t);var r,i=kp("Query.where",e),o=Hl.fromString(t);if(i.isKeyField()){if(o===Hl.ARRAY_CONTAINS||o===Hl.ARRAY_CONTAINS_ANY)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===Hl.IN){this.validateDisjunctiveFilterElements(n,o);for(var a=[],s=0,u=n;s<u.length;s++){var c=u[s];a.push(this.parseDocumentIdValue(c))}r=new Cs(a)}else r=this.parseDocumentIdValue(n)}else o!==Hl.IN&&o!==Hl.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(n,o),r=this.firestore._dataConverter.parseQueryValue("Query.where",n);var l=Xl.create(i,o,r);return this.validateNewFilter(l),new Yp(this._query.addFilter(l),this.firestore)},Yp.prototype.orderBy=function(e,t){var n;if(ti("Query.orderBy",arguments,1,2),ri("Query.orderBy","non-empty string",2,t),void 0===t||"asc"===t)n=mf.ASCENDING;else{if("desc"!==t)throw new Wr(zr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+t+"', expected 'asc' or 'desc'.");n=mf.DESCENDING}if(null!==this._query.startAt)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=kp("Query.orderBy",e),i=new bf(r,n);return this.validateNewOrderBy(i),new Yp(this._query.addOrderBy(i),this.firestore)},Yp.prototype.limit=function(e){if(Zr("Query.limit",arguments,1),ni("Query.limit","number",1,e),e<=0)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new Yp(this._query.withLimit(e),this.firestore)},Yp.prototype.startAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ei("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",e,t,!0);return new Yp(this._query.withStartAt(r),this.firestore)},Yp.prototype.startAfter=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ei("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",e,t,!1);return new Yp(this._query.withStartAt(r),this.firestore)},Yp.prototype.endBefore=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ei("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",e,t,!0);return new Yp(this._query.withEndAt(r),this.firestore)},Yp.prototype.endAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ei("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",e,t,!1);return new Yp(this._query.withEndAt(r),this.firestore)},Yp.prototype.isEqual=function(e){if(!(e instanceof Yp))throw hi("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},Yp.prototype.boundFromDocOrFields=function(e,t,n,r){if(li(e,1,t),t instanceof zp){if(0<n.length)throw new Wr(zr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new Wr(zr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},Yp.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new ys(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof ls)throw new Wr(zr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new vf(r,n)},Yp.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new Wr(zr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(Mi.fromString(a));if(!Vi.isDocumentKey(s))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new Vi(s);i.push(new ys(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);i.push(c)}}return new vf(i,n)},Yp.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ti("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||Gh(e[i])||(fi("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),oi("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=Gh(e[i])?e[i]:(ni("Query.onSnapshot","function",i,e[i]),ri("Query.onSnapshot","function",i+1,e[i+1]),ri("Query.onSnapshot","function",i+2,e[i+2]),{next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},Yp.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Rh({next:function(e){t.next&&t.next(new $p(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},Yp.prototype.get=function(e){var t=this;return ti("Query.get",arguments,0,1),rd("Query.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new $p(t.firestore,t._query,e))}),r):t.getViaSnapshotListener(n,r,e)}))},Yp.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new Wr(zr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},Yp.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(Mi.fromString(e));if(!Vi.isDocumentKey(t))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new ys(this.firestore._databaseId,new Vi(t))}if(e instanceof qp){var n=e;return new ys(this.firestore._databaseId,n._key)}throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ci(e)+".")},Yp.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=e.indexOf(null))throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(0<e.filter((function(e){return Number.isNaN(e)})).length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},Yp.prototype.validateNewFilter=function(e){if(e instanceof Xl){var t=[Hl.ARRAY_CONTAINS,Hl.ARRAY_CONTAINS_ANY],n=[Hl.IN,Hl.ARRAY_CONTAINS_ANY],r=0<=t.indexOf(e.op),i=0<=n.indexOf(e.op);if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new Wr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Wr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},Yp.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},Yp.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},Yp);function Yp(e,t){this._query=e,this.firestore=t}var $p=(Object.defineProperty(Xp.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(Xp.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(Xp.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),Xp.prototype.forEach=function(e,t){var n=this;ti("QuerySnapshot.forEach",arguments,1,2),ni("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(Xp.prototype,"query",{get:function(){return new Hp(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Xp.prototype.docChanges=function(e){e&&(fi("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),oi("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new Wr(zr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map((function(t){var o=new Kp(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return Ur(t.type===yl.Added,"Invalid event type for first snapshot"),Ur(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==yl.Metadata})).map((function(t){var r=new Kp(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,a=-1;return t.type!==yl.Added&&(Ur(0<=(i=o.indexOf(t.doc.key)),"Index for document not found"),o=o.delete(t.doc.key)),t.type!==yl.Removed&&(a=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case yl.Added:return"added";case yl.Modified:case yl.Metadata:return"modified";case yl.Removed:return"removed";default:return Fr("Unknown change type: "+e)}}(t.type),doc:r,oldIndex:i,newIndex:a}}))}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},Xp.prototype.isEqual=function(e){if(!(e instanceof Xp))throw hi("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},Xp.prototype.convertToDocumentImpl=function(e){return new Kp(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},Xp);function Xp(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Vp(n.hasPendingWrites,n.fromCache)}["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty($p.prototype.docChanges,e,{get:function(){return function(){throw new Wr(zr.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var Jp,Zp=(c(ed,Jp=Hp),Object.defineProperty(ed.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(ed.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new qp(new Vi(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(ed.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),ed.prototype.doc=function(e){if(ti("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=mi.newId()),ni("CollectionReference.doc","non-empty string",1,e),""===e)throw new Wr(zr.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=Mi.fromString(e);return qp.forPath(this._query.path.child(t),this.firestore)},ed.prototype.add=function(e){Zr("CollectionReference.add",arguments,1),ni("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},ed);function ed(e,t){var n=Jp.call(this,Kl.atPath(e),t)||this;if(e.length%2!=1)throw new Wr(zr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return n}function td(e,t){if(void 0===t)return{merge:!1};if(fi(e,t,["merge","mergeFields"]),oi(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+ci(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Wr(zr.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+ci(r[o]))}(e,t,n,r,i)}(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(e){return"string"==typeof e||e instanceof Mh})),void 0!==t.mergeFields&&void 0!==t.merge)throw new Wr(zr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function nd(e,t){return void 0===t?{}:(fi(e,t,["serverTimestamps"]),ai(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function rd(e,t){ri(e,"object",1,t),t&&(fi(e,t,["source"]),ai(e,0,"source",t.source,["default","server","cache"]))}function id(e,t,n){if(t instanceof qp){if(t.firestore!==n)throw new Wr(zr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw hi(e,"DocumentReference",1,t)}var od=Kr(Rp,"Use firebase.firestore() instead."),ad=Kr(Mp,"Use firebase.firestore().runTransaction() instead."),sd=Kr(Fp,"Use firebase.firestore().batch() instead."),ud=Kr(qp,"Use firebase.firestore().doc() instead."),cd=Kr(zp),ld=Kr(Kp),fd=Kr(Hp),hd=Kr($p),pd=Kr(Zp,"Use firebase.firestore().collection() instead."),dd={Firestore:od,GeoPoint:Wl,Timestamp:eo,Blob:_i,Transaction:ad,WriteBatch:sd,DocumentReference:ud,DocumentSnapshot:cd,Query:fd,QueryDocumentSnapshot:ld,QuerySnapshot:hd,CollectionReference:pd,FieldPath:Mh,FieldValue:fp,setLogLevel:Rp.setLogLevel,CACHE_SIZE_UNLIMITED:Ap},md=(yd.prototype.addCallback=function(e){},yd.prototype.shutdown=function(){},yd);function yd(){}var vd="ConnectivityMonitor",gd=(bd.prototype.addCallback=function(e){this.callbacks.push(e)},bd.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},bd.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},bd.prototype.onNetworkAvailable=function(){Pr(vd,"Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(0)},bd.prototype.onNetworkUnavailable=function(){Pr(vd,"Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(1)},bd.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},bd);function bd(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}var wd=(Ed.prototype.onOpen=function(e){Ur(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},Ed.prototype.onClose=function(e){Ur(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},Ed.prototype.onMessage=function(e){Ur(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},Ed.prototype.close=function(){this.closeFn()},Ed.prototype.send=function(e){this.sendFn(e)},Ed.prototype.callOnOpen=function(){Ur(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},Ed.prototype.callOnClose=function(e){Ur(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},Ed.prototype.callOnMessage=function(e){Ur(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},Ed);function Ed(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}var Td="Connection",Sd={BatchGetDocuments:"batchGet",Commit:"commit"},_d="gl-js/ fire/"+Ar,Cd=(Id.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=_d},Id.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise((function(o,a){var s=new Dr;s.listenOnce(kr.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Ir.NO_ERROR:var t=s.getResponseJson();Pr(Td,"XHR received:",JSON.stringify(t)),o(t);break;case Ir.TIMEOUT:Pr(Td,'RPC "'+e+'" timed out'),a(new Wr(zr.DEADLINE_EXCEEDED,"Request time out"));break;case Ir.HTTP_ERROR:var n=s.getStatus();if(Pr(Td,'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),0<n){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var i=function(e){var t=e.toLowerCase().replace("_","-");return 0<=Object.values(zr).indexOf(t)?t:zr.UNKNOWN}(r.status);a(new Wr(i,r.message))}else a(new Wr(zr.UNKNOWN,"Server responded with status "+s.getStatus()))}else Pr(Td,'RPC "'+e+'" failed'),a(new Wr(zr.UNAVAILABLE,"Connection failed."));break;default:Fr('RPC "'+e+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{Pr(Td,'RPC "'+e+'" completed.')}}));var u=JSON.stringify(t);Pr(Td,"XHR sending: ",i+" "+u);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),s.send(i,"POST",u,c,15)}))},Id.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},Id.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Cr(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");function a(e,t){s.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))}Pr(Td,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,c=!1,l=new wd({sendFn:function(e){c?Pr(Td,"Not sending because WebChannel is closed:",e):(u||(Pr(Td,"Opening WebChannel transport."),s.open(),u=!0),Pr(Td,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}});return a(Nr.EventType.OPEN,(function(){c||Pr(Td,"WebChannel transport opened.")})),a(Nr.EventType.CLOSE,(function(){c||(c=!0,Pr(Td,"WebChannel transport closed"),l.callOnClose())})),a(Nr.EventType.ERROR,(function(e){c||(c=!0,Pr(Td,"WebChannel transport errored:",e),l.callOnClose(new Wr(zr.UNAVAILABLE,"The operation could not be completed")))})),a(Nr.EventType.MESSAGE,(function(e){if(!c){var t=e.data[0];Ur(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){Pr(Td,"WebChannel received error:",r);var i=r.status,o=function(e){var t=ll[e];if(void 0!==t)return ml(t)}(i),a=r.message;void 0===o&&(o=zr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.callOnClose(new Wr(o,a)),s.close()}else Pr(Td,"WebChannel received:",t),l.callOnMessage(t)}})),setTimeout((function(){l.callOnOpen()}),0),l},Id.prototype.makeUrl=function(e){var t=Sd[e];Ur(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},Id);function Id(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}var kd=(Object.defineProperty(Nd.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(Nd.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),Nd.prototype.loadConnection=function(e){return Promise.resolve(new Cd(e))},Nd.prototype.newConnectivityMonitor=function(){return gd.isAvailable()?new gd:new md},Nd.prototype.newSerializer=function(e){return new Vf(e,{useProto3Json:!0})},Nd.prototype.formatJSON=function(e){return JSON.stringify(e)},Nd.prototype.atob=function(e){return atob(e)},Nd.prototype.btoa=function(e){return btoa(e)},Nd);function Nd(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}qr.setPlatform(new kd),function(e){e.INTERNAL.registerService("firestore",(function(e){return new Rp(e)}),function(e){Ur(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(dd))}(t)}).apply(this,arguments)}catch(n){throw console.error(n),new Error("Cannot instantiate firebase-firestore - be sure to load firebase-app.js first.")}}(n(22))}).call(this,n(10))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}]]);
//# sourceMappingURL=2.79fc1a57.chunk.js.map